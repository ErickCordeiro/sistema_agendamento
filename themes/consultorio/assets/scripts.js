/*! jQuery v3.4.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],E=C.document,r=Object.getPrototypeOf,s=t.slice,g=t.concat,u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},x=function(e){return null!=e&&e===e.window},c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.4.1",k=function(e,t){return new k.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function d(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:f,constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,a[t]=k.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){b(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(d(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?k.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(d(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,k="sizzle"+1*new Date,m=n.document,S=0,r=0,p=ue(),x=ue(),N=ue(),A=ue(),D=function(e,t){return e===t&&(l=!0),0},j={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",$=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",F=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp($),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(m.childNodes),m.childNodes),t[m.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:m)!==C&&T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!A[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&U.test(t)){(s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=k),o=(l=h(t)).length;while(o--)l[o]="#"+s+" "+xe(l[o]);c=l.join(","),f=ee.test(t)&&ye(e.parentNode)||e}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){A(t,!0)}finally{s===k&&e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[k]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:m;return r!==C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),m!==C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=k,!C.getElementsByName||!C.getElementsByName(k).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){a.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+k+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||v.push(".#.+[+~]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",$)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===C||e.ownerDocument===m&&y(m,e)?-1:t===C||t.ownerDocument===m&&y(m,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===C?-1:t===C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]===m?-1:s[r]===m?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&T(e),d.matchesSelector&&E&&!A[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){A(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!==C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&j.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(D),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=p[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&p(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(F," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[S,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[S,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[k]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace(B,"$1"));return s[k]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[S,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[k]||(e[k]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===S&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[k]&&(v=Ce(v)),y&&!y[k]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(B,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=N[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[k]?i.push(a):o.push(a);(a=N(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=S+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t===C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument===C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(S=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(S=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=k.split("").sort(D).join("")===k,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);k.find=h,k.expr=h.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=h.uniqueSort,k.text=h.getText,k.isXMLDoc=h.isXML,k.contains=h.contains,k.escapeSelector=h.escape;var T=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},N=k.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?k.grep(e,function(e){return e===n!==r}):"string"!=typeof n?k.grep(e,function(e){return-1<i.call(n,e)!==r}):k.filter(n,e,r)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return 1<r?k.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&N.test(e)?k(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||q,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:L.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),D.test(r[1])&&k.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,q=k(E);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&k(e);if(!N.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(k(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return"undefined"!=typeof e.contentDocument?e.contentDocument:(A(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(r,i){k.fn[r]=function(e,t){var n=k.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(O[r]||k.uniqueSort(n),H.test(r)&&n.reverse()),this.pushStack(n)}});var R=/[^\x20\t\r\n\f]+/g;function M(e){return e}function I(e){throw e}function W(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},k.each(e.match(R)||[],function(e,t){n[t]=!0}),n):k.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){k.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return k.each(arguments,function(e,t){var n;while(-1<(n=k.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<k.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},k.extend({Deferred:function(e){var o=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return k.Deferred(function(r){k.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,M,s),l(u,o,I,s)):(u++,t.call(e,l(u,o,M,s),l(u,o,I,s),l(u,o,M,o.notifyWith))):(a!==M&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==I&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),C.setTimeout(t))}}return k.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:M,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:M)),o[2][3].add(l(0,e,m(n)?n:I))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},s={};return k.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=k.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(W(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)W(i[t],a(t),o.reject);return o.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&$.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){C.setTimeout(function(){throw e})};var F=k.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),k.ready()}k.fn.ready=function(e){return F.then(e)["catch"](function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||F.resolveWith(E,[k])}}),k.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(k.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var _=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)_(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(k(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},z=/^-ms-/,U=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function V(e){return e.replace(z,"ms-").replace(U,X)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=k.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[V(t)]=n;else for(r in t)i[V(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in r?[t]:t.match(R)||[]).length;while(n--)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var Q=new Y,J=new Y,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function ee(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:K.test(i)?JSON.parse(i):i)}catch(e){}J.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=J.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=V(r.slice(5)),ee(o,r,i[r]));Q.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){J.set(this,n)}):_(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=J.get(o,n))?t:void 0!==(t=ee(o,n))?t:void 0;this.each(function(){J.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){k.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:k.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Q.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ie=E.documentElement,oe=function(e){return k.contains(e.ownerDocument,e)},ae={composed:!0};ie.getRootNode&&(oe=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===k.css(e,"display")},ue=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};function le(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,"")},u=s(),l=n&&n[3]||(k.cssNumber[t]?"":"px"),c=e.nodeType&&(k.cssNumber[t]||"px"!==l&&+u)&&ne.exec(k.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)k.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,k.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ce={};function fe(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Q.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&se(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ce[s])||(o=a.body.appendChild(a.createElement(s)),u=k.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ce[s]=u)))):"none"!==n&&(l[c]="none",Q.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}k.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?k(this).show():k(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?k.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var me,xe,be=/<|&#?\w+;/;function we(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))k.merge(p,o.nodeType?[o]:o);else if(be.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+k.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;k.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<k.inArray(o,r))i&&i.push(o);else if(l=oe(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}me=E.createDocumentFragment().appendChild(E.createElement("div")),(xe=E.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),me.appendChild(xe),y.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue;var Te=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ee=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function Se(){return!1}function Ne(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ae(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ae(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Se;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each(function(){k.event.add(this,t,i,r,n)})}function De(e,i,o){o?(Q.set(e,i,!1),k.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Q.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(k.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Q.set(this,i,r),t=o(this,i),this[i](),r!==(n=Q.get(this,i))||t?Q.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(Q.set(this,i,{value:k.event.trigger(k.extend(r[0],k.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,i)&&k.event.add(e,i,ke)}k.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.get(t);if(v){n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(ie,i),n.guid||(n.guid=k.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(R)||[""]).length;while(l--)d=g=(s=Ee.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=k.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=k.event.special[d]||{},c=k.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),k.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.hasData(e)&&Q.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(R)||[""]).length;while(l--)if(d=g=(s=Ee.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=k.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||k.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)k.event.remove(e,d+t[l],n,r,!0);k.isEmptyObject(u)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=k.event.fix(e),u=new Array(arguments.length),l=(Q.get(this,"events")||{})[s.type]||[],c=k.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){a=k.event.handlers.call(this,s,l),t=0;while((i=a[t++])&&!s.isPropagationStopped()){s.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!s.isImmediatePropagationStopped())s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<k(i,this).index(l):k.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&De(t,"click",ke),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Q.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(e,t){k.event.special[e]={setup:function(){return De(this,e,Ne),!1},trigger:function(){return De(this,e),!0},delegateType:t}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){k.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),k.fn.extend({on:function(e,t,n,r){return Ae(this,e,t,n,r)},one:function(e,t,n,r){return Ae(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each(function(){k.event.remove(this,e,n,t)})}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,qe=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.access(e),a=Q.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)k.event.add(t,i,l[i][n]);J.hasData(e)&&(s=J.access(e),u=k.extend({},s),J.set(t,u))}}function Ie(n,r,i,o){r=g.apply([],r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Le.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Ie(t,r,i,o)});if(f&&(t=(e=we(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=k.map(ve(e,"script"),Pe)).length;c<f;c++)u=e,c!==p&&(u=k.clone(u,!0,!0),s&&k.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,k.map(a,Re),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Q.access(u,"globalEval")&&k.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?k._evalUrl&&!u.noModule&&k._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):b(u.textContent.replace(He,""),u,l))}return n}function We(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(ve(r)),r.parentNode&&(n&&oe(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e.replace(je,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=oe(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Me(o[r],a[r]);else Me(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(G(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),k.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return _(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ie(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Ie(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!qe.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Ie(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){k.fn[e]=function(e){for(var t,n=[],r=k(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),k(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var $e=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Be=new RegExp(re.join("|"),"i");function _e(e,t,n){var r,i,o,a,s=e.style;return(n=n||Fe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||oe(e)||(a=k.style(e,t)),!y.pixelBoxStyles()&&$e.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(s).appendChild(u);var e=C.getComputedStyle(u);n="1%"!==e.top,a=12===t(e.marginLeft),u.style.right="60%",o=36===t(e.right),r=36===t(e.width),u.style.position="absolute",i=12===t(u.offsetWidth/3),ie.removeChild(s),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s=E.createElement("div"),u=E.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),i}}))}();var Ue=["Webkit","Moz","ms"],Xe=E.createElement("div").style,Ve={};function Ge(e){var t=k.cssProps[e]||Ve[e];return t||(e in Xe?e:Ve[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Ue.length;while(n--)if((e=Ue[n]+t)in Xe)return e}(e)||e)}var Ye=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"};function Ze(e,t,n){var r=ne.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function et(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=k.css(e,n+re[a],!0,i)),r?("content"===n&&(u-=k.css(e,"padding"+re[a],!0,i)),"margin"!==n&&(u-=k.css(e,"border"+re[a]+"Width",!0,i))):(u+=k.css(e,"padding"+re[a],!0,i),"padding"!==n?u+=k.css(e,"border"+re[a]+"Width",!0,i):s+=k.css(e,"border"+re[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function tt(e,t,n){var r=Fe(e),i=(!y.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),o=i,a=_e(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if($e.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+et(e,t,n||(i?"border":"content"),o,r,a)+"px"}function nt(e,t,n,r,i){return new nt.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_e(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=V(t),u=Qe.test(t),l=e.style;if(u||(t=Ge(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=ne.exec(n))&&i[1]&&(n=le(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(k.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=V(t);return Qe.test(t)||(t=Ge(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=_e(e,t,r)),"normal"===i&&t in Ke&&(i=Ke[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],function(e,u){k.cssHooks[u]={get:function(e,t,n){if(t)return!Ye.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,u,n):ue(e,Je,function(){return tt(e,u,n)})},set:function(e,t,n){var r,i=Fe(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===k.css(e,"boxSizing",!1,i),s=n?et(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-et(e,u,"border",!1,i)-.5)),s&&(r=ne.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=k.css(e,u)),Ze(0,t,s)}}}),k.cssHooks.marginLeft=ze(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(_e(e,"marginLeft"))||e.getBoundingClientRect().left-ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(i,o){k.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+re[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(k.cssHooks[i+o].set=Ze)}),k.fn.extend({css:function(e,t){return _(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Fe(e),i=t.length;a<i;a++)o[t[a]]=k.css(e,t[a],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),((k.Tween=nt).prototype={constructor:nt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}}).init.prototype=nt.prototype,(nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ge(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=nt.prototype.init,k.fx.step={};var rt,it,ot,at,st=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function lt(){it&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(lt):C.setTimeout(lt,k.fx.interval),k.fx.tick())}function ct(){return C.setTimeout(function(){rt=void 0}),rt=Date.now()}function ft(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=re[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function pt(e,t,n){for(var r,i=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function dt(o,e,t){var n,a,r=0,i=dt.prefilters.length,s=k.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=rt||ct(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:rt||ct(),duration:t.duration,tweens:[],createTween:function(e,t){var n=k.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=V(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=dt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(k._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return k.map(c,pt,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),k.fx.timer(k.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}k.Animation=k.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(R);for(var n,r=0,i=e.length;r<i;r++)n=e[r],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&se(e),v=Q.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],st.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||k.style(e,r)}if((u=!k.isEmptyObject(t))||!k.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Q.get(e,"display")),"none"===(c=k.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=k.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===k.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Q.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&fe([e],!0),p.done(function(){for(r in g||fe([e]),Q.remove(e,"fxshow"),d)k.style(e,r,d[r])})),u=pt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=k.isEmptyObject(t),o=k.speed(e,n,r),a=function(){var e=dt(this,k.extend({},t),o);(i||Q.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=k.timers,r=Q.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&ut.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||k.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Q.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=k.timers,o=n?n.length:0;for(t.finish=!0,k.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,r){var i=k.fn[r];k.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(ft(r,!0),e,t,n)}}),k.each({slideDown:ft("show"),slideUp:ft("hide"),slideToggle:ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){k.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(rt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),rt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){it||(it=!0,lt())},k.fx.stop=function(){it=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},ot=E.createElement("input"),at=E.createElement("select").appendChild(E.createElement("option")),ot.type="checkbox",y.checkOn=""!==ot.value,y.optSelected=at.selected,(ot=E.createElement("input")).value="t",ot.type="radio",y.radioValue="t"===ot.value;var ht,gt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return _(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(R);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var a=gt[t]||k.find.attr;gt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=gt[o],gt[o]=r,r=null!=a(e,t,n)?o:null,gt[o]=i),r}});var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function mt(e){return(e.match(R)||[]).join(" ")}function xt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(R)||[]}k.fn.extend({prop:function(e,t){return _(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){k(this).addClass(t.call(this,e,xt(this)))});if((e=bt(t)).length)while(n=this[u++])if(i=xt(n),r=1===n.nodeType&&" "+mt(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=mt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){k(this).removeClass(t.call(this,e,xt(this)))});if(!arguments.length)return this.attr("class","");if((e=bt(t)).length)while(n=this[u++])if(i=xt(n),r=1===n.nodeType&&" "+mt(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=mt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){k(this).toggleClass(i.call(this,e,xt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=k(this),r=bt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=xt(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+mt(xt(n))+" ").indexOf(t))return!0;return!1}});var wt=/\r/g;k.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,k(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=k.map(t,function(e){return null==e?"":e+""})),(r=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=k.valHooks[t.type]||k.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(wt,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:mt(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=k.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<k.inArray(k.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},y.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var Tt=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!Tt.test(d+k.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[k.expando]?e:new k.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),c=k.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,Tt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Q.get(o,"events")||{})[e.type]&&Q.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&G(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!G(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),k.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Ct),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Ct),k.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),y.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){k.event.simulate(r,e.target,k.event.fix(e))};k.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=Q.access(e,r);t||e.addEventListener(n,i,!0),Q.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Q.access(e,r)-1;t?Q.access(e,r,t):(e.removeEventListener(n,i,!0),Q.remove(e,r))}}});var Et=C.location,kt=Date.now(),St=/\?/;k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var Nt=/\[\]$/,At=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function qt(n,e,r,i){var t;if(Array.isArray(e))k.each(e,function(e,t){r||Nt.test(n)?i(n,t):qt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)qt(n+"["+t+"]",e[t],r,i)}k.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){i(this.name,this.value)});else for(n in e)qt(n,e[n],t,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&jt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:n.replace(At,"\r\n")}}).get()}});var Lt=/%20/g,Ht=/#.*$/,Ot=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Mt=/^\/\//,It={},Wt={},$t="*/".concat("*"),Ft=E.createElement("a");function Bt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(R)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function _t(t,i,o,a){var s={},u=t===Wt;function l(e){var r;return s[e]=!0,k.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function zt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Ft.href=Et.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,k.ajaxSettings),t):zt(k.ajaxSettings,e)},ajaxPrefilter:Bt(It),ajaxTransport:Bt(Wt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=k.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?k(y):k.event,x=k.Deferred(),b=k.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Pt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+"").replace(Mt,Et.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(R)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Ft.protocol+"//"+Ft.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=k.param(v.data,v.traditional)),_t(It,v,t,T),h)return T;for(i in(g=k.event&&v.global)&&0==k.active++&&k.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Rt.test(v.type),f=v.url.replace(Ht,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Lt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(St.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Ot,"$1"),o=(St.test(f)?"&":"?")+"_="+kt+++o),v.url=f+o),v.ifModified&&(k.lastModified[f]&&T.setRequestHeader("If-Modified-Since",k.lastModified[f]),k.etag[f]&&T.setRequestHeader("If-None-Match",k.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+$t+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=_t(Wt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(k.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(k.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--k.active||k.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,i){k[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),k.ajax(k.extend({url:e,type:i,dataType:r,data:t,success:n},k.isPlainObject(e)&&e))}}),k._evalUrl=function(e,t){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},Xt=k.ajaxSettings.xhr();y.cors=!!Xt&&"withCredentials"in Xt,y.ajax=Xt=!!Xt,k.ajaxTransport(function(i){var o,a;if(y.cors||Xt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Ut[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=k("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Vt,Gt=[],Yt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||k.expando+"_"+kt++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Yt,"$1"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||k.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?k(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((Vt=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Vt.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=D.exec(e))?[t.createElement(i[1])]:(i=we([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=mt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=k.css(e,"position"),c=k(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=k.css(e,"top"),u=k.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===k.css(e,"position"))e=e.offsetParent;return e||ie})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;k.fn[t]=function(e){return _(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=ze(y.pixelPosition,function(e,t){if(t)return t=_e(e,n),$e.test(t)?k(e).position()[n]+"px":t})}),k.each({Height:"height",Width:"width"},function(a,s){k.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){k.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return _(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?k.css(e,t,i):k.style(e,t,n,i)},s,n?e:void 0,n)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),k.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=A,k.isFunction=m,k.isWindow=x,k.camelCase=V,k.type=w,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var Qt=C.jQuery,Jt=C.$;return k.noConflict=function(e){return C.$===k&&(C.$=Jt),e&&C.jQuery===k&&(C.jQuery=Qt),k},e||(C.jQuery=C.$=k),k});/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){"use strict";function t(t){var r=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(r))}function r(t){var r=t.target,a=e(r);if(!a.is("[type=submit],[type=image]")){var n=a.closest("[type=submit]");if(0===n.length)return;r=n[0]}var i=this;if(i.clk=r,"image"==r.type)if(void 0!==t.offsetX)i.clk_x=t.offsetX,i.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=a.offset();i.clk_x=t.pageX-o.left,i.clk_y=t.pageY-o.top}else i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop;setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function a(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n={};n.fileapi=void 0!==e("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData;var i=!!e.fn.prop;e.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function r(r){var a,n,i=e.param(r,t.traditional).split("&"),o=i.length,s=[];for(a=0;o>a;a++)i[a]=i[a].replace(/\+/g," "),n=i[a].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}function o(a){for(var n=new FormData,i=0;i<a.length;i++)n.append(a[i].name,a[i].value);if(t.extraData){var o=r(t.extraData);for(i=0;i<o.length;i++)o[i]&&n.append(o[i][0],o[i][1])}t.data=null;var s=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:u||"POST"});t.uploadProgress&&(s.xhr=function(){var r=e.ajaxSettings.xhr();return r.upload&&r.upload.addEventListener("progress",function(e){var r=0,a=e.loaded||e.position,n=e.total;e.lengthComputable&&(r=Math.ceil(a/n*100)),t.uploadProgress(e,a,n,r)},!1),r}),s.data=null;var c=s.beforeSend;return s.beforeSend=function(e,r){r.data=t.formData?t.formData:n,c&&c.call(this,e,r)},e.ajax(s)}function s(r){function n(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(r){a("cannot get iframe.contentWindow document: "+r)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(r){a("cannot get iframe.contentDocument: "+r),t=e.document}return t}function o(){function t(){try{var e=n(g).readyState;a("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(r){a("Server abort: ",r," (",r.name,")"),s(k),j&&clearTimeout(j),j=void 0}}var r=f.attr2("target"),i=f.attr2("action"),o="multipart/form-data",c=f.attr("enctype")||f.attr("encoding")||o;w.setAttribute("target",p),(!u||/post/i.test(u))&&w.setAttribute("method","POST"),i!=m.url&&w.setAttribute("action",m.url),m.skipEncodingOverride||u&&!/post/i.test(u)||f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),m.timeout&&(j=setTimeout(function(){T=!0,s(D)},m.timeout));var l=[];try{if(m.extraData)for(var d in m.extraData)m.extraData.hasOwnProperty(d)&&l.push(e.isPlainObject(m.extraData[d])&&m.extraData[d].hasOwnProperty("name")&&m.extraData[d].hasOwnProperty("value")?e('<input type="hidden" name="'+m.extraData[d].name+'">').val(m.extraData[d].value).appendTo(w)[0]:e('<input type="hidden" name="'+d+'">').val(m.extraData[d]).appendTo(w)[0]);m.iframeTarget||v.appendTo("body"),g.attachEvent?g.attachEvent("onload",s):g.addEventListener("load",s,!1),setTimeout(t,15);try{w.submit()}catch(h){var x=document.createElement("form").submit;x.apply(w)}}finally{w.setAttribute("action",i),w.setAttribute("enctype",c),r?w.setAttribute("target",r):f.removeAttr("target"),e(l).remove()}}function s(t){if(!x.aborted&&!F){if(M=n(g),M||(a("cannot access response document"),t=k),t===D&&x)return x.abort("timeout"),void S.reject(x,"timeout");if(t==k&&x)return x.abort("server abort"),void S.reject(x,"error","server abort");if(M&&M.location.href!=m.iframeSrc||T){g.detachEvent?g.detachEvent("onload",s):g.removeEventListener("load",s,!1);var r,i="success";try{if(T)throw"timeout";var o="xml"==m.dataType||M.XMLDocument||e.isXMLDoc(M);if(a("isXml="+o),!o&&window.opera&&(null===M.body||!M.body.innerHTML)&&--O)return a("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var u=M.body?M.body:M.documentElement;x.responseText=u?u.innerHTML:null,x.responseXML=M.XMLDocument?M.XMLDocument:M,o&&(m.dataType="xml"),x.getResponseHeader=function(e){var t={"content-type":m.dataType};return t[e.toLowerCase()]},u&&(x.status=Number(u.getAttribute("status"))||x.status,x.statusText=u.getAttribute("statusText")||x.statusText);var c=(m.dataType||"").toLowerCase(),l=/(json|script|text)/.test(c);if(l||m.textarea){var f=M.getElementsByTagName("textarea")[0];if(f)x.responseText=f.value,x.status=Number(f.getAttribute("status"))||x.status,x.statusText=f.getAttribute("statusText")||x.statusText;else if(l){var p=M.getElementsByTagName("pre")[0],h=M.getElementsByTagName("body")[0];p?x.responseText=p.textContent?p.textContent:p.innerText:h&&(x.responseText=h.textContent?h.textContent:h.innerText)}}else"xml"==c&&!x.responseXML&&x.responseText&&(x.responseXML=X(x.responseText));try{E=_(x,c,m)}catch(y){i="parsererror",x.error=r=y||i}}catch(y){a("error caught: ",y),i="error",x.error=r=y||i}x.aborted&&(a("upload aborted"),i=null),x.status&&(i=x.status>=200&&x.status<300||304===x.status?"success":"error"),"success"===i?(m.success&&m.success.call(m.context,E,"success",x),S.resolve(x.responseText,"success",x),d&&e.event.trigger("ajaxSuccess",[x,m])):i&&(void 0===r&&(r=x.statusText),m.error&&m.error.call(m.context,x,i,r),S.reject(x,"error",r),d&&e.event.trigger("ajaxError",[x,m,r])),d&&e.event.trigger("ajaxComplete",[x,m]),d&&!--e.active&&e.event.trigger("ajaxStop"),m.complete&&m.complete.call(m.context,x,i),F=!0,m.timeout&&clearTimeout(j),setTimeout(function(){m.iframeTarget?v.attr("src",m.iframeSrc):v.remove(),x.responseXML=null},100)}}}var c,l,m,d,p,v,g,x,y,b,T,j,w=f[0],S=e.Deferred();if(S.abort=function(e){x.abort(e)},r)for(l=0;l<h.length;l++)c=e(h[l]),i?c.prop("disabled",!1):c.removeAttr("disabled");if(m=e.extend(!0,{},e.ajaxSettings,t),m.context=m.context||m,p="jqFormIO"+(new Date).getTime(),m.iframeTarget?(v=e(m.iframeTarget),b=v.attr2("name"),b?p=b:v.attr2("name",p)):(v=e('<iframe name="'+p+'" src="'+m.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=v[0],x={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var r="timeout"===t?"timeout":"aborted";a("aborting upload... "+r),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(n){}v.attr("src",m.iframeSrc),x.error=r,m.error&&m.error.call(m.context,x,r,t),d&&e.event.trigger("ajaxError",[x,m,r]),m.complete&&m.complete.call(m.context,x,r)}},d=m.global,d&&0===e.active++&&e.event.trigger("ajaxStart"),d&&e.event.trigger("ajaxSend",[x,m]),m.beforeSend&&m.beforeSend.call(m.context,x,m)===!1)return m.global&&e.active--,S.reject(),S;if(x.aborted)return S.reject(),S;y=w.clk,y&&(b=y.name,b&&!y.disabled&&(m.extraData=m.extraData||{},m.extraData[b]=y.value,"image"==y.type&&(m.extraData[b+".x"]=w.clk_x,m.extraData[b+".y"]=w.clk_y)));var D=1,k=2,A=e("meta[name=csrf-token]").attr("content"),L=e("meta[name=csrf-param]").attr("content");L&&A&&(m.extraData=m.extraData||{},m.extraData[L]=A),m.forceSync?o():setTimeout(o,10);var E,M,F,O=50,X=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},C=e.parseJSON||function(e){return window.eval("("+e+")")},_=function(t,r,a){var n=t.getResponseHeader("content-type")||"",i="xml"===r||!r&&n.indexOf("xml")>=0,o=i?t.responseXML:t.responseText;return i&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),a&&a.dataFilter&&(o=a.dataFilter(o,r)),"string"==typeof o&&("json"===r||!r&&n.indexOf("json")>=0?o=C(o):("script"===r||!r&&n.indexOf("javascript")>=0)&&e.globalEval(o)),o};return S}if(!this.length)return a("ajaxSubmit: skipping submit process - no element selected"),this;var u,c,l,f=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),u=t.type||this.attr2("method"),c=t.url||this.attr2("action"),l="string"==typeof c?e.trim(c):"",l=l||window.location.href||"",l&&(l=(l.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:l,success:e.ajaxSettings.success,type:u||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var m={};if(this.trigger("form-pre-serialize",[this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return a("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=t.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var p,h=[],v=this.formToArray(t.semantic,h);if(t.data&&(t.extraData=t.data,p=e.param(t.data,d)),t.beforeSubmit&&t.beforeSubmit(v,this,t)===!1)return a("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[v,this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=e.param(v,d);p&&(g=g?g+"&"+p:p),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+g,t.data=null):t.data=g;var x=[];if(t.resetForm&&x.push(function(){f.resetForm()}),t.clearForm&&x.push(function(){f.clearForm(t.includeHidden)}),!t.dataType&&t.target){var y=t.success||function(){};x.push(function(r){var a=t.replaceTarget?"replaceWith":"html";e(t.target)[a](r).each(y,arguments)})}else t.success&&x.push(t.success);if(t.success=function(e,r,a){for(var n=t.context||this,i=0,o=x.length;o>i;i++)x[i].apply(n,[e,r,a||f,f])},t.error){var b=t.error;t.error=function(e,r,a){var n=t.context||this;b.apply(n,[e,r,a,f])}}if(t.complete){var T=t.complete;t.complete=function(e,r){var a=t.context||this;T.apply(a,[e,r,f])}}var j=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),w=j.length>0,S="multipart/form-data",D=f.attr("enctype")==S||f.attr("encoding")==S,k=n.fileapi&&n.formdata;a("fileAPI :"+k);var A,L=(w||D)&&!k;t.iframe!==!1&&(t.iframe||L)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){A=s(v)}):A=s(v):A=(w||D)&&k?o(v):e.ajax(t),f.removeData("jqxhr").data("jqxhr",A);for(var E=0;E<h.length;E++)h[E]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n){if(n=n||{},n.delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var i={s:this.selector,c:this.context};return!e.isReady&&i.s?(a("DOM not ready, queuing ajaxForm"),e(function(){e(i.s,i.c).ajaxForm(n)}),this):(a("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,t).bind("click.form-plugin",n,r)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,r){var a=[];if(0===this.length)return a;var i,o=this[0],s=this.attr("id"),u=t?o.getElementsByTagName("*"):o.elements;if(u&&!/MSIE [678]/.test(navigator.userAgent)&&(u=e(u).get()),s&&(i=e(':input[form="'+s+'"]').get(),i.length&&(u=(u||[]).concat(i))),!u||!u.length)return a;var c,l,f,m,d,p,h;for(c=0,p=u.length;p>c;c++)if(d=u[c],f=d.name,f&&!d.disabled)if(t&&o.clk&&"image"==d.type)o.clk==d&&(a.push({name:f,value:e(d).val(),type:d.type}),a.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}));else if(m=e.fieldValue(d,!0),m&&m.constructor==Array)for(r&&r.push(d),l=0,h=m.length;h>l;l++)a.push({name:f,value:m[l]});else if(n.fileapi&&"file"==d.type){r&&r.push(d);var v=d.files;if(v.length)for(l=0;l<v.length;l++)a.push({name:f,value:v[l],type:d.type});else a.push({name:f,value:"",type:d.type})}else null!==m&&"undefined"!=typeof m&&(r&&r.push(d),a.push({name:f,value:m,type:d.type,required:d.required}));if(!t&&o.clk){var g=e(o.clk),x=g[0];f=x.name,f&&!x.disabled&&"image"==x.type&&(a.push({name:f,value:g.val()}),a.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}))}return a},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var r=[];return this.each(function(){var a=this.name;if(a){var n=e.fieldValue(this,t);if(n&&n.constructor==Array)for(var i=0,o=n.length;o>i;i++)r.push({name:a,value:n[i]});else null!==n&&"undefined"!=typeof n&&r.push({name:this.name,value:n})}}),e.param(r)},e.fn.fieldValue=function(t){for(var r=[],a=0,n=this.length;n>a;a++){var i=this[a],o=e.fieldValue(i,t);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(r,o):r.push(o))}return r},e.fieldValue=function(t,r){var a=t.name,n=t.type,i=t.tagName.toLowerCase();if(void 0===r&&(r=!0),r&&(!a||t.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!t.checked||("submit"==n||"image"==n)&&t.form&&t.form.clk!=t||"select"==i&&-1==t.selectedIndex))return null;if("select"==i){var o=t.selectedIndex;if(0>o)return null;for(var s=[],u=t.options,c="select-one"==n,l=c?o+1:u.length,f=c?o:0;l>f;f++){var m=u[f];if(m.selected){var d=m.value;if(d||(d=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),c)return d;s.push(d)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var r=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var a=this.type,n=this.tagName.toLowerCase();r.test(a)||"textarea"==n?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==a?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(a)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type;if("checkbox"==r||"radio"==r)this.checked=t;else if("option"==this.tagName.toLowerCase()){var a=e(this).parent("select");t&&a[0]&&"select-one"==a[0].type&&a.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1});(function(factory,jQuery,Zepto){if(typeof define==='function'&&define.amd){define(['jquery'],factory)}else if(typeof exports==='object'){module.exports=factory(require('jquery'))}else{factory(jQuery||Zepto)}}(function($){'use strict';var Mask=function(el,mask,options){var p={invalid:[],getCaret:function(){try{var sel,pos=0,ctrl=el.get(0),dSel=document.selection,cSelStart=ctrl.selectionStart;if(dSel&&navigator.appVersion.indexOf('MSIE 10')===-1){sel=dSel.createRange();sel.moveStart('character',-p.val().length);pos=sel.text.length}else if(cSelStart||cSelStart==='0'){pos=cSelStart}
return pos}catch(e){}},setCaret:function(pos){try{if(el.is(':focus')){var range,ctrl=el.get(0);if(ctrl.setSelectionRange){ctrl.setSelectionRange(pos,pos)}else{range=ctrl.createTextRange();range.collapse(!0);range.moveEnd('character',pos);range.moveStart('character',pos);range.select()}}}catch(e){}},events:function(){el.on('keydown.mask',function(e){el.data('mask-keycode',e.keyCode||e.which);el.data('mask-previus-value',el.val());el.data('mask-previus-caret-pos',p.getCaret());p.maskDigitPosMapOld=p.maskDigitPosMap}).on($.jMaskGlobals.useInput?'input.mask':'keyup.mask',p.behaviour).on('paste.mask drop.mask',function(){setTimeout(function(){el.keydown().keyup()},100)}).on('change.mask',function(){el.data('changed',!0)}).on('blur.mask',function(){if(oldValue!==p.val()&&!el.data('changed')){el.trigger('change')}
el.data('changed',!1)}).on('blur.mask',function(){oldValue=p.val()}).on('focus.mask',function(e){if(options.selectOnFocus===!0){$(e.target).select()}}).on('focusout.mask',function(){if(options.clearIfNotMatch&&!regexMask.test(p.val())){p.val('')}})},getRegexMask:function(){var maskChunks=[],translation,pattern,optional,recursive,oRecursive,r;for(var i=0;i<mask.length;i++){translation=jMask.translation[mask.charAt(i)];if(translation){pattern=translation.pattern.toString().replace(/.{1}$|^.{1}/g,'');optional=translation.optional;recursive=translation.recursive;if(recursive){maskChunks.push(mask.charAt(i));oRecursive={digit:mask.charAt(i),pattern:pattern}}else{maskChunks.push(!optional&&!recursive?pattern:(pattern+'?'))}}else{maskChunks.push(mask.charAt(i).replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&'))}}
r=maskChunks.join('');if(oRecursive){r=r.replace(new RegExp('('+oRecursive.digit+'(.*'+oRecursive.digit+')?)'),'($1)?').replace(new RegExp(oRecursive.digit,'g'),oRecursive.pattern)}
return new RegExp(r)},destroyEvents:function(){el.off(['input','keydown','keyup','paste','drop','blur','focusout',''].join('.mask '))},val:function(v){var isInput=el.is('input'),method=isInput?'val':'text',r;if(arguments.length>0){if(el[method]()!==v){el[method](v)}
r=el}else{r=el[method]()}
return r},calculateCaretPosition:function(){var oldVal=el.data('mask-previus-value')||'',newVal=p.getMasked(),caretPosNew=p.getCaret();if(oldVal!==newVal){var caretPosOld=el.data('mask-previus-caret-pos')||0,newValL=newVal.length,oldValL=oldVal.length,maskDigitsBeforeCaret=0,maskDigitsAfterCaret=0,maskDigitsBeforeCaretAll=0,maskDigitsBeforeCaretAllOld=0,i=0;for(i=caretPosNew;i<newValL;i++){if(!p.maskDigitPosMap[i]){break}
maskDigitsAfterCaret++}
for(i=caretPosNew-1;i>=0;i--){if(!p.maskDigitPosMap[i]){break}
maskDigitsBeforeCaret++}
for(i=caretPosNew-1;i>=0;i--){if(p.maskDigitPosMap[i]){maskDigitsBeforeCaretAll++}}
for(i=caretPosOld-1;i>=0;i--){if(p.maskDigitPosMapOld[i]){maskDigitsBeforeCaretAllOld++}}
if(caretPosNew>oldValL){caretPosNew=newValL*10}else if(caretPosOld>=caretPosNew&&caretPosOld!==oldValL){if(!p.maskDigitPosMapOld[caretPosNew]){var caretPos=caretPosNew;caretPosNew-=maskDigitsBeforeCaretAllOld-maskDigitsBeforeCaretAll;caretPosNew-=maskDigitsBeforeCaret;if(p.maskDigitPosMap[caretPosNew]){caretPosNew=caretPos}}}else if(caretPosNew>caretPosOld){caretPosNew+=maskDigitsBeforeCaretAll-maskDigitsBeforeCaretAllOld;caretPosNew+=maskDigitsAfterCaret}}
return caretPosNew},behaviour:function(e){e=e||window.event;p.invalid=[];var keyCode=el.data('mask-keycode');if($.inArray(keyCode,jMask.byPassKeys)===-1){var newVal=p.getMasked(),caretPos=p.getCaret();setTimeout(function(){p.setCaret(p.calculateCaretPosition())},$.jMaskGlobals.keyStrokeCompensation);p.val(newVal);p.setCaret(caretPos);return p.callbacks(e)}},getMasked:function(skipMaskChars,val){var buf=[],value=val===undefined?p.val():val+'',m=0,maskLen=mask.length,v=0,valLen=value.length,offset=1,addMethod='push',resetPos=-1,maskDigitCount=0,maskDigitPosArr=[],lastMaskChar,check;if(options.reverse){addMethod='unshift';offset=-1;lastMaskChar=0;m=maskLen-1;v=valLen-1;check=function(){return m>-1&&v>-1}}else{lastMaskChar=maskLen-1;check=function(){return m<maskLen&&v<valLen}}
var lastUntranslatedMaskChar;while(check()){var maskDigit=mask.charAt(m),valDigit=value.charAt(v),translation=jMask.translation[maskDigit];if(translation){if(valDigit.match(translation.pattern)){buf[addMethod](valDigit);if(translation.recursive){if(resetPos===-1){resetPos=m}else if(m===lastMaskChar&&m!==resetPos){m=resetPos-offset}
if(lastMaskChar===resetPos){m-=offset}}
m+=offset}else if(valDigit===lastUntranslatedMaskChar){maskDigitCount--;lastUntranslatedMaskChar=undefined}else if(translation.optional){m+=offset;v-=offset}else if(translation.fallback){buf[addMethod](translation.fallback);m+=offset;v-=offset}else{p.invalid.push({p:v,v:valDigit,e:translation.pattern})}
v+=offset}else{if(!skipMaskChars){buf[addMethod](maskDigit)}
if(valDigit===maskDigit){maskDigitPosArr.push(v);v+=offset}else{lastUntranslatedMaskChar=maskDigit;maskDigitPosArr.push(v+maskDigitCount);maskDigitCount++}
m+=offset}}
var lastMaskCharDigit=mask.charAt(lastMaskChar);if(maskLen===valLen+1&&!jMask.translation[lastMaskCharDigit]){buf.push(lastMaskCharDigit)}
var newVal=buf.join('');p.mapMaskdigitPositions(newVal,maskDigitPosArr,valLen);return newVal},mapMaskdigitPositions:function(newVal,maskDigitPosArr,valLen){var maskDiff=options.reverse?newVal.length-valLen:0;p.maskDigitPosMap={};for(var i=0;i<maskDigitPosArr.length;i++){p.maskDigitPosMap[maskDigitPosArr[i]+maskDiff]=1}},callbacks:function(e){var val=p.val(),changed=val!==oldValue,defaultArgs=[val,e,el,options],callback=function(name,criteria,args){if(typeof options[name]==='function'&&criteria){options[name].apply(this,args)}};callback('onChange',changed===!0,defaultArgs);callback('onKeyPress',changed===!0,defaultArgs);callback('onComplete',val.length===mask.length,defaultArgs);callback('onInvalid',p.invalid.length>0,[val,e,el,p.invalid,options])}};el=$(el);var jMask=this,oldValue=p.val(),regexMask;mask=typeof mask==='function'?mask(p.val(),undefined,el,options):mask;jMask.mask=mask;jMask.options=options;jMask.remove=function(){var caret=p.getCaret();if(jMask.options.placeholder){el.removeAttr('placeholder')}
if(el.data('mask-maxlength')){el.removeAttr('maxlength')}
p.destroyEvents();p.val(jMask.getCleanVal());p.setCaret(caret);return el};jMask.getCleanVal=function(){return p.getMasked(!0)};jMask.getMaskedVal=function(val){return p.getMasked(!1,val)};jMask.init=function(onlyMask){onlyMask=onlyMask||!1;options=options||{};jMask.clearIfNotMatch=$.jMaskGlobals.clearIfNotMatch;jMask.byPassKeys=$.jMaskGlobals.byPassKeys;jMask.translation=$.extend({},$.jMaskGlobals.translation,options.translation);jMask=$.extend(!0,{},jMask,options);regexMask=p.getRegexMask();if(onlyMask){p.events();p.val(p.getMasked())}else{if(options.placeholder){el.attr('placeholder',options.placeholder)}
if(el.data('mask')){el.attr('autocomplete','off')}
for(var i=0,maxlength=!0;i<mask.length;i++){var translation=jMask.translation[mask.charAt(i)];if(translation&&translation.recursive){maxlength=!1;break}}
if(maxlength){el.attr('maxlength',mask.length).data('mask-maxlength',!0)}
p.destroyEvents();p.events();var caret=p.getCaret();p.val(p.getMasked());p.setCaret(caret)}};jMask.init(!el.is('input'))};$.maskWatchers={};var HTMLAttributes=function(){var input=$(this),options={},prefix='data-mask-',mask=input.attr('data-mask');if(input.attr(prefix+'reverse')){options.reverse=!0}
if(input.attr(prefix+'clearifnotmatch')){options.clearIfNotMatch=!0}
if(input.attr(prefix+'selectonfocus')==='true'){options.selectOnFocus=!0}
if(notSameMaskObject(input,mask,options)){return input.data('mask',new Mask(this,mask,options))}},notSameMaskObject=function(field,mask,options){options=options||{};var maskObject=$(field).data('mask'),stringify=JSON.stringify,value=$(field).val()||$(field).text();try{if(typeof mask==='function'){mask=mask(value)}
return typeof maskObject!=='object'||stringify(maskObject.options)!==stringify(options)||maskObject.mask!==mask}catch(e){}},eventSupported=function(eventName){var el=document.createElement('div'),isSupported;eventName='on'+eventName;isSupported=(eventName in el);if(!isSupported){el.setAttribute(eventName,'return;');isSupported=typeof el[eventName]==='function'}
el=null;return isSupported};$.fn.mask=function(mask,options){options=options||{};var selector=this.selector,globals=$.jMaskGlobals,interval=globals.watchInterval,watchInputs=options.watchInputs||globals.watchInputs,maskFunction=function(){if(notSameMaskObject(this,mask,options)){return $(this).data('mask',new Mask(this,mask,options))}};$(this).each(maskFunction);if(selector&&selector!==''&&watchInputs){clearInterval($.maskWatchers[selector]);$.maskWatchers[selector]=setInterval(function(){$(document).find(selector).each(maskFunction)},interval)}
return this};$.fn.masked=function(val){return this.data('mask').getMaskedVal(val)};$.fn.unmask=function(){clearInterval($.maskWatchers[this.selector]);delete $.maskWatchers[this.selector];return this.each(function(){var dataMask=$(this).data('mask');if(dataMask){dataMask.remove().removeData('mask')}})};$.fn.cleanVal=function(){return this.data('mask').getCleanVal()};$.applyDataMask=function(selector){selector=selector||$.jMaskGlobals.maskElements;var $selector=(selector instanceof $)?selector:$(selector);$selector.filter($.jMaskGlobals.dataMaskAttr).each(HTMLAttributes)};var globals={maskElements:'input,td,span,div',dataMaskAttr:'*[data-mask]',dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&eventSupported('input'),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{'0':{pattern:/\d/},'9':{pattern:/\d/,optional:!0},'#':{pattern:/\d/,recursive:!0},'A':{pattern:/[a-zA-Z0-9]/},'S':{pattern:/[a-zA-Z]/}}};$.jMaskGlobals=$.jMaskGlobals||{};globals=$.jMaskGlobals=$.extend(!0,{},globals,$.jMaskGlobals);if(globals.dataMask){$.applyDataMask()}
setInterval(function(){if($.jMaskGlobals.watchDataMask){$.applyDataMask()}},globals.watchInterval)},window.jQuery,window.Zepto));$(function(){$(".cnpj").mask("00.000.000/0000-00");$(".cpf").mask("000.000.000-00");$(".phone").mask("(00) 0000-0000");$(".celphone").mask("(00) 00000-0000");$(".uf_code").mask("00000-0000");$(".birth").mask("00/00/0000");$(".timer").mask("00:00");$("#collaborators").on("change",function(){var value=$("#collaborators option:selected").val();var office=$("input[name=office]");var func=$("input[name=function]");office.removeAttr("readonly");func.removeAttr("readonly");$.ajax({url:$(this).data("uri"),data:{code:value},method:"POST",dataType:"json",success:function(response){office.val(response.collaborator.office);func.val(response.collaborator.function)}})});$("form:not('.ajax_off')").submit(function(e){e.preventDefault();var form=$(this);var load=$(".ajax_load");var flashClass="ajax_response";var flash=$("."+flashClass);form.ajaxSubmit({url:form.attr("action"),type:"POST",dataType:"json",beforeSend:function(){load.fadeIn(200).css("display","flex")},uploadProgress:function(event,position,total,completed){var loaded=completed;var load_title=$(".ajax_load_box_title");load_title.text("Enviando ("+loaded+"%)");form.find("input[type='file']").val(null);if(completed>=100){load_title.text("Aguarde, carregando...")}},success:function(response){if(response.redirect){window.location.href=response.redirect}else{load.fadeOut(200)}
if(response.reload){window.location.reload()}else{load.fadeOut(200)}
if(response.message){if(flash.length){flash.html(response.message).fadeIn(100).effect("bounce",300)}else{form.prepend("<div class='"+flashClass+"'>"+response.message+"</div>").find("."+flashClass).effect("bounce",300)}}else{flash.fadeOut(100)}},complete:function(){if(form.data("reset")===!0){form.trigger("reset")}},error:function(){var message="<div class='message error icon-warning'>Desculpe mas não foi possível processar a requisição. Favor tente novamente!</div>";if(flash.length){flash.html(message).fadeIn(100).effect("bounce",300)}else{form.prepend("<div class='"+flashClass+"'>"+message+"</div>").find("."+flashClass).effect("bounce",300)}}})});$("[data-remove]").click(function(e){var remove=confirm("ATENÇÃO: Essa ação não pode ser desfeita! Tem certeza que deseja excluir esse lançamento?");if(remove===!0){$.post($(this).data("remove"),function(response){if(response.redirect){window.location.href=response.redirect}},"json")}})});document.addEventListener('DOMContentLoaded',function(){var calendarEl=document.getElementById('calendar');var calendar=new FullCalendar.Calendar(calendarEl,{initialView:'dayGridWeek',locale:"pt-br",buttonText:{today:"Hoje",month:"Mês",week:"Semana",day:"Dia"}});calendar.render()});[].push.apply(FullCalendar.globalLocales,function(){'use strict';var l0={code:"af",week:{dow:1,doy:4},buttonText:{prev:"Vorige",next:"Volgende",today:"Vandag",year:"Jaar",month:"Maand",week:"Week",day:"Dag",list:"Agenda"},allDayText:"Heeldag",moreLinkText:"Addisionele",noEventsText:"Daar is geen gebeurtenisse nie"};var l1={code:"ar-dz",week:{dow:0,doy:4},direction:'rtl',buttonText:{prev:"السابق",next:"التالي",today:"اليوم",month:"شهر",week:"أسبوع",day:"يوم",list:"أجندة"},weekText:"أسبوع",allDayText:"اليوم كله",moreLinkText:"أخرى",noEventsText:"أي أحداث لعرض"};var l2={code:"ar-kw",week:{dow:0,doy:12},direction:'rtl',buttonText:{prev:"السابق",next:"التالي",today:"اليوم",month:"شهر",week:"أسبوع",day:"يوم",list:"أجندة"},weekText:"أسبوع",allDayText:"اليوم كله",moreLinkText:"أخرى",noEventsText:"أي أحداث لعرض"};var l3={code:"ar-ly",week:{dow:6,doy:12},direction:'rtl',buttonText:{prev:"السابق",next:"التالي",today:"اليوم",month:"شهر",week:"أسبوع",day:"يوم",list:"أجندة"},weekText:"أسبوع",allDayText:"اليوم كله",moreLinkText:"أخرى",noEventsText:"أي أحداث لعرض"};var l4={code:"ar-ma",week:{dow:6,doy:12},direction:'rtl',buttonText:{prev:"السابق",next:"التالي",today:"اليوم",month:"شهر",week:"أسبوع",day:"يوم",list:"أجندة"},weekText:"أسبوع",allDayText:"اليوم كله",moreLinkText:"أخرى",noEventsText:"أي أحداث لعرض"};var l5={code:"ar-sa",week:{dow:0,doy:6},direction:'rtl',buttonText:{prev:"السابق",next:"التالي",today:"اليوم",month:"شهر",week:"أسبوع",day:"يوم",list:"أجندة"},weekText:"أسبوع",allDayText:"اليوم كله",moreLinkText:"أخرى",noEventsText:"أي أحداث لعرض"};var l6={code:"ar-tn",week:{dow:1,doy:4},direction:'rtl',buttonText:{prev:"السابق",next:"التالي",today:"اليوم",month:"شهر",week:"أسبوع",day:"يوم",list:"أجندة"},weekText:"أسبوع",allDayText:"اليوم كله",moreLinkText:"أخرى",noEventsText:"أي أحداث لعرض"};var l7={code:"ar",week:{dow:6,doy:12},direction:'rtl',buttonText:{prev:"السابق",next:"التالي",today:"اليوم",month:"شهر",week:"أسبوع",day:"يوم",list:"أجندة"},weekText:"أسبوع",allDayText:"اليوم كله",moreLinkText:"أخرى",noEventsText:"أي أحداث لعرض"};var l8={code:"az",week:{dow:1,doy:4},buttonText:{prev:"Əvvəl",next:"Sonra",today:"Bu Gün",month:"Ay",week:"Həftə",day:"Gün",list:"Gündəm"},weekText:"Həftə",allDayText:"Bütün Gün",moreLinkText:function(n){return"+ daha çox "+n},noEventsText:"Göstərmək üçün hadisə yoxdur"};var l9={code:"bg",week:{dow:1,doy:7},buttonText:{prev:"назад",next:"напред",today:"днес",month:"Месец",week:"Седмица",day:"Ден",list:"График"},allDayText:"Цял ден",moreLinkText:function(n){return"+още "+n},noEventsText:"Няма събития за показване"};var l10={code:"bs",week:{dow:1,doy:7},buttonText:{prev:"Prošli",next:"Sljedeći",today:"Danas",month:"Mjesec",week:"Sedmica",day:"Dan",list:"Raspored"},weekText:"Sed",allDayText:"Cijeli dan",moreLinkText:function(n){return"+ još "+n},noEventsText:"Nema događaja za prikazivanje"};var l11={code:"ca",week:{dow:1,doy:4},buttonText:{prev:"Anterior",next:"Següent",today:"Avui",month:"Mes",week:"Setmana",day:"Dia",list:"Agenda"},weekText:"Set",allDayText:"Tot el dia",moreLinkText:"més",noEventsText:"No hi ha esdeveniments per mostrar"};var l12={code:"cs",week:{dow:1,doy:4},buttonText:{prev:"Dříve",next:"Později",today:"Nyní",month:"Měsíc",week:"Týden",day:"Den",list:"Agenda"},weekText:"Týd",allDayText:"Celý den",moreLinkText:function(n){return"+další: "+n},noEventsText:"Žádné akce k zobrazení"};var l13={code:"da",week:{dow:1,doy:4},buttonText:{prev:"Forrige",next:"Næste",today:"I dag",month:"Måned",week:"Uge",day:"Dag",list:"Agenda"},weekText:"Uge",allDayText:"Hele dagen",moreLinkText:"flere",noEventsText:"Ingen arrangementer at vise"};var l14={code:"de",week:{dow:1,doy:4},buttonText:{prev:"Zurück",next:"Vor",today:"Heute",year:"Jahr",month:"Monat",week:"Woche",day:"Tag",list:"Terminübersicht"},weekText:"KW",allDayText:"Ganztägig",moreLinkText:function(n){return"+ weitere "+n},noEventsText:"Keine Ereignisse anzuzeigen"};var l15={code:"el",week:{dow:1,doy:4},buttonText:{prev:"Προηγούμενος",next:"Επόμενος",today:"Σήμερα",month:"Μήνας",week:"Εβδομάδα",day:"Ημέρα",list:"Ατζέντα"},weekText:"Εβδ",allDayText:"Ολοήμερο",moreLinkText:"περισσότερα",noEventsText:"Δεν υπάρχουν γεγονότα προς εμφάνιση"};var l16={code:"en-au",week:{dow:1,doy:4}};var l17={code:"en-gb",week:{dow:1,doy:4}};var l18={code:"en-nz",week:{dow:1,doy:4}};var l19={code:"es",week:{dow:0,doy:6},buttonText:{prev:"Ant",next:"Sig",today:"Hoy",month:"Mes",week:"Semana",day:"Día",list:"Agenda"},weekText:"Sm",allDayText:"Todo el día",moreLinkText:"más",noEventsText:"No hay eventos para mostrar"};var l20={code:"es",week:{dow:1,doy:4},buttonText:{prev:"Ant",next:"Sig",today:"Hoy",month:"Mes",week:"Semana",day:"Día",list:"Agenda"},weekText:"Sm",allDayText:"Todo el día",moreLinkText:"más",noEventsText:"No hay eventos para mostrar"};var l21={code:"et",week:{dow:1,doy:4},buttonText:{prev:"Eelnev",next:"Järgnev",today:"Täna",month:"Kuu",week:"Nädal",day:"Päev",list:"Päevakord"},weekText:"näd",allDayText:"Kogu päev",moreLinkText:function(n){return"+ veel "+n},noEventsText:"Kuvamiseks puuduvad sündmused"};var l22={code:"eu",week:{dow:1,doy:7},buttonText:{prev:"Aur",next:"Hur",today:"Gaur",month:"Hilabetea",week:"Astea",day:"Eguna",list:"Agenda"},weekText:"As",allDayText:"Egun osoa",moreLinkText:"gehiago",noEventsText:"Ez dago ekitaldirik erakusteko"};var l23={code:"fa",week:{dow:6,doy:12},direction:'rtl',buttonText:{prev:"قبلی",next:"بعدی",today:"امروز",month:"ماه",week:"هفته",day:"روز",list:"برنامه"},weekText:"هف",allDayText:"تمام روز",moreLinkText:function(n){return"بیش از "+n},noEventsText:"هیچ رویدادی به نمایش"};var l24={code:"fi",week:{dow:1,doy:4},buttonText:{prev:"Edellinen",next:"Seuraava",today:"Tänään",month:"Kuukausi",week:"Viikko",day:"Päivä",list:"Tapahtumat"},weekText:"Vk",allDayText:"Koko päivä",moreLinkText:"lisää",noEventsText:"Ei näytettäviä tapahtumia"};var l25={code:"fr",buttonText:{prev:"Précédent",next:"Suivant",today:"Aujourd'hui",year:"Année",month:"Mois",week:"Semaine",day:"Jour",list:"Mon planning"},weekText:"Sem.",allDayText:"Toute la journée",moreLinkText:"en plus",noEventsText:"Aucun événement à afficher"};var l26={code:"fr-ch",week:{dow:1,doy:4},buttonText:{prev:"Précédent",next:"Suivant",today:"Courant",year:"Année",month:"Mois",week:"Semaine",day:"Jour",list:"Mon planning"},weekText:"Sm",allDayText:"Toute la journée",moreLinkText:"en plus",noEventsText:"Aucun événement à afficher"};var l27={code:"fr",week:{dow:1,doy:4},buttonText:{prev:"Précédent",next:"Suivant",today:"Aujourd'hui",year:"Année",month:"Mois",week:"Semaine",day:"Jour",list:"Planning"},weekText:"Sem.",allDayText:"Toute la journée",moreLinkText:"en plus",noEventsText:"Aucun événement à afficher"};var l28={code:"gl",week:{dow:1,doy:4},buttonText:{prev:"Ant",next:"Seg",today:"Hoxe",month:"Mes",week:"Semana",day:"Día",list:"Axenda"},weekText:"Sm",allDayText:"Todo o día",moreLinkText:"máis",noEventsText:"Non hai eventos para amosar"};var l29={code:"he",direction:'rtl',buttonText:{prev:"הקודם",next:"הבא",today:"היום",month:"חודש",week:"שבוע",day:"יום",list:"סדר יום"},allDayText:"כל היום",moreLinkText:"אחר",noEventsText:"אין אירועים להצגה",weekText:"שבוע"};var l30={code:"hi",week:{dow:0,doy:6},buttonText:{prev:"पिछला",next:"अगला",today:"आज",month:"महीना",week:"सप्ताह",day:"दिन",list:"कार्यसूची"},weekText:"हफ्ता",allDayText:"सभी दिन",moreLinkText:function(n){return"+अधिक "+n},noEventsText:"कोई घटनाओं को प्रदर्शित करने के लिए"};var l31={code:"hr",week:{dow:1,doy:7},buttonText:{prev:"Prijašnji",next:"Sljedeći",today:"Danas",month:"Mjesec",week:"Tjedan",day:"Dan",list:"Raspored"},weekText:"Tje",allDayText:"Cijeli dan",moreLinkText:function(n){return"+ još "+n},noEventsText:"Nema događaja za prikaz"};var l32={code:"hu",week:{dow:1,doy:4},buttonText:{prev:"vissza",next:"előre",today:"ma",month:"Hónap",week:"Hét",day:"Nap",list:"Napló"},weekText:"Hét",allDayText:"Egész nap",moreLinkText:"további",noEventsText:"Nincs megjeleníthető esemény"};var l33={code:"id",week:{dow:1,doy:7},buttonText:{prev:"mundur",next:"maju",today:"hari ini",month:"Bulan",week:"Minggu",day:"Hari",list:"Agenda"},weekText:"Mg",allDayText:"Sehari penuh",moreLinkText:"lebih",noEventsText:"Tidak ada acara untuk ditampilkan"};var l34={code:"is",week:{dow:1,doy:4},buttonText:{prev:"Fyrri",next:"Næsti",today:"Í dag",month:"Mánuður",week:"Vika",day:"Dagur",list:"Dagskrá"},weekText:"Vika",allDayText:"Allan daginn",moreLinkText:"meira",noEventsText:"Engir viðburðir til að sýna"};var l35={code:"it",week:{dow:1,doy:4},buttonText:{prev:"Prec",next:"Succ",today:"Oggi",month:"Mese",week:"Settimana",day:"Giorno",list:"Agenda"},weekText:"Sm",allDayText:"Tutto il giorno",moreLinkText:function(n){return"+altri "+n},noEventsText:"Non ci sono eventi da visualizzare"};var l36={code:"ja",buttonText:{prev:"前",next:"次",today:"今日",month:"月",week:"週",day:"日",list:"予定リスト"},weekText:"週",allDayText:"終日",moreLinkText:function(n){return"他 "+n+" 件"},noEventsText:"表示する予定はありません"};var l37={code:"ka",week:{dow:1,doy:7},buttonText:{prev:"წინა",next:"შემდეგი",today:"დღეს",month:"თვე",week:"კვირა",day:"დღე",list:"დღის წესრიგი"},weekText:"კვ",allDayText:"მთელი დღე",moreLinkText:function(n){return"+ კიდევ "+n},noEventsText:"ღონისძიებები არ არის"};var l38={code:"kk",week:{dow:1,doy:7},buttonText:{prev:"Алдыңғы",next:"Келесі",today:"Бүгін",month:"Ай",week:"Апта",day:"Күн",list:"Күн тәртібі"},weekText:"Не",allDayText:"Күні бойы",moreLinkText:function(n){return"+ тағы "+n},noEventsText:"Көрсету үшін оқиғалар жоқ"};var l39={code:"ko",buttonText:{prev:"이전달",next:"다음달",today:"오늘",month:"월",week:"주",day:"일",list:"일정목록"},weekText:"주",allDayText:"종일",moreLinkText:"개",noEventsText:"일정이 없습니다"};var l40={code:"lb",week:{dow:1,doy:4},buttonText:{prev:"Zréck",next:"Weider",today:"Haut",month:"Mount",week:"Woch",day:"Dag",list:"Terminiwwersiicht"},weekText:"W",allDayText:"Ganzen Dag",moreLinkText:"méi",noEventsText:"Nee Evenementer ze affichéieren"};var l41={code:"lt",week:{dow:1,doy:4},buttonText:{prev:"Atgal",next:"Pirmyn",today:"Šiandien",month:"Mėnuo",week:"Savaitė",day:"Diena",list:"Darbotvarkė"},weekText:"SAV",allDayText:"Visą dieną",moreLinkText:"daugiau",noEventsText:"Nėra įvykių rodyti"};var l42={code:"lv",week:{dow:1,doy:4},buttonText:{prev:"Iepr.",next:"Nāk.",today:"Šodien",month:"Mēnesis",week:"Nedēļa",day:"Diena",list:"Dienas kārtība"},weekText:"Ned.",allDayText:"Visu dienu",moreLinkText:function(n){return"+vēl "+n},noEventsText:"Nav notikumu"};var l43={code:"mk",buttonText:{prev:"претходно",next:"следно",today:"Денес",month:"Месец",week:"Недела",day:"Ден",list:"График"},weekText:"Сед",allDayText:"Цел ден",moreLinkText:function(n){return"+повеќе "+n},noEventsText:"Нема настани за прикажување"};var l44={code:"ms",week:{dow:1,doy:7},buttonText:{prev:"Sebelum",next:"Selepas",today:"hari ini",month:"Bulan",week:"Minggu",day:"Hari",list:"Agenda"},weekText:"Mg",allDayText:"Sepanjang hari",moreLinkText:function(n){return"masih ada "+n+" acara"},noEventsText:"Tiada peristiwa untuk dipaparkan"};var l45={code:"nb",week:{dow:1,doy:4},buttonText:{prev:"Forrige",next:"Neste",today:"I dag",month:"Måned",week:"Uke",day:"Dag",list:"Agenda"},weekText:"Uke",allDayText:"Hele dagen",moreLinkText:"til",noEventsText:"Ingen hendelser å vise"};var l46={code:"nl",week:{dow:1,doy:4},buttonText:{prev:"Voorgaand",next:"Volgende",today:"Vandaag",year:"Jaar",month:"Maand",week:"Week",day:"Dag",list:"Agenda"},allDayText:"Hele dag",moreLinkText:"extra",noEventsText:"Geen evenementen om te laten zien"};var l47={code:"nn",week:{dow:1,doy:4},buttonText:{prev:"Førre",next:"Neste",today:"I dag",month:"Månad",week:"Veke",day:"Dag",list:"Agenda"},weekText:"Veke",allDayText:"Heile dagen",moreLinkText:"til",noEventsText:"Ingen hendelser å vise"};var l48={code:"pl",week:{dow:1,doy:4},buttonText:{prev:"Poprzedni",next:"Następny",today:"Dziś",month:"Miesiąc",week:"Tydzień",day:"Dzień",list:"Plan dnia"},weekText:"Tydz",allDayText:"Cały dzień",moreLinkText:"więcej",noEventsText:"Brak wydarzeń do wyświetlenia"};var l49={code:"pt-br",buttonText:{prev:"Anterior",next:"Próximo",today:"Hoje",month:"Mês",week:"Semana",day:"Dia",list:"Lista"},weekText:"Sm",allDayText:"dia inteiro",moreLinkText:function(n){return"mais +"+n},noEventsText:"Não há eventos para mostrar"};var l50={code:"pt",week:{dow:1,doy:4},buttonText:{prev:"Anterior",next:"Seguinte",today:"Hoje",month:"Mês",week:"Semana",day:"Dia",list:"Agenda"},weekText:"Sem",allDayText:"Todo o dia",moreLinkText:"mais",noEventsText:"Não há eventos para mostrar"};var l51={code:"ro",week:{dow:1,doy:7},buttonText:{prev:"precedentă",next:"următoare",today:"Azi",month:"Lună",week:"Săptămână",day:"Zi",list:"Agendă"},weekText:"Săpt",allDayText:"Toată ziua",moreLinkText:function(n){return"+alte "+n},noEventsText:"Nu există evenimente de afișat"};var l52={code:"ru",week:{dow:1,doy:4},buttonText:{prev:"Пред",next:"След",today:"Сегодня",month:"Месяц",week:"Неделя",day:"День",list:"Повестка дня"},weekText:"Нед",allDayText:"Весь день",moreLinkText:function(n){return"+ ещё "+n},noEventsText:"Нет событий для отображения"};var l53={code:"sk",week:{dow:1,doy:4},buttonText:{prev:"Predchádzajúci",next:"Nasledujúci",today:"Dnes",month:"Mesiac",week:"Týždeň",day:"Deň",list:"Rozvrh"},weekText:"Ty",allDayText:"Celý deň",moreLinkText:function(n){return"+ďalšie: "+n},noEventsText:"Žiadne akcie na zobrazenie"};var l54={code:"sl",week:{dow:1,doy:7},buttonText:{prev:"Prejšnji",next:"Naslednji",today:"Trenutni",month:"Mesec",week:"Teden",day:"Dan",list:"Dnevni red"},weekText:"Teden",allDayText:"Ves dan",moreLinkText:"več",noEventsText:"Ni dogodkov za prikaz"};var l55={code:"sq",week:{dow:1,doy:4},buttonText:{prev:"mbrapa",next:"Përpara",today:"sot",month:"Muaj",week:"Javë",day:"Ditë",list:"Listë"},weekText:"Ja",allDayText:"Gjithë ditën",moreLinkText:function(n){return"+më tepër "+n},noEventsText:"Nuk ka evente për të shfaqur"};var l56={code:"sr-cyrl",week:{dow:1,doy:7},buttonText:{prev:"Претходна",next:"следећи",today:"Данас",month:"Месец",week:"Недеља",day:"Дан",list:"Планер"},weekText:"Сед",allDayText:"Цео дан",moreLinkText:function(n){return"+ још "+n},noEventsText:"Нема догађаја за приказ"};var l57={code:"sr",week:{dow:1,doy:7},buttonText:{prev:"Prethodna",next:"Sledeći",today:"Danas",month:"Mеsеc",week:"Nеdеlja",day:"Dan",list:"Planеr"},weekText:"Sed",allDayText:"Cеo dan",moreLinkText:function(n){return"+ još "+n},noEventsText:"Nеma događaja za prikaz"};var l58={code:"sv",week:{dow:1,doy:4},buttonText:{prev:"Förra",next:"Nästa",today:"Idag",month:"Månad",week:"Vecka",day:"Dag",list:"Program"},weekText:"v.",allDayText:"Heldag",moreLinkText:"till",noEventsText:"Inga händelser att visa"};var l59={code:"th",week:{dow:1,doy:4},buttonText:{prev:"ก่อนหน้า",next:"ถัดไป",prevYear:'ปีก่อนหน้า',nextYear:'ปีถัดไป',year:'ปี',today:"วันนี้",month:"เดือน",week:"สัปดาห์",day:"วัน",list:"กำหนดการ"},weekText:"สัปดาห์",allDayText:"ตลอดวัน",moreLinkText:"เพิ่มเติม",noEventsText:"ไม่มีกิจกรรมที่จะแสดง"};var l60={code:"tr",week:{dow:1,doy:7},buttonText:{prev:"geri",next:"ileri",today:"bugün",month:"Ay",week:"Hafta",day:"Gün",list:"Ajanda"},weekText:"Hf",allDayText:"Tüm gün",moreLinkText:"daha fazla",noEventsText:"Gösterilecek etkinlik yok"};var l61={code:"ug",buttonText:{month:"ئاي",week:"ھەپتە",day:"كۈن",list:"كۈنتەرتىپ"},allDayText:"پۈتۈن كۈن"};var l62={code:"uk",week:{dow:1,doy:7},buttonText:{prev:"Попередній",next:"далі",today:"Сьогодні",month:"Місяць",week:"Тиждень",day:"День",list:"Порядок денний"},weekText:"Тиж",allDayText:"Увесь день",moreLinkText:function(n){return"+ще "+n+"..."},noEventsText:"Немає подій для відображення"};var l63={code:"uz",buttonText:{month:"Oy",week:"Xafta",day:"Kun",list:"Kun tartibi"},allDayText:"Kun bo'yi",moreLinkText:function(n){return"+ yana "+n},noEventsText:"Ko'rsatish uchun voqealar yo'q"};var l64={code:"vi",week:{dow:1,doy:4},buttonText:{prev:"Trước",next:"Tiếp",today:"Hôm nay",month:"Tháng",week:"Tuần",day:"Ngày",list:"Lịch biểu"},weekText:"Tu",allDayText:"Cả ngày",moreLinkText:function(n){return"+ thêm "+n},noEventsText:"Không có sự kiện để hiển thị"};var l65={code:"zh-cn",week:{dow:1,doy:4},buttonText:{prev:"上月",next:"下月",today:"今天",month:"月",week:"周",day:"日",list:"日程"},weekText:"周",allDayText:"全天",moreLinkText:function(n){return"另外 "+n+" 个"},noEventsText:"没有事件显示"};var l66={code:"zh-tw",buttonText:{prev:"上月",next:"下月",today:"今天",month:"月",week:"週",day:"天",list:"活動列表"},weekText:"周",allDayText:"整天",moreLinkText:'顯示更多',noEventsText:"没有任何活動"};var localesAll=[l0,l1,l2,l3,l4,l5,l6,l7,l8,l9,l10,l11,l12,l13,l14,l15,l16,l17,l18,l19,l20,l21,l22,l23,l24,l25,l26,l27,l28,l29,l30,l31,l32,l33,l34,l35,l36,l37,l38,l39,l40,l41,l42,l43,l44,l45,l46,l47,l48,l49,l50,l51,l52,l53,l54,l55,l56,l57,l58,l59,l60,l61,l62,l63,l64,l65,l66,];return localesAll}());/*!
FullCalendar v5.1.0
Docs & License: https://fullcalendar.io/
(c) 2020 Adam Shaw
*/
var FullCalendar=(function(exports){'use strict';/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b);};function __extends(d,b){extendStatics(d,b);function __(){this.constructor=d}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __())}
var __assign=function(){__assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}
return t};return __assign.apply(this,arguments)};function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)
for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)
r[k]=a[j];return r}
var n,u,i,t,r,o,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function h(n,l,u){var i,t=arguments,r={};for(i in l)"key"!==i&&"ref"!==i&&(r[i]=l[i]);if(arguments.length>3)for(u=[u],i=3;i<arguments.length;i++)u.push(t[i]);if(null!=u&&(r.children=u),"function"==typeof n&&null!=n.defaultProps)for(i in n.defaultProps)void 0===r[i]&&(r[i]=n.defaultProps[i]);return p(n,r,l&&l.key,l&&l.ref,null)}function p(l,u,i,t,r){var o={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r};return null==r&&(o.__v=o),n.vnode&&n.vnode(o),o}function y(){return{}}function d(n){return n.children}function m(n,l){this.props=n,this.context=l}function w(n,l){if(null==l)return n.__?w(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?w(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function g(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!i++||r!==n.debounceRendering)&&((r=n.debounceRendering)||t)(_)}function _(){for(var n;i=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,r,o,f;n.__d&&(o=(r=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=a({},r)).__v=i,t=A(f,r,i,l.__n,void 0!==f.ownerSVGElement,null,u,null==o?w(r):o),T(u,r),t!=o&&k(r)))})}function b(n,l,u,i,t,r,o,f,s){var a,h,p,y,d,m,k,g=u&&u.__k||c,_=g.length;if(f==e&&(f=null!=r?r[0]:_?w(u,0):null),a=0,l.__k=x(l.__k,function(u){if(null!=u){if(u.__=l,u.__b=l.__b+1,null===(p=g[a])||p&&u.key==p.key&&u.type===p.type)g[a]=void 0;else for(h=0;h<_;h++){if((p=g[h])&&u.key==p.key&&u.type===p.type){g[h]=void 0;break}p=null}if(y=A(n,u,p=p||e,i,t,r,o,f,s),(h=u.ref)&&p.ref!=h&&(k||(k=[]),p.ref&&k.push(p.ref,null,u),k.push(h,u.__c||y,u)),null!=y){var c;if(null==m&&(m=y),void 0!==u.__d)c=u.__d,u.__d=void 0;else if(r==p||y!=f||null==y.parentNode){n:if(null==f||f.parentNode!==n)n.appendChild(y),c=null;else{for(d=f,h=0;(d=d.nextSibling)&&h<_;h+=2)if(d==y)break n;n.insertBefore(y,f),c=f}"option"==l.type&&(n.value="")}f=void 0!==c?c:y.nextSibling,"function"==typeof l.type&&(l.__d=f)}else f&&p.__e==f&&f.parentNode!=n&&(f=w(p))}return a++,u}),l.__e=m,null!=r&&"function"!=typeof l.type)for(a=r.length;a--;)null!=r[a]&&v(r[a]);for(a=_;a--;)null!=g[a]&&D(g[a],g[a]);if(k)for(a=0;a<k.length;a++)j(k[a],k[++a],k[++a]);}function x(n,l,u){if(null==u&&(u=[]),null==n||"boolean"==typeof n)l&&u.push(l(null));else if(Array.isArray(n))for(var i=0;i<n.length;i++)x(n[i],l,u);else u.push(l?l("string"==typeof n||"number"==typeof n?p(null,n,null,null,n):null!=n.__e||null!=n.__c?p(n.type,n.props,n.key,null,n.__v):n):n);return u}function P(n,l,u,i,t){var r;for(r in u)"children"===r||"key"===r||r in l||N(n,r,null,u[r],i);for(r in l)t&&"function"!=typeof l[r]||"children"===r||"key"===r||"value"===r||"checked"===r||u[r]===l[r]||N(n,r,l[r],u[r],i);}function C(n,l,u){"-"===l[0]?n.setProperty(l,u):n[l]="number"==typeof u&&!1===s.test(l)?u+"px":null==u?"":u}function N(n,l,u,i,t){var r,o,f,e,c;if(t?"className"===l&&(l="class"):"class"===l&&(l="className"),"style"===l)if(r=n.style,"string"==typeof u)r.cssText=u;else{if("string"==typeof i&&(r.cssText="",i=null),i)for(e in i)u&&e in u||C(r,e,"");if(u)for(c in u)i&&u[c]===i[c]||C(r,c,u[c]);}else "o"===l[0]&&"n"===l[1]?(o=l!==(l=l.replace(/Capture$/,"")),f=l.toLowerCase(),l=(f in n?f:l).slice(2),u?(i||n.addEventListener(l,z,o),(n.l||(n.l={}))[l]=u):n.removeEventListener(l,z,o)):"list"!==l&&"tagName"!==l&&"form"!==l&&"type"!==l&&"size"!==l&&!t&&l in n?n[l]=null==u?"":u:"function"!=typeof u&&"dangerouslySetInnerHTML"!==l&&(l!==(l=l.replace(/^xlink:?/,""))?null==u||!1===u?n.removeAttributeNS("http://www.w3.org/1999/xlink",l.toLowerCase()):n.setAttributeNS("http://www.w3.org/1999/xlink",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function z(l){this.l[l.type](n.event?n.event(l):l)}function A(l,u,i,t,r,o,f,e,c){var s,v,h,p,y,w,k,g,_,x,P=u.type;if(void 0!==u.constructor)return null;(s=n.__b)&&s(u);try{n:if("function"==typeof P){if(g=u.props,_=(s=P.contextType)&&t[s.__c],x=s?_?_.props.value:s.__:t,i.__c?k=(v=u.__c=i.__c).__=v.__E:("prototype"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new m(g,x),v.constructor=P,v.render=E),_&&_.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=a({},v.__s)),a(v.__s,P.getDerivedStateFromProps(g,v.__s))),p=v.props,y=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==p&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v&&!v.__){for(v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v),s=0;s<u.__k.length;s++)u.__k[s]&&(u.__k[s].__=u);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(p,y,w)})}v.context=x,v.props=g,v.state=v.__s,(s=n.__r)&&s(u),v.__d=!1,v.__v=u,v.__P=l,s=v.render(v.props,v.state,v.context),u.__k=null!=s&&s.type==d&&null==s.key?s.props.children:Array.isArray(s)?s:[s],null!=v.getChildContext&&(t=a(a({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(w=v.getSnapshotBeforeUpdate(p,y)),b(l,u,i,t,r,o,f,e,c),v.base=u.__e,v.__h.length&&f.push(v),k&&(v.__E=v.__=null),v.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=$(i.__e,u,i,t,r,o,f,c);(s=n.diffed)&&s(u)}catch(l){u.__v=null,n.__e(l,u,i)}return u.__e}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function $(n,l,u,i,t,r,o,f){var s,a,v,h,p,y=u.props,d=l.props;if(t="svg"===l.type||t,null!=r)for(s=0;s<r.length;s++)if(null!=(a=r[s])&&((null===l.type?3===a.nodeType:a.localName===l.type)||n==a)){n=a,r[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS("http://www.w3.org/2000/svg",l.type):document.createElement(l.type,d.is&&{is:d.is}),r=null,f=!1}if(null===l.type)y!==d&&n.data!=d&&(n.data=d);else{if(null!=r&&(r=c.slice.call(n.childNodes)),v=(y=u.props||e).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!f){if(y===e)for(y={},p=0;p<n.attributes.length;p++)y[n.attributes[p].name]=n.attributes[p].value;(h||v)&&(h&&v&&h.__html==v.__html||(n.innerHTML=h&&h.__html||""))}P(n,d,y,t,f),h?l.__k=[]:(l.__k=l.props.children,b(n,l,u,i,"foreignObject"!==l.type&&t,r,o,e,f)),f||("value"in d&&void 0!==(s=d.value)&&s!==n.value&&N(n,"value",s,y.value,!1),"checked"in d&&void 0!==(s=d.checked)&&s!==n.checked&&N(n,"checked",s,y.checked,!1))}return n}function j(l,u,i){try{"function"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function D(l,u,i){var t,r,o;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||j(t,null,u)),i||"function"==typeof l.type||(i=null!=(r=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(o=0;o<t.length;o++)t[o]&&D(t[o],u,i);null!=r&&v(r)}function E(n,l,u){return this.constructor(n,u)}function H(l,u,i){var t,r,f;n.__&&n.__(l,u),r=(t=i===o)?null:i&&i.__k||u.__k,l=h(d,null,[l]),f=[],A(u,(t?u:i||u).__k=l,r||e,e,void 0!==u.ownerSVGElement,i&&!t?[i]:r?null:c.slice.call(u.childNodes),f,i||e,t),T(f,l)}function M(n){var l={},u={__c:"__cC"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var i,t=this;return this.getChildContext||(i=[],this.getChildContext=function(){return l[u.__c]=t,l},this.shouldComponentUpdate=function(n){t.props.value!==n.value&&i.some(function(l){l.context=n.value,g(l)})},this.sub=function(n){i.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){i.splice(i.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Consumer.contextType=u,u.Provider.__=u,u}n={__e:function(n,l){for(var u,i;l=l.__;)if((u=l.__c)&&!u.__)try{if(u.constructor&&null!=u.constructor.getDerivedStateFromError&&(i=!0,u.setState(u.constructor.getDerivedStateFromError(n))),null!=u.componentDidCatch&&(i=!0,u.componentDidCatch(n)),i)return g(u.__E=u)}catch(l){n=l}throw n}},m.prototype.setState=function(n,l){var u;u=this.__s!==this.state?this.__s:this.__s=a({},this.state),"function"==typeof n&&(n=n(u,this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),g(this))},m.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),g(this))},m.prototype.render=d,u=[],i=0,t="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o=e,f=0;window.FullCalendarVDom={Component:m,createElement:h,render:H,createRef:y,Fragment:d,createContext:createContext,flushToDom:flushToDom};function flushToDom(){var oldDebounceRendering=n.debounceRendering;var callbackQ=[];function execCallbackSync(callback){callbackQ.push(callback)}
n.debounceRendering=execCallbackSync;H(h(FakeComponent,{}),document.createElement('div'));while(callbackQ.length){callbackQ.shift()()}
n.debounceRendering=oldDebounceRendering}
var FakeComponent=(function(_super){__extends(FakeComponent,_super);function FakeComponent(){return _super!==null&&_super.apply(this,arguments)||this}
FakeComponent.prototype.render=function(){return h('div',{})};FakeComponent.prototype.componentDidMount=function(){this.setState({})};return FakeComponent}(m));function createContext(defaultValue){var ContextType=M(defaultValue);var origProvider=ContextType.Provider;ContextType.Provider=function(){var _this=this;var isNew=!this.getChildContext;var children=origProvider.apply(this,arguments);if(isNew){var subs_1=[];this.shouldComponentUpdate=function(_props){if(_this.props.value!==_props.value){subs_1.some(function(c){c.context=_props.value;c.forceUpdate()})}};this.sub=function(c){subs_1.push(c);var old=c.componentWillUnmount;c.componentWillUnmount=function(){subs_1.splice(subs_1.indexOf(c),1);old&&old.call(c)}}}
return children};return ContextType}
var EventSourceApi=(function(){function EventSourceApi(context,internalEventSource){this.context=context;this.internalEventSource=internalEventSource}
EventSourceApi.prototype.remove=function(){this.context.dispatch({type:'REMOVE_EVENT_SOURCE',sourceId:this.internalEventSource.sourceId})};EventSourceApi.prototype.refetch=function(){this.context.dispatch({type:'FETCH_EVENT_SOURCES',sourceIds:[this.internalEventSource.sourceId]})};Object.defineProperty(EventSourceApi.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0});Object.defineProperty(EventSourceApi.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0});return EventSourceApi}());function removeExact(array,exactVal){var removeCnt=0;var i=0;while(i<array.length){if(array[i]===exactVal){array.splice(i,1);removeCnt++}else{i++}}
return removeCnt}
function isArraysEqual(a0,a1,equalityFunc){if(a0===a1){return!0}
var len=a0.length;var i;if(len!==a1.length){return!1}
for(i=0;i<len;i++){if(!(equalityFunc?equalityFunc(a0[i],a1[i]):a0[i]===a1[i])){return!1}}
return!0}
function htmlToElement(html){html=html.trim();var container=document.createElement('div');container.innerHTML=html;return container.firstChild}
function removeElement(el){if(el.parentNode){el.parentNode.removeChild(el)}}
function injectHtml(el,html){el.innerHTML=html}
function injectDomNodes(el,domNodes){var oldNodes=Array.prototype.slice.call(el.childNodes);var newNodes=Array.prototype.slice.call(domNodes);if(!isArraysEqual(oldNodes,newNodes)){for(var _i=0,newNodes_1=newNodes;_i<newNodes_1.length;_i++){var newNode=newNodes_1[_i];el.appendChild(newNode)}
oldNodes.forEach(removeElement)}}
var matchesMethod=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector;var closestMethod=Element.prototype.closest||function(selector){var el=this;if(!document.documentElement.contains(el)){return null}
do{if(elementMatches(el,selector)){return el}
el=el.parentElement||el.parentNode}while(el!==null&&el.nodeType===1);return null};function elementClosest(el,selector){return closestMethod.call(el,selector)}
function elementMatches(el,selector){return matchesMethod.call(el,selector)}
function findElements(container,selector){var containers=container instanceof HTMLElement?[container]:container;var allMatches=[];for(var i=0;i<containers.length;i++){var matches=containers[i].querySelectorAll(selector);for(var j=0;j<matches.length;j++){allMatches.push(matches[j])}}
return allMatches}
function findDirectChildren(parent,selector){var parents=parent instanceof HTMLElement?[parent]:parent;var allMatches=[];for(var i=0;i<parents.length;i++){var childNodes=parents[i].children;for(var j=0;j<childNodes.length;j++){var childNode=childNodes[j];if(!selector||elementMatches(childNode,selector)){allMatches.push(childNode)}}}
return allMatches}
var PIXEL_PROP_RE=/(top|left|right|bottom|width|height)$/i;function applyStyle(el,props){for(var propName in props){applyStyleProp(el,propName,props[propName])}}
function applyStyleProp(el,name,val){if(val==null){el.style[name]=''}else if(typeof val==='number'&&PIXEL_PROP_RE.test(name)){el.style[name]=val+'px'}else{el.style[name]=val}}
function preventDefault(ev){ev.preventDefault()}
function buildDelegationHandler(selector,handler){return function(ev){var matchedChild=elementClosest(ev.target,selector);if(matchedChild){handler.call(matchedChild,ev,matchedChild)}}}
function listenBySelector(container,eventType,selector,handler){var attachedHandler=buildDelegationHandler(selector,handler);container.addEventListener(eventType,attachedHandler);return function(){container.removeEventListener(eventType,attachedHandler)}}
function listenToHoverBySelector(container,selector,onMouseEnter,onMouseLeave){var currentMatchedChild;return listenBySelector(container,'mouseover',selector,function(ev,matchedChild){if(matchedChild!==currentMatchedChild){currentMatchedChild=matchedChild;onMouseEnter(ev,matchedChild);var realOnMouseLeave_1=function(ev){currentMatchedChild=null;onMouseLeave(ev,matchedChild);matchedChild.removeEventListener('mouseleave',realOnMouseLeave_1)};matchedChild.addEventListener('mouseleave',realOnMouseLeave_1)}})}
var transitionEventNames=['webkitTransitionEnd','otransitionend','oTransitionEnd','msTransitionEnd','transitionend'];function whenTransitionDone(el,callback){var realCallback=function(ev){callback(ev);transitionEventNames.forEach(function(eventName){el.removeEventListener(eventName,realCallback)})};transitionEventNames.forEach(function(eventName){el.addEventListener(eventName,realCallback)})}
var guidNumber=0;function guid(){return String(guidNumber++)}
function disableCursor(){document.body.classList.add('fc-not-allowed')}
function enableCursor(){document.body.classList.remove('fc-not-allowed')}
function preventSelection(el){el.classList.add('fc-unselectable');el.addEventListener('selectstart',preventDefault)}
function allowSelection(el){el.classList.remove('fc-unselectable');el.removeEventListener('selectstart',preventDefault)}
function preventContextMenu(el){el.addEventListener('contextmenu',preventDefault)}
function allowContextMenu(el){el.removeEventListener('contextmenu',preventDefault)}
function parseFieldSpecs(input){var specs=[];var tokens=[];var i;var token;if(typeof input==='string'){tokens=input.split(/\s*,\s*/)}else if(typeof input==='function'){tokens=[input]}else if(Array.isArray(input)){tokens=input}
for(i=0;i<tokens.length;i++){token=tokens[i];if(typeof token==='string'){specs.push(token.charAt(0)==='-'?{field:token.substring(1),order:-1}:{field:token,order:1})}else if(typeof token==='function'){specs.push({func:token})}}
return specs}
function compareByFieldSpecs(obj0,obj1,fieldSpecs){var i;var cmp;for(i=0;i<fieldSpecs.length;i++){cmp=compareByFieldSpec(obj0,obj1,fieldSpecs[i]);if(cmp){return cmp}}
return 0}
function compareByFieldSpec(obj0,obj1,fieldSpec){if(fieldSpec.func){return fieldSpec.func(obj0,obj1)}
return flexibleCompare(obj0[fieldSpec.field],obj1[fieldSpec.field])*(fieldSpec.order||1)}
function flexibleCompare(a,b){if(!a&&!b){return 0}
if(b==null){return-1}
if(a==null){return 1}
if(typeof a==='string'||typeof b==='string'){return String(a).localeCompare(String(b))}
return a-b}
function padStart(val,len){var s=String(val);return'000'.substr(0,len-s.length)+s}
function compareNumbers(a,b){return a-b}
function isInt(n){return n%1===0}
function computeSmallestCellWidth(cellEl){var allWidthEl=cellEl.querySelector('.fc-scrollgrid-shrink-frame');var contentWidthEl=cellEl.querySelector('.fc-scrollgrid-shrink-cushion');if(!allWidthEl){throw new Error('needs fc-scrollgrid-shrink-frame className')}
if(!contentWidthEl){throw new Error('needs fc-scrollgrid-shrink-cushion className')}
return cellEl.getBoundingClientRect().width-allWidthEl.getBoundingClientRect().width+contentWidthEl.getBoundingClientRect().width}
var DAY_IDS=['sun','mon','tue','wed','thu','fri','sat'];function addWeeks(m,n){var a=dateToUtcArray(m);a[2]+=n*7;return arrayToUtcDate(a)}
function addDays(m,n){var a=dateToUtcArray(m);a[2]+=n;return arrayToUtcDate(a)}
function addMs(m,n){var a=dateToUtcArray(m);a[6]+=n;return arrayToUtcDate(a)}
function diffWeeks(m0,m1){return diffDays(m0,m1)/7}
function diffDays(m0,m1){return(m1.valueOf()-m0.valueOf())/(1000*60*60*24)}
function diffHours(m0,m1){return(m1.valueOf()-m0.valueOf())/(1000*60*60)}
function diffMinutes(m0,m1){return(m1.valueOf()-m0.valueOf())/(1000*60)}
function diffSeconds(m0,m1){return(m1.valueOf()-m0.valueOf())/1000}
function diffDayAndTime(m0,m1){var m0day=startOfDay(m0);var m1day=startOfDay(m1);return{years:0,months:0,days:Math.round(diffDays(m0day,m1day)),milliseconds:(m1.valueOf()-m1day.valueOf())-(m0.valueOf()-m0day.valueOf())}}
function diffWholeWeeks(m0,m1){var d=diffWholeDays(m0,m1);if(d!==null&&d%7===0){return d/7}
return null}
function diffWholeDays(m0,m1){if(timeAsMs(m0)===timeAsMs(m1)){return Math.round(diffDays(m0,m1))}
return null}
function startOfDay(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()])}
function startOfHour(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours()])}
function startOfMinute(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes()])}
function startOfSecond(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds()])}
function weekOfYear(marker,dow,doy){var y=marker.getUTCFullYear();var w=weekOfGivenYear(marker,y,dow,doy);if(w<1){return weekOfGivenYear(marker,y-1,dow,doy)}
var nextW=weekOfGivenYear(marker,y+1,dow,doy);if(nextW>=1){return Math.min(w,nextW)}
return w}
function weekOfGivenYear(marker,year,dow,doy){var firstWeekStart=arrayToUtcDate([year,0,1+firstWeekOffset(year,dow,doy)]);var dayStart=startOfDay(marker);var days=Math.round(diffDays(firstWeekStart,dayStart));return Math.floor(days/7)+1}
function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy;var fwdlw=(7+arrayToUtcDate([year,0,fwd]).getUTCDay()-dow)%7;return-fwdlw+fwd-1}
function dateToLocalArray(date){return[date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds()]}
function arrayToLocalDate(a){return new Date(a[0],a[1]||0,a[2]==null?1:a[2],a[3]||0,a[4]||0,a[5]||0)}
function dateToUtcArray(date){return[date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),date.getUTCMilliseconds()]}
function arrayToUtcDate(a){if(a.length===1){a=a.concat([0])}
return new Date(Date.UTC.apply(Date,a))}
function isValidDate(m){return!isNaN(m.valueOf())}
function timeAsMs(m){return m.getUTCHours()*1000*60*60+m.getUTCMinutes()*1000*60+m.getUTCSeconds()*1000+m.getUTCMilliseconds()}
function createEventInstance(defId,range,forcedStartTzo,forcedEndTzo){return{instanceId:guid(),defId:defId,range:range,forcedStartTzo:forcedStartTzo==null?null:forcedStartTzo,forcedEndTzo:forcedEndTzo==null?null:forcedEndTzo}}
var hasOwnProperty=Object.prototype.hasOwnProperty;function mergeProps(propObjs,complexPropsMap){var dest={};if(complexPropsMap){for(var name_1 in complexPropsMap){var complexObjs=[];for(var i=propObjs.length-1;i>=0;i--){var val=propObjs[i][name_1];if(typeof val==='object'&&val){complexObjs.unshift(val)}else if(val!==undefined){dest[name_1]=val;break}}
if(complexObjs.length){dest[name_1]=mergeProps(complexObjs)}}}
for(var i=propObjs.length-1;i>=0;i--){var props=propObjs[i];for(var name_2 in props){if(!(name_2 in dest)){dest[name_2]=props[name_2]}}}
return dest}
function filterHash(hash,func){var filtered={};for(var key in hash){if(func(hash[key],key)){filtered[key]=hash[key]}}
return filtered}
function mapHash(hash,func){var newHash={};for(var key in hash){newHash[key]=func(hash[key],key)}
return newHash}
function arrayToHash(a){var hash={};for(var _i=0,a_1=a;_i<a_1.length;_i++){var item=a_1[_i];hash[item]=!0}
return hash}
function buildHashFromArray(a,func){var hash={};for(var i=0;i<a.length;i++){var tuple=func(a[i],i);hash[tuple[0]]=tuple[1]}
return hash}
function hashValuesToArray(obj){var a=[];for(var key in obj){a.push(obj[key])}
return a}
function isPropsEqual(obj0,obj1){if(obj0===obj1){return!0}
for(var key in obj0){if(hasOwnProperty.call(obj0,key)){if(!(key in obj1)){return!1}}}
for(var key in obj1){if(hasOwnProperty.call(obj1,key)){if(obj0[key]!==obj1[key]){return!1}}}
return!0}
function getUnequalProps(obj0,obj1){var keys=[];for(var key in obj0){if(hasOwnProperty.call(obj0,key)){if(!(key in obj1)){keys.push(key)}}}
for(var key in obj1){if(hasOwnProperty.call(obj1,key)){if(obj0[key]!==obj1[key]){keys.push(key)}}}
return keys}
function compareObjs(oldProps,newProps,equalityFuncs){if(equalityFuncs===void 0){equalityFuncs={}}
if(oldProps===newProps){return!0}
for(var key in newProps){if(key in oldProps&&isObjValsEqual(oldProps[key],newProps[key],equalityFuncs[key]));else{return!1}}
for(var key in oldProps){if(!(key in newProps)){return!1}}
return!0}
function isObjValsEqual(val0,val1,comparator){if(val0===val1||comparator===!0){return!0}
if(comparator){return comparator(val0,val1)}
return!1}
function collectFromHash(hash,startIndex,endIndex,step){if(startIndex===void 0){startIndex=0}
if(step===void 0){step=1}
var res=[];if(endIndex==null){endIndex=Object.keys(hash).length}
for(var i=startIndex;i<endIndex;i+=step){var val=hash[i];if(val!==undefined){res.push(val)}}
return res}
function parseRecurring(refined,defaultAllDay,dateEnv,recurringTypes){for(var i=0;i<recurringTypes.length;i++){var parsed=recurringTypes[i].parse(refined,dateEnv);if(parsed){var allDay=refined.allDay;if(allDay==null){allDay=defaultAllDay;if(allDay==null){allDay=parsed.allDayGuess;if(allDay==null){allDay=!1}}}
return{allDay:allDay,duration:parsed.duration,typeData:parsed.typeData,typeId:i}}}
return null}
function expandRecurring(eventStore,framingRange,context){var dateEnv=context.dateEnv,pluginHooks=context.pluginHooks,options=context.options;var defs=eventStore.defs,instances=eventStore.instances;instances=filterHash(instances,function(instance){return!defs[instance.defId].recurringDef});for(var defId in defs){var def=defs[defId];if(def.recurringDef){var duration=def.recurringDef.duration;if(!duration){duration=def.allDay?options.defaultAllDayEventDuration:options.defaultTimedEventDuration}
var starts=expandRecurringRanges(def,duration,framingRange,dateEnv,pluginHooks.recurringTypes);for(var _i=0,starts_1=starts;_i<starts_1.length;_i++){var start=starts_1[_i];var instance=createEventInstance(defId,{start:start,end:dateEnv.add(start,duration)});instances[instance.instanceId]=instance}}}
return{defs:defs,instances:instances}}
function expandRecurringRanges(eventDef,duration,framingRange,dateEnv,recurringTypes){var typeDef=recurringTypes[eventDef.recurringDef.typeId];var markers=typeDef.expand(eventDef.recurringDef.typeData,{start:dateEnv.subtract(framingRange.start,duration),end:framingRange.end},dateEnv);if(eventDef.allDay){markers=markers.map(startOfDay)}
return markers}
var INTERNAL_UNITS=['years','months','days','milliseconds'];var PARSE_RE=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function createDuration(input,unit){var _a;if(typeof input==='string'){return parseString(input)}else if(typeof input==='object'&&input){return parseObject(input)}else if(typeof input==='number'){return parseObject((_a={},_a[unit||'milliseconds']=input,_a))}else{return null}}
function parseString(s){var m=PARSE_RE.exec(s);if(m){var sign=m[1]?-1:1;return{years:0,months:0,days:sign*(m[2]?parseInt(m[2],10):0),milliseconds:sign*((m[3]?parseInt(m[3],10):0)*60*60*1000+(m[4]?parseInt(m[4],10):0)*60*1000+(m[5]?parseInt(m[5],10):0)*1000+(m[6]?parseInt(m[6],10):0))}}
return null}
function parseObject(obj){var duration={years:obj.years||obj.year||0,months:obj.months||obj.month||0,days:obj.days||obj.day||0,milliseconds:(obj.hours||obj.hour||0)*60*60*1000+(obj.minutes||obj.minute||0)*60*1000+(obj.seconds||obj.second||0)*1000+(obj.milliseconds||obj.millisecond||obj.ms||0)};var weeks=obj.weeks||obj.week;if(weeks){duration.days+=weeks*7;duration.specifiedWeeks=!0}
return duration}
function durationsEqual(d0,d1){return d0.years===d1.years&&d0.months===d1.months&&d0.days===d1.days&&d0.milliseconds===d1.milliseconds}
function isSingleDay(dur){return dur.years===0&&dur.months===0&&dur.days===1&&dur.milliseconds===0}
function addDurations(d0,d1){return{years:d0.years+d1.years,months:d0.months+d1.months,days:d0.days+d1.days,milliseconds:d0.milliseconds+d1.milliseconds}}
function subtractDurations(d1,d0){return{years:d1.years-d0.years,months:d1.months-d0.months,days:d1.days-d0.days,milliseconds:d1.milliseconds-d0.milliseconds}}
function multiplyDuration(d,n){return{years:d.years*n,months:d.months*n,days:d.days*n,milliseconds:d.milliseconds*n}}
function asRoughYears(dur){return asRoughDays(dur)/365}
function asRoughMonths(dur){return asRoughDays(dur)/30}
function asRoughDays(dur){return asRoughMs(dur)/864e5}
function asRoughMinutes(dur){return asRoughMs(dur)/(1000*60)}
function asRoughSeconds(dur){return asRoughMs(dur)/1000}
function asRoughMs(dur){return dur.years*(365*864e5)+dur.months*(30*864e5)+dur.days*864e5+dur.milliseconds}
function wholeDivideDurations(numerator,denominator){var res=null;for(var i=0;i<INTERNAL_UNITS.length;i++){var unit=INTERNAL_UNITS[i];if(denominator[unit]){var localRes=numerator[unit]/denominator[unit];if(!isInt(localRes)||(res!==null&&res!==localRes)){return null}
res=localRes}else if(numerator[unit]){return null}}
return res}
function greatestDurationDenominator(dur){var ms=dur.milliseconds;if(ms){if(ms%1000!==0){return{unit:'millisecond',value:ms}}
if(ms%(1000*60)!==0){return{unit:'second',value:ms/1000}}
if(ms%(1000*60*60)!==0){return{unit:'minute',value:ms/(1000*60)}}
if(ms){return{unit:'hour',value:ms/(1000*60*60)}}}
if(dur.days){if(dur.specifiedWeeks&&dur.days%7===0){return{unit:'week',value:dur.days/7}}
return{unit:'day',value:dur.days}}
if(dur.months){return{unit:'month',value:dur.months}}
if(dur.years){return{unit:'year',value:dur.years}}
return{unit:'millisecond',value:0}}
function buildIsoString(marker,timeZoneOffset,stripZeroTime){if(stripZeroTime===void 0){stripZeroTime=!1}
var s=marker.toISOString();s=s.replace('.000','');if(stripZeroTime){s=s.replace('T00:00:00Z','')}
if(s.length>10){if(timeZoneOffset==null){s=s.replace('Z','')}else if(timeZoneOffset!==0){s=s.replace('Z',formatTimeZoneOffset(timeZoneOffset,!0))}}
return s}
function formatDayString(marker){return marker.toISOString().replace(/T.*$/,'')}
function formatIsoTimeString(marker){return padStart(marker.getUTCHours(),2)+':'+padStart(marker.getUTCMinutes(),2)+':'+padStart(marker.getUTCSeconds(),2)}
function formatTimeZoneOffset(minutes,doIso){if(doIso===void 0){doIso=!1}
var sign=minutes<0?'-':'+';var abs=Math.abs(minutes);var hours=Math.floor(abs/60);var mins=Math.round(abs%60);if(doIso){return sign+padStart(hours,2)+':'+padStart(mins,2)}else{return'GMT'+sign+hours+(mins?':'+padStart(mins,2):'')}}
function memoize(workerFunc,resEquality,teardownFunc){var currentArgs;var currentRes;return function(){var newArgs=[];for(var _i=0;_i<arguments.length;_i++){newArgs[_i]=arguments[_i]}
if(!currentArgs){currentRes=workerFunc.apply(this,newArgs)}else if(!isArraysEqual(currentArgs,newArgs)){if(teardownFunc){teardownFunc(currentRes)}
var res=workerFunc.apply(this,newArgs);if(!resEquality||!resEquality(res,currentRes)){currentRes=res}}
currentArgs=newArgs;return currentRes}}
function memoizeObjArg(workerFunc,resEquality,teardownFunc){var currentArg;var currentRes;return function(newArg){if(!currentArg){currentRes=workerFunc.call(this,newArg)}else if(!isPropsEqual(currentArg,newArg)){if(teardownFunc){teardownFunc(currentRes)}
var res=workerFunc.call(this,newArg);if(!resEquality||!resEquality(res,currentRes)){currentRes=res}}
currentArg=newArg;return currentRes}}
function memoizeArraylike(workerFunc,resEquality,teardownFunc){var currentArgSets=[];var currentResults=[];return function(newArgSets){var currentLen=currentArgSets.length;var newLen=newArgSets.length;var i=0;for(;i<currentLen;i++){if(!newArgSets[i]){if(teardownFunc){teardownFunc(currentResults[i])}}else if(!isArraysEqual(currentArgSets[i],newArgSets[i])){if(teardownFunc){teardownFunc(currentResults[i])}
var res=workerFunc.apply(this,newArgSets[i]);if(!resEquality||!resEquality(res,currentResults[i])){currentResults[i]=res}}}
for(;i<newLen;i++){currentResults[i]=workerFunc.apply(this,newArgSets[i])}
currentArgSets=newArgSets;currentResults.splice(newLen);return currentResults}}
function memoizeHashlike(workerFunc,resEquality,teardownFunc){var currentArgHash={};var currentResHash={};return function(newArgHash){var newResHash={};for(var key in newArgHash){if(!currentResHash[key]){newResHash[key]=workerFunc.apply(this,newArgHash[key])}else if(!isArraysEqual(currentArgHash[key],newArgHash[key])){if(teardownFunc){teardownFunc(currentResHash[key])}
var res=workerFunc.apply(this,newArgHash[key]);newResHash[key]=(resEquality&&resEquality(res,currentResHash[key]))?currentResHash[key]:res}else{newResHash[key]=currentResHash[key]}}
currentArgHash=newArgHash;currentResHash=newResHash;return newResHash}}
var EXTENDED_SETTINGS_AND_SEVERITIES={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0};var STANDARD_DATE_PROP_SEVERITIES={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1};var MERIDIEM_RE=/\s*([ap])\.?m\.?/i;var COMMA_RE=/,/g;var MULTI_SPACE_RE=/\s+/g;var LTR_RE=/\u200e/g;var UTC_RE=/UTC|GMT/;var NativeFormatter=(function(){function NativeFormatter(formatSettings){var standardDateProps={};var extendedSettings={};var severity=0;for(var name_1 in formatSettings){if(name_1 in EXTENDED_SETTINGS_AND_SEVERITIES){extendedSettings[name_1]=formatSettings[name_1];severity=Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1],severity)}else{standardDateProps[name_1]=formatSettings[name_1];if(name_1 in STANDARD_DATE_PROP_SEVERITIES){severity=Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1],severity)}}}
this.standardDateProps=standardDateProps;this.extendedSettings=extendedSettings;this.severity=severity;this.buildFormattingFunc=memoize(buildFormattingFunc)}
NativeFormatter.prototype.format=function(date,context){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,context)(date)};NativeFormatter.prototype.formatRange=function(start,end,context,betterDefaultSeparator){var _a=this,standardDateProps=_a.standardDateProps,extendedSettings=_a.extendedSettings;var diffSeverity=computeMarkerDiffSeverity(start.marker,end.marker,context.calendarSystem);if(!diffSeverity){return this.format(start,context)}
var biggestUnitForPartial=diffSeverity;if(biggestUnitForPartial>1&&(standardDateProps.year==='numeric'||standardDateProps.year==='2-digit')&&(standardDateProps.month==='numeric'||standardDateProps.month==='2-digit')&&(standardDateProps.day==='numeric'||standardDateProps.day==='2-digit')){biggestUnitForPartial=1}
var full0=this.format(start,context);var full1=this.format(end,context);if(full0===full1){return full0}
var partialDateProps=computePartialFormattingOptions(standardDateProps,biggestUnitForPartial);var partialFormattingFunc=buildFormattingFunc(partialDateProps,extendedSettings,context);var partial0=partialFormattingFunc(start);var partial1=partialFormattingFunc(end);var insertion=findCommonInsertion(full0,partial0,full1,partial1);var separator=extendedSettings.separator||betterDefaultSeparator||context.defaultSeparator||'';if(insertion){return insertion.before+partial0+separator+partial1+insertion.after}
return full0+separator+full1};NativeFormatter.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return'year';case 4:return'month';case 3:return'week';case 2:return'day';default:return'time'}};return NativeFormatter}());function buildFormattingFunc(standardDateProps,extendedSettings,context){var standardDatePropCnt=Object.keys(standardDateProps).length;if(standardDatePropCnt===1&&standardDateProps.timeZoneName==='short'){return function(date){return formatTimeZoneOffset(date.timeZoneOffset)}}
if(standardDatePropCnt===0&&extendedSettings.week){return function(date){return formatWeekNumber(context.computeWeekNumber(date.marker),context.weekText,context.locale,extendedSettings.week)}}
return buildNativeFormattingFunc(standardDateProps,extendedSettings,context)}
function buildNativeFormattingFunc(standardDateProps,extendedSettings,context){standardDateProps=__assign({},standardDateProps);extendedSettings=__assign({},extendedSettings);sanitizeSettings(standardDateProps,extendedSettings);standardDateProps.timeZone='UTC';var normalFormat=new Intl.DateTimeFormat(context.locale.codes,standardDateProps);var zeroFormat;if(extendedSettings.omitZeroMinute){var zeroProps=__assign({},standardDateProps);delete zeroProps.minute;zeroFormat=new Intl.DateTimeFormat(context.locale.codes,zeroProps)}
return function(date){var marker=date.marker;var format;if(zeroFormat&&!marker.getUTCMinutes()){format=zeroFormat}else{format=normalFormat}
var s=format.format(marker);return postProcess(s,date,standardDateProps,extendedSettings,context)}}
function sanitizeSettings(standardDateProps,extendedSettings){if(standardDateProps.timeZoneName){if(!standardDateProps.hour){standardDateProps.hour='2-digit'}
if(!standardDateProps.minute){standardDateProps.minute='2-digit'}}
if(standardDateProps.timeZoneName==='long'){standardDateProps.timeZoneName='short'}
if(extendedSettings.omitZeroMinute&&(standardDateProps.second||standardDateProps.millisecond)){delete extendedSettings.omitZeroMinute}}
function postProcess(s,date,standardDateProps,extendedSettings,context){s=s.replace(LTR_RE,'');if(standardDateProps.timeZoneName==='short'){s=injectTzoStr(s,(context.timeZone==='UTC'||date.timeZoneOffset==null)?'UTC':formatTimeZoneOffset(date.timeZoneOffset))}
if(extendedSettings.omitCommas){s=s.replace(COMMA_RE,'').trim()}
if(extendedSettings.omitZeroMinute){s=s.replace(':00','')}
if(extendedSettings.meridiem===!1){s=s.replace(MERIDIEM_RE,'').trim()}else if(extendedSettings.meridiem==='narrow'){s=s.replace(MERIDIEM_RE,function(m0,m1){return m1.toLocaleLowerCase()})}else if(extendedSettings.meridiem==='short'){s=s.replace(MERIDIEM_RE,function(m0,m1){return m1.toLocaleLowerCase()+'m'})}else if(extendedSettings.meridiem==='lowercase'){s=s.replace(MERIDIEM_RE,function(m0){return m0.toLocaleLowerCase()})}
s=s.replace(MULTI_SPACE_RE,' ');s=s.trim();return s}
function injectTzoStr(s,tzoStr){var replaced=!1;s=s.replace(UTC_RE,function(){replaced=!0;return tzoStr});if(!replaced){s+=' '+tzoStr}
return s}
function formatWeekNumber(num,weekText,locale,display){var parts=[];if(display==='narrow'){parts.push(weekText)}else if(display==='short'){parts.push(weekText,' ')}
parts.push(locale.simpleNumberFormat.format(num));if(locale.options.direction==='rtl'){parts.reverse()}
return parts.join('')}
function computeMarkerDiffSeverity(d0,d1,ca){if(ca.getMarkerYear(d0)!==ca.getMarkerYear(d1)){return 5}
if(ca.getMarkerMonth(d0)!==ca.getMarkerMonth(d1)){return 4}
if(ca.getMarkerDay(d0)!==ca.getMarkerDay(d1)){return 2}
if(timeAsMs(d0)!==timeAsMs(d1)){return 1}
return 0}
function computePartialFormattingOptions(options,biggestUnit){var partialOptions={};for(var name_2 in options){if(!(name_2 in STANDARD_DATE_PROP_SEVERITIES)||STANDARD_DATE_PROP_SEVERITIES[name_2]<=biggestUnit){partialOptions[name_2]=options[name_2]}}
return partialOptions}
function findCommonInsertion(full0,partial0,full1,partial1){var i0=0;while(i0<full0.length){var found0=full0.indexOf(partial0,i0);if(found0===-1){break}
var before0=full0.substr(0,found0);i0=found0+partial0.length;var after0=full0.substr(i0);var i1=0;while(i1<full1.length){var found1=full1.indexOf(partial1,i1);if(found1===-1){break}
var before1=full1.substr(0,found1);i1=found1+partial1.length;var after1=full1.substr(i1);if(before0===before1&&after0===after1){return{before:before0,after:after0}}}}
return null}
function expandZonedMarker(dateInfo,calendarSystem){var a=calendarSystem.markerToArray(dateInfo.marker);return{marker:dateInfo.marker,timeZoneOffset:dateInfo.timeZoneOffset,array:a,year:a[0],month:a[1],day:a[2],hour:a[3],minute:a[4],second:a[5],millisecond:a[6]}}
function createVerboseFormattingArg(start,end,context,betterDefaultSeparator){var startInfo=expandZonedMarker(start,context.calendarSystem);var endInfo=end?expandZonedMarker(end,context.calendarSystem):null;return{date:startInfo,start:startInfo,end:endInfo,timeZone:context.timeZone,localeCodes:context.locale.codes,defaultSeparator:betterDefaultSeparator||context.defaultSeparator}}
var CmdFormatter=(function(){function CmdFormatter(cmdStr){this.cmdStr=cmdStr}
CmdFormatter.prototype.format=function(date,context,betterDefaultSeparator){return context.cmdFormatter(this.cmdStr,createVerboseFormattingArg(date,null,context,betterDefaultSeparator))};CmdFormatter.prototype.formatRange=function(start,end,context,betterDefaultSeparator){return context.cmdFormatter(this.cmdStr,createVerboseFormattingArg(start,end,context,betterDefaultSeparator))};return CmdFormatter}());var FuncFormatter=(function(){function FuncFormatter(func){this.func=func}
FuncFormatter.prototype.format=function(date,context,betterDefaultSeparator){return this.func(createVerboseFormattingArg(date,null,context,betterDefaultSeparator))};FuncFormatter.prototype.formatRange=function(start,end,context,betterDefaultSeparator){return this.func(createVerboseFormattingArg(start,end,context,betterDefaultSeparator))};return FuncFormatter}());function createFormatter(input){if(typeof input==='object'&&input){return new NativeFormatter(input)}else if(typeof input==='string'){return new CmdFormatter(input)}else if(typeof input==='function'){return new FuncFormatter(input)}}
var BASE_OPTION_REFINERS={navLinkDayClick:identity,navLinkWeekClick:identity,duration:createDuration,bootstrapFontAwesome:identity,buttonIcons:identity,customButtons:identity,defaultAllDayEventDuration:createDuration,defaultTimedEventDuration:createDuration,nextDayThreshold:createDuration,scrollTime:createDuration,slotMinTime:createDuration,slotMaxTime:createDuration,dayPopoverFormat:createFormatter,slotDuration:createDuration,snapDuration:createDuration,headerToolbar:identity,footerToolbar:identity,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:createFormatter,dayHeaderClassNames:identity,dayHeaderContent:identity,dayHeaderDidMount:identity,dayHeaderWillUnmount:identity,dayCellClassNames:identity,dayCellContent:identity,dayCellDidMount:identity,dayCellWillUnmount:identity,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:identity,weekNumbers:Boolean,weekNumberClassNames:identity,weekNumberContent:identity,weekNumberDidMount:identity,weekNumberWillUnmount:identity,editable:Boolean,viewClassNames:identity,viewDidMount:identity,viewWillUnmount:identity,nowIndicator:Boolean,nowIndicatorClassNames:identity,nowIndicatorContent:identity,nowIndicatorDidMount:identity,nowIndicatorWillUnmount:identity,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:identity,locale:identity,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:identity,eventOrder:parseFieldSpecs,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:identity,contentHeight:identity,direction:String,weekNumberFormat:createFormatter,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,progressiveEventRendering:Boolean,businessHours:identity,initialDate:identity,now:identity,eventDataTransform:identity,stickyHeaderDates:identity,stickyFooterScrollbar:identity,viewHeight:identity,defaultAllDay:Boolean,eventSourceFailure:identity,eventSourceSuccess:identity,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:identity,eventConstraint:identity,eventAllow:identity,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:identity,eventContent:identity,eventDidMount:identity,eventWillUnmount:identity,selectConstraint:identity,selectOverlap:identity,selectAllow:identity,droppable:Boolean,unselectCancel:String,slotLabelFormat:identity,slotLaneClassNames:identity,slotLaneContent:identity,slotLaneDidMount:identity,slotLaneWillUnmount:identity,slotLabelClassNames:identity,slotLabelContent:identity,slotLabelDidMount:identity,slotLabelWillUnmount:identity,dayMaxEvents:identity,dayMaxEventRows:identity,dayMinWidth:Number,slotLabelInterval:createDuration,allDayText:String,allDayClassNames:identity,allDayContent:identity,allDayDidMount:identity,allDayWillUnmount:identity,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:createFormatter,rerenderDelay:Number,moreLinkText:identity,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMinHeight:Number,slotEventOverlap:Boolean,plugins:identity,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:createDuration,hiddenDays:identity,monthMode:Boolean,fixedWeekCount:Boolean,validRange:identity,visibleRange:identity,titleFormat:identity,noEventsText:String};var BASE_OPTION_DEFAULTS={eventDisplay:'auto',defaultRangeSeparator:' - ',titleRangeSeparator:' \u2013 ',defaultTimedEventDuration:'01:00:00',defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:'00:00:00',dayHeaders:!0,initialView:'',aspectRatio:1.35,headerToolbar:{start:'title',center:'',end:'today prev,next'},weekends:!0,weekNumbers:!1,weekNumberCalculation:'local',editable:!1,nowIndicator:!1,scrollTime:'06:00:00',slotMinTime:'00:00:00',slotMaxTime:'24:00:00',showNonCurrentDates:!0,lazyFetching:!0,startParam:'start',endParam:'end',timeZoneParam:'timeZone',timeZone:'local',locales:[],locale:'',themeSystem:'standard',dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:'*',eventOrder:'start,-duration,allDay,title',dayPopoverFormat:{month:'long',day:'numeric',year:'numeric'},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1000,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1};var CALENDAR_LISTENER_REFINERS={datesSet:identity,eventsSet:identity,eventAdd:identity,eventChange:identity,eventRemove:identity,windowResize:identity,eventClick:identity,eventMouseEnter:identity,eventMouseLeave:identity,select:identity,unselect:identity,loading:identity,_unmount:identity,_beforeprint:identity,_afterprint:identity,_noEventDrop:identity,_noEventResize:identity,_resize:identity,_scrollRequest:identity};var CALENDAR_OPTION_REFINERS={buttonText:identity,views:identity,plugins:identity,initialEvents:identity,events:identity,eventSources:identity};var COMPLEX_OPTION_COMPARATORS={headerToolbar:isBoolComplexEqual,footerToolbar:isBoolComplexEqual,buttonText:isBoolComplexEqual,buttonIcons:isBoolComplexEqual};function isBoolComplexEqual(a,b){if(typeof a==='object'&&typeof b==='object'&&a&&b){return isPropsEqual(a,b)}else{return a===b}}
var VIEW_OPTION_REFINERS={type:String,component:identity,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:identity,usesMinMaxTime:Boolean,classNames:identity,content:identity,didMount:identity,willUnmount:identity};function mergeRawOptions(optionSets){return mergeProps(optionSets,COMPLEX_OPTION_COMPARATORS)}
function refineProps(input,refiners){var refined={};var extra={};for(var propName in refiners){if(propName in input){refined[propName]=refiners[propName](input[propName])}}
for(var propName in input){if(!(propName in refiners)){extra[propName]=input[propName]}}
return{refined:refined,extra:extra}}
function identity(raw){return raw}
function parseEvents(rawEvents,eventSource,context,allowOpenRange){var eventStore=createEmptyEventStore();var eventRefiners=buildEventRefiners(context);for(var _i=0,rawEvents_1=rawEvents;_i<rawEvents_1.length;_i++){var rawEvent=rawEvents_1[_i];var tuple=parseEvent(rawEvent,eventSource,context,allowOpenRange,eventRefiners);if(tuple){eventTupleToStore(tuple,eventStore)}}
return eventStore}
function eventTupleToStore(tuple,eventStore){if(eventStore===void 0){eventStore=createEmptyEventStore()}
eventStore.defs[tuple.def.defId]=tuple.def;if(tuple.instance){eventStore.instances[tuple.instance.instanceId]=tuple.instance}
return eventStore}
function getRelevantEvents(eventStore,instanceId){var instance=eventStore.instances[instanceId];if(instance){var def_1=eventStore.defs[instance.defId];var newStore=filterEventStoreDefs(eventStore,function(lookDef){return isEventDefsGrouped(def_1,lookDef)});newStore.defs[def_1.defId]=def_1;newStore.instances[instance.instanceId]=instance;return newStore}
return createEmptyEventStore()}
function isEventDefsGrouped(def0,def1){return Boolean(def0.groupId&&def0.groupId===def1.groupId)}
function createEmptyEventStore(){return{defs:{},instances:{}}}
function mergeEventStores(store0,store1){return{defs:__assign(__assign({},store0.defs),store1.defs),instances:__assign(__assign({},store0.instances),store1.instances)}}
function filterEventStoreDefs(eventStore,filterFunc){var defs=filterHash(eventStore.defs,filterFunc);var instances=filterHash(eventStore.instances,function(instance){return defs[instance.defId]});return{defs:defs,instances:instances}}
function excludeSubEventStore(master,sub){var defs=master.defs,instances=master.instances;var filteredDefs={};var filteredInstances={};for(var defId in defs){if(!sub.defs[defId]){filteredDefs[defId]=defs[defId]}}
for(var instanceId in instances){if(!sub.instances[instanceId]&&filteredDefs[instances[instanceId].defId]){filteredInstances[instanceId]=instances[instanceId]}}
return{defs:filteredDefs,instances:filteredInstances}}
function normalizeConstraint(input,context){if(Array.isArray(input)){return parseEvents(input,null,context,!0)}else if(typeof input==='object'&&input){return parseEvents([input],null,context,!0)}else if(input!=null){return String(input)}else{return null}}
function parseClassNames(raw){if(Array.isArray(raw)){return raw}else if(typeof raw==='string'){return raw.split(/\s+/)}else{return[]}}
var EVENT_UI_REFINERS={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:identity,overlap:identity,allow:identity,className:parseClassNames,classNames:parseClassNames,color:String,backgroundColor:String,borderColor:String,textColor:String};function createEventUi(refined,context){var constraint=normalizeConstraint(refined.constraint,context);return{display:refined.display||null,startEditable:refined.startEditable!=null?refined.startEditable:refined.editable,durationEditable:refined.durationEditable!=null?refined.durationEditable:refined.editable,constraints:constraint!=null?[constraint]:[],overlap:refined.overlap!=null?refined.overlap:null,allows:refined.allow!=null?[refined.allow]:[],backgroundColor:refined.backgroundColor||refined.color||'',borderColor:refined.borderColor||refined.color||'',textColor:refined.textColor||'',classNames:(refined.className||[]).concat(refined.classNames||[])}}
function combineEventUis(uis){return uis.reduce(combineTwoEventUis,EMPTY_EVENT_UI)}
function combineTwoEventUis(item0,item1){return{display:item1.display!=null?item1.display:item0.display,startEditable:item1.startEditable!=null?item1.startEditable:item0.startEditable,durationEditable:item1.durationEditable!=null?item1.durationEditable:item0.durationEditable,constraints:item0.constraints.concat(item1.constraints),overlap:typeof item1.overlap==='boolean'?item1.overlap:item0.overlap,allows:item0.allows.concat(item1.allows),backgroundColor:item1.backgroundColor||item0.backgroundColor,borderColor:item1.borderColor||item0.borderColor,textColor:item1.textColor||item0.textColor,classNames:item0.classNames.concat(item1.classNames)}}
var EMPTY_EVENT_UI={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:'',borderColor:'',textColor:'',classNames:[]};var EVENT_NON_DATE_REFINERS={id:String,groupId:String,title:String,url:String};var EVENT_DATE_REFINERS={start:identity,end:identity,date:identity,allDay:Boolean};var EVENT_REFINERS=__assign(__assign(__assign({},EVENT_NON_DATE_REFINERS),EVENT_DATE_REFINERS),{extendedProps:identity});function parseEvent(raw,eventSource,context,allowOpenRange,refiners){if(refiners===void 0){refiners=buildEventRefiners(context)}
var _a=refineEventDef(raw,context,refiners),refined=_a.refined,extra=_a.extra;var defaultAllDay=computeIsDefaultAllDay(eventSource,context);var recurringRes=parseRecurring(refined,defaultAllDay,context.dateEnv,context.pluginHooks.recurringTypes);if(recurringRes){var def=parseEventDef(refined,extra,eventSource?eventSource.sourceId:'',recurringRes.allDay,Boolean(recurringRes.duration),context);def.recurringDef={typeId:recurringRes.typeId,typeData:recurringRes.typeData,duration:recurringRes.duration};return{def:def,instance:null}}else{var singleRes=parseSingle(refined,defaultAllDay,context,allowOpenRange);if(singleRes){var def=parseEventDef(refined,extra,eventSource?eventSource.sourceId:'',singleRes.allDay,singleRes.hasEnd,context);var instance=createEventInstance(def.defId,singleRes.range,singleRes.forcedStartTzo,singleRes.forcedEndTzo);return{def:def,instance:instance}}}
return null}
function refineEventDef(raw,context,refiners){if(refiners===void 0){refiners=buildEventRefiners(context)}
return refineProps(raw,refiners)}
function buildEventRefiners(context){return __assign(__assign(__assign({},EVENT_UI_REFINERS),EVENT_REFINERS),context.pluginHooks.eventRefiners)}
function parseEventDef(refined,extra,sourceId,allDay,hasEnd,context){var def={title:refined.title||'',groupId:refined.groupId||'',publicId:refined.id||'',url:refined.url||'',recurringDef:null,defId:guid(),sourceId:sourceId,allDay:allDay,hasEnd:hasEnd,ui:createEventUi(refined,context),extendedProps:__assign(__assign({},(refined.extendedProps||{})),extra)};for(var _i=0,_a=context.pluginHooks.eventDefMemberAdders;_i<_a.length;_i++){var memberAdder=_a[_i];__assign(def,memberAdder(refined))}
Object.freeze(def.ui.classNames);Object.freeze(def.extendedProps);return def}
function parseSingle(refined,defaultAllDay,context,allowOpenRange){var allDay=refined.allDay;var startMeta;var startMarker=null;var hasEnd=!1;var endMeta;var endMarker=null;var startInput=refined.start!=null?refined.start:refined.date;startMeta=context.dateEnv.createMarkerMeta(startInput);if(startMeta){startMarker=startMeta.marker}else if(!allowOpenRange){return null}
if(refined.end!=null){endMeta=context.dateEnv.createMarkerMeta(refined.end)}
if(allDay==null){if(defaultAllDay!=null){allDay=defaultAllDay}else{allDay=(!startMeta||startMeta.isTimeUnspecified)&&(!endMeta||endMeta.isTimeUnspecified)}}
if(allDay&&startMarker){startMarker=startOfDay(startMarker)}
if(endMeta){endMarker=endMeta.marker;if(allDay){endMarker=startOfDay(endMarker)}
if(startMarker&&endMarker<=startMarker){endMarker=null}}
if(endMarker){hasEnd=!0}else if(!allowOpenRange){hasEnd=context.options.forceEventDuration||!1;endMarker=context.dateEnv.add(startMarker,allDay?context.options.defaultAllDayEventDuration:context.options.defaultTimedEventDuration)}
return{allDay:allDay,hasEnd:hasEnd,range:{start:startMarker,end:endMarker},forcedStartTzo:startMeta?startMeta.forcedTzo:null,forcedEndTzo:endMeta?endMeta.forcedTzo:null}}
function computeIsDefaultAllDay(eventSource,context){var res=null;if(eventSource){res=eventSource.defaultAllDay}
if(res==null){res=context.options.defaultAllDay}
return res}
function computeAlignedDayRange(timedRange){var dayCnt=Math.floor(diffDays(timedRange.start,timedRange.end))||1;var start=startOfDay(timedRange.start);var end=addDays(start,dayCnt);return{start:start,end:end}}
function computeVisibleDayRange(timedRange,nextDayThreshold){if(nextDayThreshold===void 0){nextDayThreshold=createDuration(0)}
var startDay=null;var endDay=null;if(timedRange.end){endDay=startOfDay(timedRange.end);var endTimeMS=timedRange.end.valueOf()-endDay.valueOf();if(endTimeMS&&endTimeMS>=asRoughMs(nextDayThreshold)){endDay=addDays(endDay,1)}}
if(timedRange.start){startDay=startOfDay(timedRange.start);if(endDay&&endDay<=startDay){endDay=addDays(startDay,1)}}
return{start:startDay,end:endDay}}
function isMultiDayRange(range){var visibleRange=computeVisibleDayRange(range);return diffDays(visibleRange.start,visibleRange.end)>1}
function diffDates(date0,date1,dateEnv,largeUnit){if(largeUnit==='year'){return createDuration(dateEnv.diffWholeYears(date0,date1),'year')}else if(largeUnit==='month'){return createDuration(dateEnv.diffWholeMonths(date0,date1),'month')}else{return diffDayAndTime(date0,date1)}}
function parseRange(input,dateEnv){var start=null;var end=null;if(input.start){start=dateEnv.createMarker(input.start)}
if(input.end){end=dateEnv.createMarker(input.end)}
if(!start&&!end){return null}
if(start&&end&&end<start){return null}
return{start:start,end:end}}
function invertRanges(ranges,constraintRange){var invertedRanges=[];var start=constraintRange.start;var i;var dateRange;ranges.sort(compareRanges);for(i=0;i<ranges.length;i++){dateRange=ranges[i];if(dateRange.start>start){invertedRanges.push({start:start,end:dateRange.start})}
if(dateRange.end>start){start=dateRange.end}}
if(start<constraintRange.end){invertedRanges.push({start:start,end:constraintRange.end})}
return invertedRanges}
function compareRanges(range0,range1){return range0.start.valueOf()-range1.start.valueOf()}
function intersectRanges(range0,range1){var start=range0.start;var end=range0.end;var newRange=null;if(range1.start!==null){if(start===null){start=range1.start}else{start=new Date(Math.max(start.valueOf(),range1.start.valueOf()))}}
if(range1.end!=null){if(end===null){end=range1.end}else{end=new Date(Math.min(end.valueOf(),range1.end.valueOf()))}}
if(start===null||end===null||start<end){newRange={start:start,end:end}}
return newRange}
function rangesEqual(range0,range1){return(range0.start===null?null:range0.start.valueOf())===(range1.start===null?null:range1.start.valueOf())&&(range0.end===null?null:range0.end.valueOf())===(range1.end===null?null:range1.end.valueOf())}
function rangesIntersect(range0,range1){return(range0.end===null||range1.start===null||range0.end>range1.start)&&(range0.start===null||range1.end===null||range0.start<range1.end)}
function rangeContainsRange(outerRange,innerRange){return(outerRange.start===null||(innerRange.start!==null&&innerRange.start>=outerRange.start))&&(outerRange.end===null||(innerRange.end!==null&&innerRange.end<=outerRange.end))}
function rangeContainsMarker(range,date){return(range.start===null||date>=range.start)&&(range.end===null||date<range.end)}
function constrainMarkerToRange(date,range){if(range.start!=null&&date<range.start){return range.start}
if(range.end!=null&&date>=range.end){return new Date(range.end.valueOf()-1)}
return date}
function sliceEventStore(eventStore,eventUiBases,framingRange,nextDayThreshold){var inverseBgByGroupId={};var inverseBgByDefId={};var defByGroupId={};var bgRanges=[];var fgRanges=[];var eventUis=compileEventUis(eventStore.defs,eventUiBases);for(var defId in eventStore.defs){var def=eventStore.defs[defId];var ui=eventUis[def.defId];if(ui.display==='inverse-background'){if(def.groupId){inverseBgByGroupId[def.groupId]=[];if(!defByGroupId[def.groupId]){defByGroupId[def.groupId]=def}}else{inverseBgByDefId[defId]=[]}}}
for(var instanceId in eventStore.instances){var instance=eventStore.instances[instanceId];var def=eventStore.defs[instance.defId];var ui=eventUis[def.defId];var origRange=instance.range;var normalRange=(!def.allDay&&nextDayThreshold)?computeVisibleDayRange(origRange,nextDayThreshold):origRange;var slicedRange=intersectRanges(normalRange,framingRange);if(slicedRange){if(ui.display==='inverse-background'){if(def.groupId){inverseBgByGroupId[def.groupId].push(slicedRange)}else{inverseBgByDefId[instance.defId].push(slicedRange)}}else if(ui.display!=='none'){(ui.display==='background'?bgRanges:fgRanges).push({def:def,ui:ui,instance:instance,range:slicedRange,isStart:normalRange.start&&normalRange.start.valueOf()===slicedRange.start.valueOf(),isEnd:normalRange.end&&normalRange.end.valueOf()===slicedRange.end.valueOf()})}}}
for(var groupId in inverseBgByGroupId){var ranges=inverseBgByGroupId[groupId];var invertedRanges=invertRanges(ranges,framingRange);for(var _i=0,invertedRanges_1=invertedRanges;_i<invertedRanges_1.length;_i++){var invertedRange=invertedRanges_1[_i];var def=defByGroupId[groupId];var ui=eventUis[def.defId];bgRanges.push({def:def,ui:ui,instance:null,range:invertedRange,isStart:!1,isEnd:!1})}}
for(var defId in inverseBgByDefId){var ranges=inverseBgByDefId[defId];var invertedRanges=invertRanges(ranges,framingRange);for(var _a=0,invertedRanges_2=invertedRanges;_a<invertedRanges_2.length;_a++){var invertedRange=invertedRanges_2[_a];bgRanges.push({def:eventStore.defs[defId],ui:eventUis[defId],instance:null,range:invertedRange,isStart:!1,isEnd:!1})}}
return{bg:bgRanges,fg:fgRanges}}
function hasBgRendering(def){return def.ui.display==='background'||def.ui.display==='inverse-background'}
function setElSeg(el,seg){el.fcSeg=seg}
function getElSeg(el){return el.fcSeg||el.parentNode.fcSeg||null}
function compileEventUis(eventDefs,eventUiBases){return mapHash(eventDefs,function(eventDef){return compileEventUi(eventDef,eventUiBases)})}
function compileEventUi(eventDef,eventUiBases){var uis=[];if(eventUiBases['']){uis.push(eventUiBases[''])}
if(eventUiBases[eventDef.defId]){uis.push(eventUiBases[eventDef.defId])}
uis.push(eventDef.ui);return combineEventUis(uis)}
function sortEventSegs(segs,eventOrderSpecs){var objs=segs.map(buildSegCompareObj);objs.sort(function(obj0,obj1){return compareByFieldSpecs(obj0,obj1,eventOrderSpecs)});return objs.map(function(c){return c._seg})}
function buildSegCompareObj(seg){var eventRange=seg.eventRange;var eventDef=eventRange.def;var range=eventRange.instance?eventRange.instance.range:eventRange.range;var start=range.start?range.start.valueOf():0;var end=range.end?range.end.valueOf():0;return __assign(__assign(__assign({},eventDef.extendedProps),eventDef),{id:eventDef.publicId,start:start,end:end,duration:end-start,allDay:Number(eventDef.allDay),_seg:seg})}
function computeSegDraggable(seg,context){var pluginHooks=context.pluginHooks;var transformers=pluginHooks.isDraggableTransformers;var _a=seg.eventRange,def=_a.def,ui=_a.ui;var val=ui.startEditable;for(var _i=0,transformers_1=transformers;_i<transformers_1.length;_i++){var transformer=transformers_1[_i];val=transformer(val,def,ui,context)}
return val}
function computeSegStartResizable(seg,context){return seg.isStart&&seg.eventRange.ui.durationEditable&&context.options.eventResizableFromStart}
function computeSegEndResizable(seg,context){return seg.isEnd&&seg.eventRange.ui.durationEditable}
function buildSegTimeText(seg,timeFormat,context,defaultDisplayEventTime,defaultDisplayEventEnd,startOverride,endOverride){var dateEnv=context.dateEnv,options=context.options;var displayEventTime=options.displayEventTime,displayEventEnd=options.displayEventEnd;var eventDef=seg.eventRange.def;var eventInstance=seg.eventRange.instance;if(displayEventTime==null){displayEventTime=defaultDisplayEventTime!==!1}
if(displayEventEnd==null){displayEventEnd=defaultDisplayEventEnd!==!1}
if(displayEventTime&&!eventDef.allDay&&(seg.isStart||seg.isEnd)){var segStart=startOverride||(seg.isStart?eventInstance.range.start:(seg.start||seg.eventRange.range.start));var segEnd=endOverride||(seg.isEnd?eventInstance.range.end:(seg.end||seg.eventRange.range.end));if(displayEventEnd&&eventDef.hasEnd){return dateEnv.formatRange(segStart,segEnd,timeFormat,{forcedStartTzo:startOverride?null:eventInstance.forcedStartTzo,forcedEndTzo:endOverride?null:eventInstance.forcedEndTzo})}else{return dateEnv.format(segStart,timeFormat,{forcedTzo:startOverride?null:eventInstance.forcedStartTzo})}}
return''}
function getSegMeta(seg,todayRange,nowDate){var segRange=seg.eventRange.range;return{isPast:segRange.end<(nowDate||todayRange.start),isFuture:segRange.start>=(nowDate||todayRange.end),isToday:todayRange&&rangeContainsMarker(todayRange,segRange.start)}}
function getEventClassNames(props){var classNames=['fc-event'];if(props.isMirror){classNames.push('fc-event-mirror')}
if(props.isDraggable){classNames.push('fc-event-draggable')}
if(props.isStartResizable||props.isEndResizable){classNames.push('fc-event-resizable')}
if(props.isDragging){classNames.push('fc-event-dragging')}
if(props.isResizing){classNames.push('fc-event-resizing')}
if(props.isSelected){classNames.push('fc-event-selected')}
if(props.isStart){classNames.push('fc-event-start')}
if(props.isEnd){classNames.push('fc-event-end')}
if(props.isPast){classNames.push('fc-event-past')}
if(props.isToday){classNames.push('fc-event-today')}
if(props.isFuture){classNames.push('fc-event-future')}
return classNames}
function buildEventRangeKey(eventRange){return eventRange.instance?eventRange.instance.instanceId:eventRange.def.defId+':'+eventRange.range.start.toISOString()}
var STANDARD_PROPS={start:identity,end:identity,allDay:Boolean};function parseDateSpan(raw,dateEnv,defaultDuration){var span=parseOpenDateSpan(raw,dateEnv);var range=span.range;if(!range.start){return null}
if(!range.end){if(defaultDuration==null){return null}else{range.end=dateEnv.add(range.start,defaultDuration)}}
return span}
function parseOpenDateSpan(raw,dateEnv){var _a=refineProps(raw,STANDARD_PROPS),standardProps=_a.refined,extra=_a.extra;var startMeta=standardProps.start?dateEnv.createMarkerMeta(standardProps.start):null;var endMeta=standardProps.end?dateEnv.createMarkerMeta(standardProps.end):null;var allDay=standardProps.allDay;if(allDay==null){allDay=(startMeta&&startMeta.isTimeUnspecified)&&(!endMeta||endMeta.isTimeUnspecified)}
return __assign({range:{start:startMeta?startMeta.marker:null,end:endMeta?endMeta.marker:null,},allDay:allDay},extra)}
function isDateSpansEqual(span0,span1){return rangesEqual(span0.range,span1.range)&&span0.allDay===span1.allDay&&isSpanPropsEqual(span0,span1)}
function isSpanPropsEqual(span0,span1){for(var propName in span1){if(propName!=='range'&&propName!=='allDay'){if(span0[propName]!==span1[propName]){return!1}}}
for(var propName in span0){if(!(propName in span1)){return!1}}
return!0}
function buildDateSpanApi(span,dateEnv){return __assign(__assign({},buildRangeApi(span.range,dateEnv,span.allDay)),{allDay:span.allDay})}
function buildRangeApiWithTimeZone(range,dateEnv,omitTime){return __assign(__assign({},buildRangeApi(range,dateEnv,omitTime)),{timeZone:dateEnv.timeZone})}
function buildRangeApi(range,dateEnv,omitTime){return{start:dateEnv.toDate(range.start),end:dateEnv.toDate(range.end),startStr:dateEnv.formatIso(range.start,{omitTime:omitTime}),endStr:dateEnv.formatIso(range.end,{omitTime:omitTime})}}
function fabricateEventRange(dateSpan,eventUiBases,context){var res=refineEventDef({editable:!1},context);var def=parseEventDef(res.refined,res.extra,'',dateSpan.allDay,!0,context);return{def:def,ui:compileEventUi(def,eventUiBases),instance:createEventInstance(def.defId,dateSpan.range),range:dateSpan.range,isStart:!0,isEnd:!0}}
function triggerDateSelect(selection,pev,context){context.emitter.trigger('select',__assign(__assign({},buildDateSpanApiWithContext(selection,context)),{jsEvent:pev?pev.origEvent:null,view:context.viewApi||context.calendarApi.view}))}
function triggerDateUnselect(pev,context){context.emitter.trigger('unselect',{jsEvent:pev?pev.origEvent:null,view:context.viewApi||context.calendarApi.view})}
function buildDateSpanApiWithContext(dateSpan,context){var props={};for(var _i=0,_a=context.pluginHooks.dateSpanTransforms;_i<_a.length;_i++){var transform=_a[_i];__assign(props,transform(dateSpan,context))}
__assign(props,buildDateSpanApi(dateSpan,context.dateEnv));return props}
function getDefaultEventEnd(allDay,marker,context){var dateEnv=context.dateEnv,options=context.options;var end=marker;if(allDay){end=startOfDay(end);end=dateEnv.add(end,options.defaultAllDayEventDuration)}else{end=dateEnv.add(end,options.defaultTimedEventDuration)}
return end}
function applyMutationToEventStore(eventStore,eventConfigBase,mutation,context){var eventConfigs=compileEventUis(eventStore.defs,eventConfigBase);var dest=createEmptyEventStore();for(var defId in eventStore.defs){var def=eventStore.defs[defId];dest.defs[defId]=applyMutationToEventDef(def,eventConfigs[defId],mutation,context)}
for(var instanceId in eventStore.instances){var instance=eventStore.instances[instanceId];var def=dest.defs[instance.defId];dest.instances[instanceId]=applyMutationToEventInstance(instance,def,eventConfigs[instance.defId],mutation,context)}
return dest}
function applyMutationToEventDef(eventDef,eventConfig,mutation,context){var standardProps=mutation.standardProps||{};if(standardProps.hasEnd==null&&eventConfig.durationEditable&&(mutation.startDelta||mutation.endDelta)){standardProps.hasEnd=!0}
var copy=__assign(__assign(__assign({},eventDef),standardProps),{ui:__assign(__assign({},eventDef.ui),standardProps.ui)});if(mutation.extendedProps){copy.extendedProps=__assign(__assign({},copy.extendedProps),mutation.extendedProps)}
for(var _i=0,_a=context.pluginHooks.eventDefMutationAppliers;_i<_a.length;_i++){var applier=_a[_i];applier(copy,mutation,context)}
if(!copy.hasEnd&&context.options.forceEventDuration){copy.hasEnd=!0}
return copy}
function applyMutationToEventInstance(eventInstance,eventDef,eventConfig,mutation,context){var dateEnv=context.dateEnv;var forceAllDay=mutation.standardProps&&mutation.standardProps.allDay===!0;var clearEnd=mutation.standardProps&&mutation.standardProps.hasEnd===!1;var copy=__assign({},eventInstance);if(forceAllDay){copy.range=computeAlignedDayRange(copy.range)}
if(mutation.datesDelta&&eventConfig.startEditable){copy.range={start:dateEnv.add(copy.range.start,mutation.datesDelta),end:dateEnv.add(copy.range.end,mutation.datesDelta)}}
if(mutation.startDelta&&eventConfig.durationEditable){copy.range={start:dateEnv.add(copy.range.start,mutation.startDelta),end:copy.range.end}}
if(mutation.endDelta&&eventConfig.durationEditable){copy.range={start:copy.range.start,end:dateEnv.add(copy.range.end,mutation.endDelta)}}
if(clearEnd){copy.range={start:copy.range.start,end:getDefaultEventEnd(eventDef.allDay,copy.range.start,context)}}
if(eventDef.allDay){copy.range={start:startOfDay(copy.range.start),end:startOfDay(copy.range.end)}}
if(copy.range.end<copy.range.start){copy.range.end=getDefaultEventEnd(eventDef.allDay,copy.range.start,context)}
return copy}
var ViewApi=(function(){function ViewApi(type,getCurrentData,dateEnv){this.type=type;this.getCurrentData=getCurrentData;this.dateEnv=dateEnv}
Object.defineProperty(ViewApi.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0});Object.defineProperty(ViewApi.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0});Object.defineProperty(ViewApi.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0});Object.defineProperty(ViewApi.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0});Object.defineProperty(ViewApi.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0});Object.defineProperty(ViewApi.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0});ViewApi.prototype.getOption=function(name){return this.getCurrentData().options[name]};return ViewApi}());var EVENT_SOURCE_REFINERS={id:String,defaultAllDay:Boolean,url:String,events:identity,eventDataTransform:identity,success:identity,failure:identity,};function parseEventSource(raw,context,refiners){if(refiners===void 0){refiners=buildEventSourceRefiners(context)}
var rawObj;if(typeof raw==='string'){rawObj={url:raw}}else if(typeof raw==='function'||Array.isArray(raw)){rawObj={events:raw}}else if(typeof raw==='object'&&raw){rawObj=raw}
if(rawObj){var _a=refineProps(rawObj,refiners),refined=_a.refined,extra=_a.extra;var metaRes=buildEventSourceMeta(refined,context);if(metaRes){return{_raw:raw,isFetching:!1,latestFetchId:'',fetchRange:null,defaultAllDay:refined.defaultAllDay,eventDataTransform:refined.eventDataTransform,success:refined.success,failure:refined.failure,publicId:refined.id||'',sourceId:guid(),sourceDefId:metaRes.sourceDefId,meta:metaRes.meta,ui:createEventUi(refined,context),extendedProps:extra}}}
return null}
function buildEventSourceRefiners(context){return __assign(__assign(__assign({},EVENT_UI_REFINERS),EVENT_SOURCE_REFINERS),context.pluginHooks.eventSourceRefiners)}
function buildEventSourceMeta(raw,context){var defs=context.pluginHooks.eventSourceDefs;for(var i=defs.length-1;i>=0;i--){var def=defs[i];var meta=def.parseMeta(raw);if(meta){return{sourceDefId:i,meta:meta}}}
return null}
function reduceCurrentDate(currentDate,action){switch(action.type){case 'CHANGE_DATE':return action.dateMarker;default:return currentDate}}
function getInitialDate(options,dateEnv){var initialDateInput=options.initialDate;if(initialDateInput!=null){return dateEnv.createMarker(initialDateInput)}else{return getNow(options.now,dateEnv)}}
function getNow(nowInput,dateEnv){if(typeof nowInput==='function'){nowInput=nowInput()}
if(nowInput==null){return dateEnv.createNowMarker()}
return dateEnv.createMarker(nowInput)}
var CalendarApi=(function(){function CalendarApi(){}
CalendarApi.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()};CalendarApi.prototype.dispatch=function(action){return this.currentDataManager.dispatch(action)};Object.defineProperty(CalendarApi.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0});CalendarApi.prototype.batchRendering=function(callback){callback()};CalendarApi.prototype.updateSize=function(){this.trigger('_resize',!0)};CalendarApi.prototype.setOption=function(name,val){this.dispatch({type:'SET_OPTION',optionName:name,rawOptionValue:val})};CalendarApi.prototype.getOption=function(name){return this.currentDataManager.currentCalendarOptionsInput[name]};CalendarApi.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)};CalendarApi.prototype.on=function(handlerName,handler){var currentDataManager=this.currentDataManager;if(currentDataManager.currentCalendarOptionsRefiners[handlerName]){currentDataManager.emitter.on(handlerName,handler)}else{console.warn("Unknown listener name '"+handlerName+"'")}};CalendarApi.prototype.off=function(handlerName,handler){this.currentDataManager.emitter.off(handlerName,handler)};CalendarApi.prototype.trigger=function(handlerName){var _a;var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}(_a=this.currentDataManager.emitter).trigger.apply(_a,__spreadArrays([handlerName],args))};CalendarApi.prototype.changeView=function(viewType,dateOrRange){var _this=this;this.batchRendering(function(){_this.unselect();if(dateOrRange){if(dateOrRange.start&&dateOrRange.end){_this.dispatch({type:'CHANGE_VIEW_TYPE',viewType:viewType,});_this.dispatch({type:'SET_OPTION',optionName:'visibleRange',rawOptionValue:dateOrRange})}else{var dateEnv=_this.getCurrentData().dateEnv;_this.dispatch({type:'CHANGE_VIEW_TYPE',viewType:viewType,dateMarker:dateEnv.createMarker(dateOrRange)})}}else{_this.dispatch({type:'CHANGE_VIEW_TYPE',viewType:viewType})}})};CalendarApi.prototype.zoomTo=function(dateMarker,viewType){var state=this.getCurrentData();var spec;viewType=viewType||'day';spec=state.viewSpecs[viewType]||this.getUnitViewSpec(viewType);this.unselect();if(spec){this.dispatch({type:'CHANGE_VIEW_TYPE',viewType:spec.type,dateMarker:dateMarker})}else{this.dispatch({type:'CHANGE_DATE',dateMarker:dateMarker})}};CalendarApi.prototype.getUnitViewSpec=function(unit){var _a=this.getCurrentData(),viewSpecs=_a.viewSpecs,toolbarConfig=_a.toolbarConfig;var viewTypes=[].concat(toolbarConfig.viewsWithButtons);var i;var spec;for(var viewType in viewSpecs){viewTypes.push(viewType)}
for(i=0;i<viewTypes.length;i++){spec=viewSpecs[viewTypes[i]];if(spec){if(spec.singleUnit===unit){return spec}}}};CalendarApi.prototype.prev=function(){this.unselect();this.dispatch({type:'PREV'})};CalendarApi.prototype.next=function(){this.unselect();this.dispatch({type:'NEXT'})};CalendarApi.prototype.prevYear=function(){var state=this.getCurrentData();this.unselect();this.dispatch({type:'CHANGE_DATE',dateMarker:state.dateEnv.addYears(state.currentDate,-1)})};CalendarApi.prototype.nextYear=function(){var state=this.getCurrentData();this.unselect();this.dispatch({type:'CHANGE_DATE',dateMarker:state.dateEnv.addYears(state.currentDate,1)})};CalendarApi.prototype.today=function(){var state=this.getCurrentData();this.unselect();this.dispatch({type:'CHANGE_DATE',dateMarker:getNow(state.calendarOptions.now,state.dateEnv)})};CalendarApi.prototype.gotoDate=function(zonedDateInput){var state=this.getCurrentData();this.unselect();this.dispatch({type:'CHANGE_DATE',dateMarker:state.dateEnv.createMarker(zonedDateInput)})};CalendarApi.prototype.incrementDate=function(deltaInput){var state=this.getCurrentData();var delta=createDuration(deltaInput);if(delta){this.unselect();this.dispatch({type:'CHANGE_DATE',dateMarker:state.dateEnv.add(state.currentDate,delta)})}};CalendarApi.prototype.getDate=function(){var state=this.getCurrentData();return state.dateEnv.toDate(state.currentDate)};CalendarApi.prototype.formatDate=function(d,formatter){var dateEnv=this.getCurrentData().dateEnv;return dateEnv.format(dateEnv.createMarker(d),createFormatter(formatter))};CalendarApi.prototype.formatRange=function(d0,d1,settings){var dateEnv=this.getCurrentData().dateEnv;return dateEnv.formatRange(dateEnv.createMarker(d0),dateEnv.createMarker(d1),createFormatter(settings),settings)};CalendarApi.prototype.formatIso=function(d,omitTime){var dateEnv=this.getCurrentData().dateEnv;return dateEnv.formatIso(dateEnv.createMarker(d),{omitTime:omitTime})};CalendarApi.prototype.select=function(dateOrObj,endDate){var selectionInput;if(endDate==null){if(dateOrObj.start!=null){selectionInput=dateOrObj}else{selectionInput={start:dateOrObj,end:null}}}else{selectionInput={start:dateOrObj,end:endDate}}
var state=this.getCurrentData();var selection=parseDateSpan(selectionInput,state.dateEnv,createDuration({days:1}));if(selection){this.dispatch({type:'SELECT_DATES',selection:selection});triggerDateSelect(selection,null,state)}};CalendarApi.prototype.unselect=function(pev){var state=this.getCurrentData();if(state.dateSelection){this.dispatch({type:'UNSELECT_DATES'});triggerDateUnselect(pev,state)}};CalendarApi.prototype.addEvent=function(eventInput,sourceInput){if(eventInput instanceof EventApi){var def=eventInput._def;var instance=eventInput._instance;var currentData=this.getCurrentData();if(!currentData.eventStore.defs[def.defId]){this.dispatch({type:'ADD_EVENTS',eventStore:eventTupleToStore({def:def,instance:instance})});this.triggerEventAdd(eventInput)}
return eventInput}
var state=this.getCurrentData();var eventSource;if(sourceInput instanceof EventSourceApi){eventSource=sourceInput.internalEventSource}else if(typeof sourceInput==='boolean'){if(sourceInput){eventSource=hashValuesToArray(state.eventSources)[0]}}else if(sourceInput!=null){var sourceApi=this.getEventSourceById(sourceInput);if(!sourceApi){console.warn('Could not find an event source with ID "'+sourceInput+'"');return null}else{eventSource=sourceApi.internalEventSource}}
var tuple=parseEvent(eventInput,eventSource,state,!1);if(tuple){var newEventApi=new EventApi(state,tuple.def,tuple.def.recurringDef?null:tuple.instance);this.dispatch({type:'ADD_EVENTS',eventStore:eventTupleToStore(tuple)});this.triggerEventAdd(newEventApi);return newEventApi}
return null};CalendarApi.prototype.triggerEventAdd=function(eventApi){var _this=this;var emitter=this.getCurrentData().emitter;emitter.trigger('eventAdd',{event:eventApi,relatedEvents:[],revert:function(){_this.dispatch({type:'REMOVE_EVENTS',eventStore:eventApiToStore(eventApi)})}})};CalendarApi.prototype.getEventById=function(id){var state=this.getCurrentData();var _a=state.eventStore,defs=_a.defs,instances=_a.instances;id=String(id);for(var defId in defs){var def=defs[defId];if(def.publicId===id){if(def.recurringDef){return new EventApi(state,def,null)}else{for(var instanceId in instances){var instance=instances[instanceId];if(instance.defId===def.defId){return new EventApi(state,def,instance)}}}}}
return null};CalendarApi.prototype.getEvents=function(){var currentData=this.getCurrentData();return buildEventApis(currentData.eventStore,currentData)};CalendarApi.prototype.removeAllEvents=function(){this.dispatch({type:'REMOVE_ALL_EVENTS'})};CalendarApi.prototype.getEventSources=function(){var state=this.getCurrentData();var sourceHash=state.eventSources;var sourceApis=[];for(var internalId in sourceHash){sourceApis.push(new EventSourceApi(state,sourceHash[internalId]))}
return sourceApis};CalendarApi.prototype.getEventSourceById=function(id){var state=this.getCurrentData();var sourceHash=state.eventSources;id=String(id);for(var sourceId in sourceHash){if(sourceHash[sourceId].publicId===id){return new EventSourceApi(state,sourceHash[sourceId])}}
return null};CalendarApi.prototype.addEventSource=function(sourceInput){var state=this.getCurrentData();if(sourceInput instanceof EventSourceApi){if(!state.eventSources[sourceInput.internalEventSource.sourceId]){this.dispatch({type:'ADD_EVENT_SOURCES',sources:[sourceInput.internalEventSource]})}
return sourceInput}
var eventSource=parseEventSource(sourceInput,state);if(eventSource){this.dispatch({type:'ADD_EVENT_SOURCES',sources:[eventSource]});return new EventSourceApi(state,eventSource)}
return null};CalendarApi.prototype.removeAllEventSources=function(){this.dispatch({type:'REMOVE_ALL_EVENT_SOURCES'})};CalendarApi.prototype.refetchEvents=function(){this.dispatch({type:'FETCH_EVENT_SOURCES'})};CalendarApi.prototype.scrollToTime=function(timeInput){var time=createDuration(timeInput);if(time){this.trigger('_scrollRequest',{time:time})}};return CalendarApi}());var EventApi=(function(){function EventApi(context,def,instance){this._context=context;this._def=def;this._instance=instance||null}
EventApi.prototype.setProp=function(name,val){var _a,_b;if(name in EVENT_DATE_REFINERS){console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.")}else if(name in EVENT_NON_DATE_REFINERS){val=EVENT_NON_DATE_REFINERS[name](val);this.mutate({standardProps:(_a={},_a[name]=val,_a)})}else if(name in EVENT_UI_REFINERS){var ui=EVENT_UI_REFINERS[name](val);if(name==='color'){ui={backgroundColor:val,borderColor:val}}else if(name==='editable'){ui={startEditable:val,durationEditable:val}}else{ui=(_b={},_b[name]=val,_b)}
this.mutate({standardProps:{ui:ui}})}else{console.warn("Could not set prop '"+name+"'. Use setExtendedProp instead.")}};EventApi.prototype.setExtendedProp=function(name,val){var _a;this.mutate({extendedProps:(_a={},_a[name]=val,_a)})};EventApi.prototype.setStart=function(startInput,options){if(options===void 0){options={}}
var dateEnv=this._context.dateEnv;var start=dateEnv.createMarker(startInput);if(start&&this._instance){var instanceRange=this._instance.range;var startDelta=diffDates(instanceRange.start,start,dateEnv,options.granularity);if(options.maintainDuration){this.mutate({datesDelta:startDelta})}else{this.mutate({startDelta:startDelta})}}};EventApi.prototype.setEnd=function(endInput,options){if(options===void 0){options={}}
var dateEnv=this._context.dateEnv;var end;if(endInput!=null){end=dateEnv.createMarker(endInput);if(!end){return}}
if(this._instance){if(end){var endDelta=diffDates(this._instance.range.end,end,dateEnv,options.granularity);this.mutate({endDelta:endDelta})}else{this.mutate({standardProps:{hasEnd:!1}})}}};EventApi.prototype.setDates=function(startInput,endInput,options){if(options===void 0){options={}}
var dateEnv=this._context.dateEnv;var standardProps={allDay:options.allDay};var start=dateEnv.createMarker(startInput);var end;if(!start){return}
if(endInput!=null){end=dateEnv.createMarker(endInput);if(!end){return}}
if(this._instance){var instanceRange=this._instance.range;if(options.allDay===!0){instanceRange=computeAlignedDayRange(instanceRange)}
var startDelta=diffDates(instanceRange.start,start,dateEnv,options.granularity);if(end){var endDelta=diffDates(instanceRange.end,end,dateEnv,options.granularity);if(durationsEqual(startDelta,endDelta)){this.mutate({datesDelta:startDelta,standardProps:standardProps})}else{this.mutate({startDelta:startDelta,endDelta:endDelta,standardProps:standardProps})}}else{standardProps.hasEnd=!1;this.mutate({datesDelta:startDelta,standardProps:standardProps})}}};EventApi.prototype.moveStart=function(deltaInput){var delta=createDuration(deltaInput);if(delta){this.mutate({startDelta:delta})}};EventApi.prototype.moveEnd=function(deltaInput){var delta=createDuration(deltaInput);if(delta){this.mutate({endDelta:delta})}};EventApi.prototype.moveDates=function(deltaInput){var delta=createDuration(deltaInput);if(delta){this.mutate({datesDelta:delta})}};EventApi.prototype.setAllDay=function(allDay,options){if(options===void 0){options={}}
var standardProps={allDay:allDay};var maintainDuration=options.maintainDuration;if(maintainDuration==null){maintainDuration=this._context.options.allDayMaintainDuration}
if(this._def.allDay!==allDay){standardProps.hasEnd=maintainDuration}
this.mutate({standardProps:standardProps})};EventApi.prototype.formatRange=function(formatInput){var dateEnv=this._context.dateEnv;var instance=this._instance;var formatter=createFormatter(formatInput);if(this._def.hasEnd){return dateEnv.formatRange(instance.range.start,instance.range.end,formatter,{forcedStartTzo:instance.forcedStartTzo,forcedEndTzo:instance.forcedEndTzo})}else{return dateEnv.format(instance.range.start,formatter,{forcedTzo:instance.forcedStartTzo})}};EventApi.prototype.mutate=function(mutation){var instance=this._instance;if(instance){var def=this._def;var context_1=this._context;var eventStore=context_1.getCurrentData().eventStore;var relevantEvents_1=getRelevantEvents(eventStore,instance.instanceId);var eventConfigBase={'':{display:'',startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:'',borderColor:'',textColor:'',classNames:[]}};relevantEvents_1=applyMutationToEventStore(relevantEvents_1,eventConfigBase,mutation,context_1);var oldEvent=new EventApi(context_1,def,instance);this._def=relevantEvents_1.defs[def.defId];this._instance=relevantEvents_1.instances[instance.instanceId];context_1.dispatch({type:'MERGE_EVENTS',eventStore:relevantEvents_1});context_1.emitter.trigger('eventChange',{oldEvent:oldEvent,event:this,relatedEvents:buildEventApis(relevantEvents_1,context_1,instance),revert:function(){context_1.dispatch({type:'REMOVE_EVENTS',eventStore:relevantEvents_1})}})}};EventApi.prototype.remove=function(){var context=this._context;var asStore=eventApiToStore(this);context.dispatch({type:'REMOVE_EVENTS',eventStore:asStore});context.emitter.trigger('eventRemove',{event:this,relatedEvents:[],revert:function(){context.dispatch({type:'MERGE_EVENTS',eventStore:asStore})}})};Object.defineProperty(EventApi.prototype,"source",{get:function(){var sourceId=this._def.sourceId;if(sourceId){return new EventSourceApi(this._context,this._context.getCurrentData().eventSources[sourceId])}
return null},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"end",{get:function(){return(this._instance&&this._def.hasEnd)?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"startStr",{get:function(){var instance=this._instance;if(instance){return this._context.dateEnv.formatIso(instance.range.start,{omitTime:this._def.allDay,forcedTzo:instance.forcedStartTzo})}
return''},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"endStr",{get:function(){var instance=this._instance;if(instance&&this._def.hasEnd){return this._context.dateEnv.formatIso(instance.range.end,{omitTime:this._def.allDay,forcedTzo:instance.forcedEndTzo})}
return''},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"display",{get:function(){return this._def.ui.display||'auto'},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0});Object.defineProperty(EventApi.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0});EventApi.prototype.toPlainObject=function(settings){if(settings===void 0){settings={}}
var def=this._def;var ui=def.ui;var _a=this,startStr=_a.startStr,endStr=_a.endStr;var res={};if(def.title){res.title=def.title}
if(startStr){res.start=startStr}
if(endStr){res.end=endStr}
if(def.publicId){res.id=def.publicId}
if(def.groupId){res.groupId=def.groupId}
if(def.url){res.url=def.url}
if(ui.display&&ui.display!=='auto'){res.display=ui.display}
if(settings.collapseColor&&ui.backgroundColor&&ui.backgroundColor===ui.borderColor){res.color=ui.backgroundColor}else{if(ui.backgroundColor){res.backgroundColor=ui.backgroundColor}
if(ui.borderColor){res.borderColor=ui.borderColor}}
if(ui.textColor){res.textColor=ui.textColor}
if(ui.classNames.length){res.classNames=ui.classNames}
if(Object.keys(def.extendedProps).length){if(settings.collapseExtendedProps){__assign(res,def.extendedProps)}else{res.extendedProps=def.extendedProps}}
return res};EventApi.prototype.toJSON=function(){return this.toPlainObject()};return EventApi}());function eventApiToStore(eventApi){var _a,_b;var def=eventApi._def;var instance=eventApi._instance;return{defs:(_a={},_a[def.defId]=def,_a),instances:instance?(_b={},_b[instance.instanceId]=instance,_b):{}}}
function buildEventApis(eventStore,context,excludeInstance){var defs=eventStore.defs,instances=eventStore.instances;var eventApis=[];var excludeInstanceId=excludeInstance?excludeInstance.instanceId:'';for(var id in instances){var instance=instances[id];var def=defs[instance.defId];if(instance.instanceId!==excludeInstanceId){eventApis.push(new EventApi(context,def,instance))}}
return eventApis}
var calendarSystemClassMap={};function registerCalendarSystem(name,theClass){calendarSystemClassMap[name]=theClass}
function createCalendarSystem(name){return new calendarSystemClassMap[name]()}
var GregorianCalendarSystem=(function(){function GregorianCalendarSystem(){}
GregorianCalendarSystem.prototype.getMarkerYear=function(d){return d.getUTCFullYear()};GregorianCalendarSystem.prototype.getMarkerMonth=function(d){return d.getUTCMonth()};GregorianCalendarSystem.prototype.getMarkerDay=function(d){return d.getUTCDate()};GregorianCalendarSystem.prototype.arrayToMarker=function(arr){return arrayToUtcDate(arr)};GregorianCalendarSystem.prototype.markerToArray=function(marker){return dateToUtcArray(marker)};return GregorianCalendarSystem}());registerCalendarSystem('gregory',GregorianCalendarSystem);var ISO_RE=/^\s*(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function parse(str){var m=ISO_RE.exec(str);if(m){var marker=new Date(Date.UTC(Number(m[1]),m[3]?Number(m[3])-1:0,Number(m[5]||1),Number(m[7]||0),Number(m[8]||0),Number(m[10]||0),m[12]?Number('0.'+m[12])*1000:0));if(isValidDate(marker)){var timeZoneOffset=null;if(m[13]){timeZoneOffset=(m[15]==='-'?-1:1)*(Number(m[16]||0)*60+Number(m[18]||0))}
return{marker:marker,isTimeUnspecified:!m[6],timeZoneOffset:timeZoneOffset}}}
return null}
var DateEnv=(function(){function DateEnv(settings){var timeZone=this.timeZone=settings.timeZone;var isNamedTimeZone=timeZone!=='local'&&timeZone!=='UTC';if(settings.namedTimeZoneImpl&&isNamedTimeZone){this.namedTimeZoneImpl=new settings.namedTimeZoneImpl(timeZone)}
this.canComputeOffset=Boolean(!isNamedTimeZone||this.namedTimeZoneImpl);this.calendarSystem=createCalendarSystem(settings.calendarSystem);this.locale=settings.locale;this.weekDow=settings.locale.week.dow;this.weekDoy=settings.locale.week.doy;if(settings.weekNumberCalculation==='ISO'){this.weekDow=1;this.weekDoy=4}
if(typeof settings.firstDay==='number'){this.weekDow=settings.firstDay}
if(typeof settings.weekNumberCalculation==='function'){this.weekNumberFunc=settings.weekNumberCalculation}
this.weekText=settings.weekText!=null?settings.weekText:settings.locale.options.weekText;this.cmdFormatter=settings.cmdFormatter;this.defaultSeparator=settings.defaultSeparator}
DateEnv.prototype.createMarker=function(input){var meta=this.createMarkerMeta(input);if(meta===null){return null}
return meta.marker};DateEnv.prototype.createNowMarker=function(){if(this.canComputeOffset){return this.timestampToMarker(new Date().valueOf())}else{return arrayToUtcDate(dateToLocalArray(new Date()))}};DateEnv.prototype.createMarkerMeta=function(input){if(typeof input==='string'){return this.parse(input)}
var marker=null;if(typeof input==='number'){marker=this.timestampToMarker(input)}else if(input instanceof Date){input=input.valueOf();if(!isNaN(input)){marker=this.timestampToMarker(input)}}else if(Array.isArray(input)){marker=arrayToUtcDate(input)}
if(marker===null||!isValidDate(marker)){return null}
return{marker:marker,isTimeUnspecified:!1,forcedTzo:null}};DateEnv.prototype.parse=function(s){var parts=parse(s);if(parts===null){return null}
var marker=parts.marker;var forcedTzo=null;if(parts.timeZoneOffset!==null){if(this.canComputeOffset){marker=this.timestampToMarker(marker.valueOf()-parts.timeZoneOffset*60*1000)}else{forcedTzo=parts.timeZoneOffset}}
return{marker:marker,isTimeUnspecified:parts.isTimeUnspecified,forcedTzo:forcedTzo}};DateEnv.prototype.getYear=function(marker){return this.calendarSystem.getMarkerYear(marker)};DateEnv.prototype.getMonth=function(marker){return this.calendarSystem.getMarkerMonth(marker)};DateEnv.prototype.add=function(marker,dur){var a=this.calendarSystem.markerToArray(marker);a[0]+=dur.years;a[1]+=dur.months;a[2]+=dur.days;a[6]+=dur.milliseconds;return this.calendarSystem.arrayToMarker(a)};DateEnv.prototype.subtract=function(marker,dur){var a=this.calendarSystem.markerToArray(marker);a[0]-=dur.years;a[1]-=dur.months;a[2]-=dur.days;a[6]-=dur.milliseconds;return this.calendarSystem.arrayToMarker(a)};DateEnv.prototype.addYears=function(marker,n){var a=this.calendarSystem.markerToArray(marker);a[0]+=n;return this.calendarSystem.arrayToMarker(a)};DateEnv.prototype.addMonths=function(marker,n){var a=this.calendarSystem.markerToArray(marker);a[1]+=n;return this.calendarSystem.arrayToMarker(a)};DateEnv.prototype.diffWholeYears=function(m0,m1){var calendarSystem=this.calendarSystem;if(timeAsMs(m0)===timeAsMs(m1)&&calendarSystem.getMarkerDay(m0)===calendarSystem.getMarkerDay(m1)&&calendarSystem.getMarkerMonth(m0)===calendarSystem.getMarkerMonth(m1)){return calendarSystem.getMarkerYear(m1)-calendarSystem.getMarkerYear(m0)}
return null};DateEnv.prototype.diffWholeMonths=function(m0,m1){var calendarSystem=this.calendarSystem;if(timeAsMs(m0)===timeAsMs(m1)&&calendarSystem.getMarkerDay(m0)===calendarSystem.getMarkerDay(m1)){return(calendarSystem.getMarkerMonth(m1)-calendarSystem.getMarkerMonth(m0))+(calendarSystem.getMarkerYear(m1)-calendarSystem.getMarkerYear(m0))*12}
return null};DateEnv.prototype.greatestWholeUnit=function(m0,m1){var n=this.diffWholeYears(m0,m1);if(n!==null){return{unit:'year',value:n}}
n=this.diffWholeMonths(m0,m1);if(n!==null){return{unit:'month',value:n}}
n=diffWholeWeeks(m0,m1);if(n!==null){return{unit:'week',value:n}}
n=diffWholeDays(m0,m1);if(n!==null){return{unit:'day',value:n}}
n=diffHours(m0,m1);if(isInt(n)){return{unit:'hour',value:n}}
n=diffMinutes(m0,m1);if(isInt(n)){return{unit:'minute',value:n}}
n=diffSeconds(m0,m1);if(isInt(n)){return{unit:'second',value:n}}
return{unit:'millisecond',value:m1.valueOf()-m0.valueOf()}};DateEnv.prototype.countDurationsBetween=function(m0,m1,d){var diff;if(d.years){diff=this.diffWholeYears(m0,m1);if(diff!==null){return diff/asRoughYears(d)}}
if(d.months){diff=this.diffWholeMonths(m0,m1);if(diff!==null){return diff/asRoughMonths(d)}}
if(d.days){diff=diffWholeDays(m0,m1);if(diff!==null){return diff/asRoughDays(d)}}
return(m1.valueOf()-m0.valueOf())/asRoughMs(d)};DateEnv.prototype.startOf=function(m,unit){if(unit==='year'){return this.startOfYear(m)}else if(unit==='month'){return this.startOfMonth(m)}else if(unit==='week'){return this.startOfWeek(m)}else if(unit==='day'){return startOfDay(m)}else if(unit==='hour'){return startOfHour(m)}else if(unit==='minute'){return startOfMinute(m)}else if(unit==='second'){return startOfSecond(m)}};DateEnv.prototype.startOfYear=function(m){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(m)])};DateEnv.prototype.startOfMonth=function(m){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(m),this.calendarSystem.getMarkerMonth(m)])};DateEnv.prototype.startOfWeek=function(m){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(m),this.calendarSystem.getMarkerMonth(m),m.getUTCDate()-((m.getUTCDay()-this.weekDow+7)%7)])};DateEnv.prototype.computeWeekNumber=function(marker){if(this.weekNumberFunc){return this.weekNumberFunc(this.toDate(marker))}else{return weekOfYear(marker,this.weekDow,this.weekDoy)}};DateEnv.prototype.format=function(marker,formatter,dateOptions){if(dateOptions===void 0){dateOptions={}}
return formatter.format({marker:marker,timeZoneOffset:dateOptions.forcedTzo!=null?dateOptions.forcedTzo:this.offsetForMarker(marker)},this)};DateEnv.prototype.formatRange=function(start,end,formatter,dateOptions){if(dateOptions===void 0){dateOptions={}}
if(dateOptions.isEndExclusive){end=addMs(end,-1)}
return formatter.formatRange({marker:start,timeZoneOffset:dateOptions.forcedStartTzo!=null?dateOptions.forcedStartTzo:this.offsetForMarker(start)},{marker:end,timeZoneOffset:dateOptions.forcedEndTzo!=null?dateOptions.forcedEndTzo:this.offsetForMarker(end)},this,dateOptions.defaultSeparator)};DateEnv.prototype.formatIso=function(marker,extraOptions){if(extraOptions===void 0){extraOptions={}}
var timeZoneOffset=null;if(!extraOptions.omitTimeZoneOffset){if(extraOptions.forcedTzo!=null){timeZoneOffset=extraOptions.forcedTzo}else{timeZoneOffset=this.offsetForMarker(marker)}}
return buildIsoString(marker,timeZoneOffset,extraOptions.omitTime)};DateEnv.prototype.timestampToMarker=function(ms){if(this.timeZone==='local'){return arrayToUtcDate(dateToLocalArray(new Date(ms)))}else if(this.timeZone==='UTC'||!this.namedTimeZoneImpl){return new Date(ms)}else{return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms))}};DateEnv.prototype.offsetForMarker=function(m){if(this.timeZone==='local'){return-arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset()}else if(this.timeZone==='UTC'){return 0}else if(this.namedTimeZoneImpl){return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m))}
return null};DateEnv.prototype.toDate=function(m,forcedTzo){if(this.timeZone==='local'){return arrayToLocalDate(dateToUtcArray(m))}else if(this.timeZone==='UTC'){return new Date(m.valueOf())}else if(!this.namedTimeZoneImpl){return new Date(m.valueOf()-(forcedTzo||0))}else{return new Date(m.valueOf()-this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m))*1000*60)}};return DateEnv}());var globalLocales=[];var RAW_EN_LOCALE={code:'en',week:{dow:0,doy:4},direction:'ltr',buttonText:{prev:'prev',next:'next',prevYear:'prev year',nextYear:'next year',year:'year',today:'today',month:'month',week:'week',day:'day',list:'list'},weekText:'W',allDayText:'all-day',moreLinkText:'more',noEventsText:'No events to display'};function organizeRawLocales(explicitRawLocales){var defaultCode=explicitRawLocales.length>0?explicitRawLocales[0].code:'en';var allRawLocales=globalLocales.concat(explicitRawLocales);var rawLocaleMap={en:RAW_EN_LOCALE};for(var _i=0,allRawLocales_1=allRawLocales;_i<allRawLocales_1.length;_i++){var rawLocale=allRawLocales_1[_i];rawLocaleMap[rawLocale.code]=rawLocale}
return{map:rawLocaleMap,defaultCode:defaultCode}}
function buildLocale(inputSingular,available){if(typeof inputSingular==='object'&&!Array.isArray(inputSingular)){return parseLocale(inputSingular.code,[inputSingular.code],inputSingular)}else{return queryLocale(inputSingular,available)}}
function queryLocale(codeArg,available){var codes=[].concat(codeArg||[]);var raw=queryRawLocale(codes,available)||RAW_EN_LOCALE;return parseLocale(codeArg,codes,raw)}
function queryRawLocale(codes,available){for(var i=0;i<codes.length;i++){var parts=codes[i].toLocaleLowerCase().split('-');for(var j=parts.length;j>0;j--){var simpleId=parts.slice(0,j).join('-');if(available[simpleId]){return available[simpleId]}}}
return null}
function parseLocale(codeArg,codes,raw){var merged=mergeProps([RAW_EN_LOCALE,raw],['buttonText']);delete merged.code;var week=merged.week;delete merged.week;return{codeArg:codeArg,codes:codes,week:week,simpleNumberFormat:new Intl.NumberFormat(codeArg),options:merged}}
function formatDate(dateInput,options){if(options===void 0){options={}}
var dateEnv=buildDateEnv(options);var formatter=createFormatter(options);var dateMeta=dateEnv.createMarkerMeta(dateInput);if(!dateMeta){return''}
return dateEnv.format(dateMeta.marker,formatter,{forcedTzo:dateMeta.forcedTzo})}
function formatRange(startInput,endInput,options){var dateEnv=buildDateEnv(typeof options==='object'&&options?options:{});var formatter=createFormatter(options);var startMeta=dateEnv.createMarkerMeta(startInput);var endMeta=dateEnv.createMarkerMeta(endInput);if(!startMeta||!endMeta){return''}
return dateEnv.formatRange(startMeta.marker,endMeta.marker,formatter,{forcedStartTzo:startMeta.forcedTzo,forcedEndTzo:endMeta.forcedTzo,isEndExclusive:options.isEndExclusive,defaultSeparator:BASE_OPTION_DEFAULTS.defaultRangeSeparator})}
function buildDateEnv(settings){var locale=buildLocale(settings.locale||'en',organizeRawLocales([]).map);return new DateEnv(__assign(__assign({timeZone:BASE_OPTION_DEFAULTS.timeZone,calendarSystem:'gregory'},settings),{locale:locale}))}
var DEF_DEFAULTS={startTime:'09:00',endTime:'17:00',daysOfWeek:[1,2,3,4,5],display:'inverse-background',classNames:'fc-non-business',groupId:'_businessHours'};function parseBusinessHours(input,context){return parseEvents(refineInputs(input),null,context)}
function refineInputs(input){var rawDefs;if(input===!0){rawDefs=[{}]}else if(Array.isArray(input)){rawDefs=input.filter(function(rawDef){return rawDef.daysOfWeek})}else if(typeof input==='object'&&input){rawDefs=[input]}else{rawDefs=[]}
rawDefs=rawDefs.map(function(rawDef){return __assign(__assign({},DEF_DEFAULTS),rawDef)});return rawDefs}
function pointInsideRect(point,rect){return point.left>=rect.left&&point.left<rect.right&&point.top>=rect.top&&point.top<rect.bottom}
function intersectRects(rect1,rect2){var res={left:Math.max(rect1.left,rect2.left),right:Math.min(rect1.right,rect2.right),top:Math.max(rect1.top,rect2.top),bottom:Math.min(rect1.bottom,rect2.bottom)};if(res.left<res.right&&res.top<res.bottom){return res}
return!1}
function translateRect(rect,deltaX,deltaY){return{left:rect.left+deltaX,right:rect.right+deltaX,top:rect.top+deltaY,bottom:rect.bottom+deltaY}}
function constrainPoint(point,rect){return{left:Math.min(Math.max(point.left,rect.left),rect.right),top:Math.min(Math.max(point.top,rect.top),rect.bottom)}}
function getRectCenter(rect){return{left:(rect.left+rect.right)/2,top:(rect.top+rect.bottom)/2}}
function diffPoints(point1,point2){return{left:point1.left-point2.left,top:point1.top-point2.top}}
var EMPTY_EVENT_STORE=createEmptyEventStore();var Splitter=(function(){function Splitter(){this.getKeysForEventDefs=memoize(this._getKeysForEventDefs);this.splitDateSelection=memoize(this._splitDateSpan);this.splitEventStore=memoize(this._splitEventStore);this.splitIndividualUi=memoize(this._splitIndividualUi);this.splitEventDrag=memoize(this._splitInteraction);this.splitEventResize=memoize(this._splitInteraction);this.eventUiBuilders={}}
Splitter.prototype.splitProps=function(props){var _this=this;var keyInfos=this.getKeyInfo(props);var defKeys=this.getKeysForEventDefs(props.eventStore);var dateSelections=this.splitDateSelection(props.dateSelection);var individualUi=this.splitIndividualUi(props.eventUiBases,defKeys);var eventStores=this.splitEventStore(props.eventStore,defKeys);var eventDrags=this.splitEventDrag(props.eventDrag);var eventResizes=this.splitEventResize(props.eventResize);var splitProps={};this.eventUiBuilders=mapHash(keyInfos,function(info,key){return _this.eventUiBuilders[key]||memoize(buildEventUiForKey)});for(var key in keyInfos){var keyInfo=keyInfos[key];var eventStore=eventStores[key]||EMPTY_EVENT_STORE;var buildEventUi=this.eventUiBuilders[key];splitProps[key]={businessHours:keyInfo.businessHours||props.businessHours,dateSelection:dateSelections[key]||null,eventStore:eventStore,eventUiBases:buildEventUi(props.eventUiBases[''],keyInfo.ui,individualUi[key]),eventSelection:eventStore.instances[props.eventSelection]?props.eventSelection:'',eventDrag:eventDrags[key]||null,eventResize:eventResizes[key]||null}}
return splitProps};Splitter.prototype._splitDateSpan=function(dateSpan){var dateSpans={};if(dateSpan){var keys=this.getKeysForDateSpan(dateSpan);for(var _i=0,keys_1=keys;_i<keys_1.length;_i++){var key=keys_1[_i];dateSpans[key]=dateSpan}}
return dateSpans};Splitter.prototype._getKeysForEventDefs=function(eventStore){var _this=this;return mapHash(eventStore.defs,function(eventDef){return _this.getKeysForEventDef(eventDef)})};Splitter.prototype._splitEventStore=function(eventStore,defKeys){var defs=eventStore.defs,instances=eventStore.instances;var splitStores={};for(var defId in defs){for(var _i=0,_a=defKeys[defId];_i<_a.length;_i++){var key=_a[_i];if(!splitStores[key]){splitStores[key]=createEmptyEventStore()}
splitStores[key].defs[defId]=defs[defId]}}
for(var instanceId in instances){var instance=instances[instanceId];for(var _b=0,_c=defKeys[instance.defId];_b<_c.length;_b++){var key=_c[_b];if(splitStores[key]){splitStores[key].instances[instanceId]=instance}}}
return splitStores};Splitter.prototype._splitIndividualUi=function(eventUiBases,defKeys){var splitHashes={};for(var defId in eventUiBases){if(defId){for(var _i=0,_a=defKeys[defId];_i<_a.length;_i++){var key=_a[_i];if(!splitHashes[key]){splitHashes[key]={}}
splitHashes[key][defId]=eventUiBases[defId]}}}
return splitHashes};Splitter.prototype._splitInteraction=function(interaction){var splitStates={};if(interaction){var affectedStores_1=this._splitEventStore(interaction.affectedEvents,this._getKeysForEventDefs(interaction.affectedEvents));var mutatedKeysByDefId=this._getKeysForEventDefs(interaction.mutatedEvents);var mutatedStores_1=this._splitEventStore(interaction.mutatedEvents,mutatedKeysByDefId);var populate=function(key){if(!splitStates[key]){splitStates[key]={affectedEvents:affectedStores_1[key]||EMPTY_EVENT_STORE,mutatedEvents:mutatedStores_1[key]||EMPTY_EVENT_STORE,isEvent:interaction.isEvent}}};for(var key in affectedStores_1){populate(key)}
for(var key in mutatedStores_1){populate(key)}}
return splitStates};return Splitter}());function buildEventUiForKey(allUi,eventUiForKey,individualUi){var baseParts=[];if(allUi){baseParts.push(allUi)}
if(eventUiForKey){baseParts.push(eventUiForKey)}
var stuff={'':combineEventUis(baseParts)};if(individualUi){__assign(stuff,individualUi)}
return stuff}
function getDateMeta(date,todayRange,nowDate,dateProfile){return{dow:date.getUTCDay(),isDisabled:Boolean(dateProfile&&!rangeContainsMarker(dateProfile.activeRange,date)),isOther:Boolean(dateProfile&&!rangeContainsMarker(dateProfile.currentRange,date)),isToday:Boolean(todayRange&&rangeContainsMarker(todayRange,date)),isPast:Boolean(nowDate?(date<nowDate):todayRange?(date<todayRange.start):!1),isFuture:Boolean(nowDate?(date>nowDate):todayRange?(date>=todayRange.end):!1)}}
function getDayClassNames(meta,theme){var classNames=['fc-day','fc-day-'+DAY_IDS[meta.dow]];if(meta.isDisabled){classNames.push('fc-day-disabled')}else{if(meta.isToday){classNames.push('fc-day-today');classNames.push(theme.getClass('today'))}
if(meta.isPast){classNames.push('fc-day-past')}
if(meta.isFuture){classNames.push('fc-day-future')}
if(meta.isOther){classNames.push('fc-day-other')}}
return classNames}
function getSlotClassNames(meta,theme){var classNames=['fc-slot','fc-slot-'+DAY_IDS[meta.dow]];if(meta.isDisabled){classNames.push('fc-slot-disabled')}else{if(meta.isToday){classNames.push('fc-slot-today');classNames.push(theme.getClass('today'))}
if(meta.isPast){classNames.push('fc-slot-past')}
if(meta.isFuture){classNames.push('fc-slot-future')}}
return classNames}
function buildNavLinkData(date,type){if(type===void 0){type='day'}
return JSON.stringify({date:formatDayString(date),type:type})}
var _isRtlScrollbarOnLeft=null;function getIsRtlScrollbarOnLeft(){if(_isRtlScrollbarOnLeft===null){_isRtlScrollbarOnLeft=computeIsRtlScrollbarOnLeft()}
return _isRtlScrollbarOnLeft}
function computeIsRtlScrollbarOnLeft(){var outerEl=document.createElement('div');applyStyle(outerEl,{position:'absolute',top:-1000,left:0,border:0,padding:0,overflow:'scroll',direction:'rtl'});outerEl.innerHTML='<div></div>';document.body.appendChild(outerEl);var innerEl=outerEl.firstChild;var res=innerEl.getBoundingClientRect().left>outerEl.getBoundingClientRect().left;removeElement(outerEl);return res}
var _scrollbarWidths;function getScrollbarWidths(){if(!_scrollbarWidths){_scrollbarWidths=computeScrollbarWidths()}
return _scrollbarWidths}
function computeScrollbarWidths(){var el=document.createElement('div');el.style.overflow='scroll';document.body.appendChild(el);var res=computeScrollbarWidthsForEl(el);document.body.removeChild(el);return res}
function computeScrollbarWidthsForEl(el){return{x:el.offsetHeight-el.clientHeight,y:el.offsetWidth-el.clientWidth}}
function computeEdges(el,getPadding){if(getPadding===void 0){getPadding=!1}
var computedStyle=window.getComputedStyle(el);var borderLeft=parseInt(computedStyle.borderLeftWidth,10)||0;var borderRight=parseInt(computedStyle.borderRightWidth,10)||0;var borderTop=parseInt(computedStyle.borderTopWidth,10)||0;var borderBottom=parseInt(computedStyle.borderBottomWidth,10)||0;var badScrollbarWidths=computeScrollbarWidthsForEl(el);var scrollbarLeftRight=badScrollbarWidths.y-borderLeft-borderRight;var scrollbarBottom=badScrollbarWidths.x-borderTop-borderBottom;var res={borderLeft:borderLeft,borderRight:borderRight,borderTop:borderTop,borderBottom:borderBottom,scrollbarBottom:scrollbarBottom,scrollbarLeft:0,scrollbarRight:0};if(getIsRtlScrollbarOnLeft()&&computedStyle.direction==='rtl'){res.scrollbarLeft=scrollbarLeftRight}else{res.scrollbarRight=scrollbarLeftRight}
if(getPadding){res.paddingLeft=parseInt(computedStyle.paddingLeft,10)||0;res.paddingRight=parseInt(computedStyle.paddingRight,10)||0;res.paddingTop=parseInt(computedStyle.paddingTop,10)||0;res.paddingBottom=parseInt(computedStyle.paddingBottom,10)||0}
return res}
function computeInnerRect(el,goWithinPadding,doFromWindowViewport){if(goWithinPadding===void 0){goWithinPadding=!1}
var outerRect=doFromWindowViewport?el.getBoundingClientRect():computeRect(el);var edges=computeEdges(el,goWithinPadding);var res={left:outerRect.left+edges.borderLeft+edges.scrollbarLeft,right:outerRect.right-edges.borderRight-edges.scrollbarRight,top:outerRect.top+edges.borderTop,bottom:outerRect.bottom-edges.borderBottom-edges.scrollbarBottom};if(goWithinPadding){res.left+=edges.paddingLeft;res.right-=edges.paddingRight;res.top+=edges.paddingTop;res.bottom-=edges.paddingBottom}
return res}
function computeRect(el){var rect=el.getBoundingClientRect();return{left:rect.left+window.pageXOffset,top:rect.top+window.pageYOffset,right:rect.right+window.pageXOffset,bottom:rect.bottom+window.pageYOffset}}
function computeHeightAndMargins(el){return el.getBoundingClientRect().height+computeVMargins(el)}
function computeVMargins(el){var computed=window.getComputedStyle(el);return parseInt(computed.marginTop,10)+parseInt(computed.marginBottom,10)}
function getClippingParents(el){var parents=[];while(el instanceof HTMLElement){var computedStyle=window.getComputedStyle(el);if(computedStyle.position==='fixed'){break}
if((/(auto|scroll)/).test(computedStyle.overflow+computedStyle.overflowY+computedStyle.overflowX)){parents.push(el)}
el=el.parentNode}
return parents}
function unpromisify(func,success,failure){var isResolved=!1;var wrappedSuccess=function(){if(!isResolved){isResolved=!0;success.apply(this,arguments)}};var wrappedFailure=function(){if(!isResolved){isResolved=!0;if(failure){failure.apply(this,arguments)}}};var res=func(wrappedSuccess,wrappedFailure);if(res&&typeof res.then==='function'){res.then(wrappedSuccess,wrappedFailure)}}
var Emitter=(function(){function Emitter(){this.handlers={};this.thisContext=null}
Emitter.prototype.setThisContext=function(thisContext){this.thisContext=thisContext};Emitter.prototype.setOptions=function(options){this.options=options};Emitter.prototype.on=function(type,handler){addToHash(this.handlers,type,handler)};Emitter.prototype.off=function(type,handler){removeFromHash(this.handlers,type,handler)};Emitter.prototype.trigger=function(type){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}
var attachedHandlers=this.handlers[type]||[];var optionHandler=this.options&&this.options[type];var handlers=[].concat(optionHandler||[],attachedHandlers);for(var _a=0,handlers_1=handlers;_a<handlers_1.length;_a++){var handler=handlers_1[_a];handler.apply(this.thisContext,args)}};Emitter.prototype.hasHandlers=function(type){return(this.handlers[type]&&this.handlers[type].length)||(this.options&&this.options[type])};return Emitter}());function addToHash(hash,type,handler){(hash[type]||(hash[type]=[])).push(handler)}
function removeFromHash(hash,type,handler){if(handler){if(hash[type]){hash[type]=hash[type].filter(function(func){return func!==handler})}}else{delete hash[type]}}
var PositionCache=(function(){function PositionCache(originEl,els,isHorizontal,isVertical){this.els=els;var originClientRect=this.originClientRect=originEl.getBoundingClientRect();if(isHorizontal){this.buildElHorizontals(originClientRect.left)}
if(isVertical){this.buildElVerticals(originClientRect.top)}}
PositionCache.prototype.buildElHorizontals=function(originClientLeft){var lefts=[];var rights=[];for(var _i=0,_a=this.els;_i<_a.length;_i++){var el=_a[_i];var rect=el.getBoundingClientRect();lefts.push(rect.left-originClientLeft);rights.push(rect.right-originClientLeft)}
this.lefts=lefts;this.rights=rights};PositionCache.prototype.buildElVerticals=function(originClientTop){var tops=[];var bottoms=[];for(var _i=0,_a=this.els;_i<_a.length;_i++){var el=_a[_i];var rect=el.getBoundingClientRect();tops.push(rect.top-originClientTop);bottoms.push(rect.bottom-originClientTop)}
this.tops=tops;this.bottoms=bottoms};PositionCache.prototype.leftToIndex=function(leftPosition){var lefts=this.lefts;var rights=this.rights;var len=lefts.length;var i;for(i=0;i<len;i++){if(leftPosition>=lefts[i]&&leftPosition<rights[i]){return i}}};PositionCache.prototype.topToIndex=function(topPosition){var tops=this.tops;var bottoms=this.bottoms;var len=tops.length;var i;for(i=0;i<len;i++){if(topPosition>=tops[i]&&topPosition<bottoms[i]){return i}}};PositionCache.prototype.getWidth=function(leftIndex){return this.rights[leftIndex]-this.lefts[leftIndex]};PositionCache.prototype.getHeight=function(topIndex){return this.bottoms[topIndex]-this.tops[topIndex]};return PositionCache}());var ScrollController=(function(){function ScrollController(){}
ScrollController.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()};ScrollController.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()};ScrollController.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0};ScrollController.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0};ScrollController.prototype.canScrollUp=function(){return this.getScrollTop()>0};ScrollController.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()};ScrollController.prototype.canScrollLeft=function(){return this.getScrollLeft()>0};ScrollController.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()};return ScrollController}());var ElementScrollController=(function(_super){__extends(ElementScrollController,_super);function ElementScrollController(el){var _this=_super.call(this)||this;_this.el=el;return _this}
ElementScrollController.prototype.getScrollTop=function(){return this.el.scrollTop};ElementScrollController.prototype.getScrollLeft=function(){return this.el.scrollLeft};ElementScrollController.prototype.setScrollTop=function(top){this.el.scrollTop=top};ElementScrollController.prototype.setScrollLeft=function(left){this.el.scrollLeft=left};ElementScrollController.prototype.getScrollWidth=function(){return this.el.scrollWidth};ElementScrollController.prototype.getScrollHeight=function(){return this.el.scrollHeight};ElementScrollController.prototype.getClientHeight=function(){return this.el.clientHeight};ElementScrollController.prototype.getClientWidth=function(){return this.el.clientWidth};return ElementScrollController}(ScrollController));var WindowScrollController=(function(_super){__extends(WindowScrollController,_super);function WindowScrollController(){return _super!==null&&_super.apply(this,arguments)||this}
WindowScrollController.prototype.getScrollTop=function(){return window.pageYOffset};WindowScrollController.prototype.getScrollLeft=function(){return window.pageXOffset};WindowScrollController.prototype.setScrollTop=function(n){window.scroll(window.pageXOffset,n)};WindowScrollController.prototype.setScrollLeft=function(n){window.scroll(n,window.pageYOffset)};WindowScrollController.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth};WindowScrollController.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight};WindowScrollController.prototype.getClientHeight=function(){return document.documentElement.clientHeight};WindowScrollController.prototype.getClientWidth=function(){return document.documentElement.clientWidth};return WindowScrollController}(ScrollController));var Theme=(function(){function Theme(calendarOptions){if(this.iconOverrideOption){this.setIconOverride(calendarOptions[this.iconOverrideOption])}}
Theme.prototype.setIconOverride=function(iconOverrideHash){var iconClassesCopy;var buttonName;if(typeof iconOverrideHash==='object'&&iconOverrideHash){iconClassesCopy=__assign({},this.iconClasses);for(buttonName in iconOverrideHash){iconClassesCopy[buttonName]=this.applyIconOverridePrefix(iconOverrideHash[buttonName])}
this.iconClasses=iconClassesCopy}else if(iconOverrideHash===!1){this.iconClasses={}}};Theme.prototype.applyIconOverridePrefix=function(className){var prefix=this.iconOverridePrefix;if(prefix&&className.indexOf(prefix)!==0){className=prefix+className}
return className};Theme.prototype.getClass=function(key){return this.classes[key]||''};Theme.prototype.getIconClass=function(buttonName,isRtl){var className;if(isRtl&&this.rtlIconClasses){className=this.rtlIconClasses[buttonName]||this.iconClasses[buttonName]}else{className=this.iconClasses[buttonName]}
if(className){return this.baseIconClass+' '+className}
return''};Theme.prototype.getCustomButtonIconClass=function(customButtonProps){var className;if(this.iconOverrideCustomButtonOption){className=customButtonProps[this.iconOverrideCustomButtonOption];if(className){return this.baseIconClass+' '+this.applyIconOverridePrefix(className)}}
return''};return Theme}());Theme.prototype.classes={};Theme.prototype.iconClasses={};Theme.prototype.baseIconClass='';Theme.prototype.iconOverridePrefix='';if(typeof FullCalendarVDom==='undefined'){throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.')}
var Component=FullCalendarVDom.Component;var createElement=FullCalendarVDom.createElement;var render=FullCalendarVDom.render;var createRef=FullCalendarVDom.createRef;var Fragment=FullCalendarVDom.Fragment;var createContext$1=FullCalendarVDom.createContext;var flushToDom$1=FullCalendarVDom.flushToDom;var ScrollResponder=(function(){function ScrollResponder(execFunc,emitter,scrollTime){var _this=this;this.execFunc=execFunc;this.emitter=emitter;this.scrollTime=scrollTime;this.handleScrollRequest=function(request){_this.queuedRequest=__assign({},_this.queuedRequest||{},request);_this.drain()};emitter.on('_scrollRequest',this.handleScrollRequest);this.fireInitialScroll()}
ScrollResponder.prototype.detach=function(){this.emitter.off('_scrollRequest',this.handleScrollRequest)};ScrollResponder.prototype.update=function(isDatesNew){if(isDatesNew){this.fireInitialScroll()}else{this.drain()}};ScrollResponder.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})};ScrollResponder.prototype.drain=function(){if(this.queuedRequest&&this.execFunc(this.queuedRequest)){this.queuedRequest=null}};return ScrollResponder}());var ViewContextType=createContext$1({});function buildViewContext(viewSpec,viewApi,viewOptions,dateProfileGenerator,dateEnv,theme,pluginHooks,dispatch,getCurrentData,emitter,calendarApi,registerInteractiveComponent,unregisterInteractiveComponent){return{dateEnv:dateEnv,options:viewOptions,pluginHooks:pluginHooks,emitter:emitter,dispatch:dispatch,getCurrentData:getCurrentData,calendarApi:calendarApi,viewSpec:viewSpec,viewApi:viewApi,dateProfileGenerator:dateProfileGenerator,theme:theme,isRtl:viewOptions.direction==='rtl',addResizeHandler:function(handler){emitter.on('_resize',handler)},removeResizeHandler:function(handler){emitter.off('_resize',handler)},createScrollResponder:function(execFunc){return new ScrollResponder(execFunc,emitter,createDuration(viewOptions.scrollTime))},registerInteractiveComponent:registerInteractiveComponent,unregisterInteractiveComponent:unregisterInteractiveComponent}}
var PureComponent=(function(_super){__extends(PureComponent,_super);function PureComponent(){return _super!==null&&_super.apply(this,arguments)||this}
PureComponent.prototype.shouldComponentUpdate=function(nextProps,nextState){if(this.debug){console.log(getUnequalProps(nextProps,this.props),getUnequalProps(nextState,this.state))}
return!compareObjs(this.props,nextProps,this.propEquality)||!compareObjs(this.state,nextState,this.stateEquality)};PureComponent.addPropsEquality=addPropsEquality;PureComponent.addStateEquality=addStateEquality;PureComponent.contextType=ViewContextType;return PureComponent}(Component));PureComponent.prototype.propEquality={};PureComponent.prototype.stateEquality={};var BaseComponent=(function(_super){__extends(BaseComponent,_super);function BaseComponent(){return _super!==null&&_super.apply(this,arguments)||this}
BaseComponent.contextType=ViewContextType;return BaseComponent}(PureComponent));function addPropsEquality(propEquality){var hash=Object.create(this.prototype.propEquality);__assign(hash,propEquality);this.prototype.propEquality=hash}
function addStateEquality(stateEquality){var hash=Object.create(this.prototype.stateEquality);__assign(hash,stateEquality);this.prototype.stateEquality=hash}
function setRef(ref,current){if(typeof ref==='function'){ref(current)}else if(ref){ref.current=current}}
function reduceEventStore(eventStore,action,eventSources,dateProfile,context){switch(action.type){case 'RECEIVE_EVENTS':return receiveRawEvents(eventStore,eventSources[action.sourceId],action.fetchId,action.fetchRange,action.rawEvents,context);case 'ADD_EVENTS':return addEvent(eventStore,action.eventStore,dateProfile?dateProfile.activeRange:null,context);case 'MERGE_EVENTS':return mergeEventStores(eventStore,action.eventStore);case 'PREV':case 'NEXT':case 'CHANGE_DATE':case 'CHANGE_VIEW_TYPE':if(dateProfile){return expandRecurring(eventStore,dateProfile.activeRange,context)}else{return eventStore}
case 'REMOVE_EVENTS':return excludeSubEventStore(eventStore,action.eventStore);case 'REMOVE_EVENT_SOURCE':return excludeEventsBySourceId(eventStore,action.sourceId);case 'REMOVE_ALL_EVENT_SOURCES':return filterEventStoreDefs(eventStore,function(eventDef){return!eventDef.sourceId});case 'REMOVE_ALL_EVENTS':return createEmptyEventStore();default:return eventStore}}
function receiveRawEvents(eventStore,eventSource,fetchId,fetchRange,rawEvents,context){if(eventSource&&fetchId===eventSource.latestFetchId){var subset=parseEvents(transformRawEvents(rawEvents,eventSource,context),eventSource,context);if(fetchRange){subset=expandRecurring(subset,fetchRange,context)}
return mergeEventStores(excludeEventsBySourceId(eventStore,eventSource.sourceId),subset)}
return eventStore}
function transformRawEvents(rawEvents,eventSource,context){var calEachTransform=context.options.eventDataTransform;var sourceEachTransform=eventSource?eventSource.eventDataTransform:null;if(sourceEachTransform){rawEvents=transformEachRawEvent(rawEvents,sourceEachTransform)}
if(calEachTransform){rawEvents=transformEachRawEvent(rawEvents,calEachTransform)}
return rawEvents}
function transformEachRawEvent(rawEvents,func){var refinedEvents;if(!func){refinedEvents=rawEvents}else{refinedEvents=[];for(var _i=0,rawEvents_1=rawEvents;_i<rawEvents_1.length;_i++){var rawEvent=rawEvents_1[_i];var refinedEvent=func(rawEvent);if(refinedEvent){refinedEvents.push(refinedEvent)}else if(refinedEvent==null){refinedEvents.push(rawEvent)}}}
return refinedEvents}
function addEvent(eventStore,subset,expandRange,context){if(expandRange){subset=expandRecurring(subset,expandRange,context)}
return mergeEventStores(eventStore,subset)}
function rezoneEventStoreDates(eventStore,oldDateEnv,newDateEnv){var defs=eventStore.defs;var instances=mapHash(eventStore.instances,function(instance){var def=defs[instance.defId];if(def.allDay||def.recurringDef){return instance}else{return __assign(__assign({},instance),{range:{start:newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start,instance.forcedStartTzo)),end:newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end,instance.forcedEndTzo))},forcedStartTzo:newDateEnv.canComputeOffset?null:instance.forcedStartTzo,forcedEndTzo:newDateEnv.canComputeOffset?null:instance.forcedEndTzo})}});return{defs:defs,instances:instances}}
function excludeEventsBySourceId(eventStore,sourceId){return filterEventStoreDefs(eventStore,function(eventDef){return eventDef.sourceId!==sourceId})}
function excludeInstances(eventStore,removals){return{defs:eventStore.defs,instances:filterHash(eventStore.instances,function(instance){return!removals[instance.instanceId]})}}
function isInteractionValid(interaction,context){return isNewPropsValid({eventDrag:interaction},context)}
function isDateSelectionValid(dateSelection,context){return isNewPropsValid({dateSelection:dateSelection},context)}
function isNewPropsValid(newProps,context){var calendarState=context.getCurrentData();var props=__assign({businessHours:calendarState.businessHours,dateSelection:'',eventStore:calendarState.eventStore,eventUiBases:calendarState.eventUiBases,eventSelection:'',eventDrag:null,eventResize:null},newProps);return(context.pluginHooks.isPropsValid||isPropsValid)(props,context)}
function isPropsValid(state,context,dateSpanMeta,filterConfig){if(dateSpanMeta===void 0){dateSpanMeta={}}
if(state.eventDrag&&!isInteractionPropsValid(state,context,dateSpanMeta,filterConfig)){return!1}
if(state.dateSelection&&!isDateSelectionPropsValid(state,context,dateSpanMeta,filterConfig)){return!1}
return!0}
function isInteractionPropsValid(state,context,dateSpanMeta,filterConfig){var currentState=context.getCurrentData();var interaction=state.eventDrag;var subjectEventStore=interaction.mutatedEvents;var subjectDefs=subjectEventStore.defs;var subjectInstances=subjectEventStore.instances;var subjectConfigs=compileEventUis(subjectDefs,interaction.isEvent?state.eventUiBases:{'':currentState.selectionConfig});if(filterConfig){subjectConfigs=mapHash(subjectConfigs,filterConfig)}
var otherEventStore=excludeInstances(state.eventStore,interaction.affectedEvents.instances);var otherDefs=otherEventStore.defs;var otherInstances=otherEventStore.instances;var otherConfigs=compileEventUis(otherDefs,state.eventUiBases);for(var subjectInstanceId in subjectInstances){var subjectInstance=subjectInstances[subjectInstanceId];var subjectRange=subjectInstance.range;var subjectConfig=subjectConfigs[subjectInstance.defId];var subjectDef=subjectDefs[subjectInstance.defId];if(!allConstraintsPass(subjectConfig.constraints,subjectRange,otherEventStore,state.businessHours,context)){return!1}
var eventOverlap=context.options.eventOverlap;var eventOverlapFunc=typeof eventOverlap==='function'?eventOverlap:null;for(var otherInstanceId in otherInstances){var otherInstance=otherInstances[otherInstanceId];if(rangesIntersect(subjectRange,otherInstance.range)){var otherOverlap=otherConfigs[otherInstance.defId].overlap;if(otherOverlap===!1&&interaction.isEvent){return!1}
if(subjectConfig.overlap===!1){return!1}
if(eventOverlapFunc&&!eventOverlapFunc(new EventApi(context,otherDefs[otherInstance.defId],otherInstance),new EventApi(context,subjectDef,subjectInstance))){return!1}}}
var calendarEventStore=currentState.eventStore;for(var _i=0,_a=subjectConfig.allows;_i<_a.length;_i++){var subjectAllow=_a[_i];var subjectDateSpan=__assign(__assign({},dateSpanMeta),{range:subjectInstance.range,allDay:subjectDef.allDay});var origDef=calendarEventStore.defs[subjectDef.defId];var origInstance=calendarEventStore.instances[subjectInstanceId];var eventApi=void 0;if(origDef){eventApi=new EventApi(context,origDef,origInstance)}else{eventApi=new EventApi(context,subjectDef)}
if(!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan,context),eventApi)){return!1}}}
return!0}
function isDateSelectionPropsValid(state,context,dateSpanMeta,filterConfig){var relevantEventStore=state.eventStore;var relevantDefs=relevantEventStore.defs;var relevantInstances=relevantEventStore.instances;var selection=state.dateSelection;var selectionRange=selection.range;var selectionConfig=context.getCurrentData().selectionConfig;if(filterConfig){selectionConfig=filterConfig(selectionConfig)}
if(!allConstraintsPass(selectionConfig.constraints,selectionRange,relevantEventStore,state.businessHours,context)){return!1}
var selectOverlap=context.options.selectOverlap;var selectOverlapFunc=typeof selectOverlap==='function'?selectOverlap:null;for(var relevantInstanceId in relevantInstances){var relevantInstance=relevantInstances[relevantInstanceId];if(rangesIntersect(selectionRange,relevantInstance.range)){if(selectionConfig.overlap===!1){return!1}
if(selectOverlapFunc&&!selectOverlapFunc(new EventApi(context,relevantDefs[relevantInstance.defId],relevantInstance),null)){return!1}}}
for(var _i=0,_a=selectionConfig.allows;_i<_a.length;_i++){var selectionAllow=_a[_i];var fullDateSpan=__assign(__assign({},dateSpanMeta),selection);if(!selectionAllow(buildDateSpanApiWithContext(fullDateSpan,context),null)){return!1}}
return!0}
function allConstraintsPass(constraints,subjectRange,otherEventStore,businessHoursUnexpanded,context){for(var _i=0,constraints_1=constraints;_i<constraints_1.length;_i++){var constraint=constraints_1[_i];if(!anyRangesContainRange(constraintToRanges(constraint,subjectRange,otherEventStore,businessHoursUnexpanded,context),subjectRange)){return!1}}
return!0}
function constraintToRanges(constraint,subjectRange,otherEventStore,businessHoursUnexpanded,context){if(constraint==='businessHours'){return eventStoreToRanges(expandRecurring(businessHoursUnexpanded,subjectRange,context))}else if(typeof constraint==='string'){return eventStoreToRanges(filterEventStoreDefs(otherEventStore,function(eventDef){return eventDef.groupId===constraint}))}else if(typeof constraint==='object'&&constraint){return eventStoreToRanges(expandRecurring(constraint,subjectRange,context))}
return[]}
function eventStoreToRanges(eventStore){var instances=eventStore.instances;var ranges=[];for(var instanceId in instances){ranges.push(instances[instanceId].range)}
return ranges}
function anyRangesContainRange(outerRanges,innerRange){for(var _i=0,outerRanges_1=outerRanges;_i<outerRanges_1.length;_i++){var outerRange=outerRanges_1[_i];if(rangeContainsRange(outerRange,innerRange)){return!0}}
return!1}
var DateComponent=(function(_super){__extends(DateComponent,_super);function DateComponent(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.uid=guid();return _this}
DateComponent.prototype.prepareHits=function(){};DateComponent.prototype.queryHit=function(positionLeft,positionTop,elWidth,elHeight){return null};DateComponent.prototype.isInteractionValid=function(interaction){var dateProfile=this.props.dateProfile;var instances=interaction.mutatedEvents.instances;if(dateProfile){for(var instanceId in instances){if(!rangeContainsRange(dateProfile.validRange,instances[instanceId].range)){return!1}}}
return isInteractionValid(interaction,this.context)};DateComponent.prototype.isDateSelectionValid=function(selection){var dateProfile=this.props.dateProfile;if(dateProfile&&!rangeContainsRange(dateProfile.validRange,selection.range)){return!1}
return isDateSelectionValid(selection,this.context)};DateComponent.prototype.isValidSegDownEl=function(el){return!this.props.eventDrag&&!this.props.eventResize&&!elementClosest(el,'.fc-event-mirror')&&(this.isPopover()||!this.isInPopover(el))};DateComponent.prototype.isValidDateDownEl=function(el){return!elementClosest(el,'.fc-event:not(.fc-bg-event)')&&!elementClosest(el,'.fc-daygrid-more-link')&&!elementClosest(el,'a[data-navlink]')&&!this.isInPopover(el)};DateComponent.prototype.isPopover=function(){return!1};DateComponent.prototype.isInPopover=function(el){return Boolean(elementClosest(el,'.fc-popover'))};return DateComponent}(BaseComponent));function createPlugin(input){return{id:guid(),deps:input.deps||[],reducers:input.reducers||[],contextInit:[].concat(input.contextInit||[]),eventRefiners:input.eventRefiners||{},eventDefMemberAdders:input.eventDefMemberAdders||[],eventSourceRefiners:input.eventSourceRefiners||{},isDraggableTransformers:input.isDraggableTransformers||[],eventDragMutationMassagers:input.eventDragMutationMassagers||[],eventDefMutationAppliers:input.eventDefMutationAppliers||[],dateSelectionTransformers:input.dateSelectionTransformers||[],datePointTransforms:input.datePointTransforms||[],dateSpanTransforms:input.dateSpanTransforms||[],views:input.views||{},viewPropsTransformers:input.viewPropsTransformers||[],isPropsValid:input.isPropsValid||null,externalDefTransforms:input.externalDefTransforms||[],eventResizeJoinTransforms:input.eventResizeJoinTransforms||[],viewContainerAppends:input.viewContainerAppends||[],eventDropTransformers:input.eventDropTransformers||[],componentInteractions:input.componentInteractions||[],calendarInteractions:input.calendarInteractions||[],themeClasses:input.themeClasses||{},eventSourceDefs:input.eventSourceDefs||[],cmdFormatter:input.cmdFormatter,recurringTypes:input.recurringTypes||[],namedTimeZonedImpl:input.namedTimeZonedImpl,initialView:input.initialView||'',elementDraggingImpl:input.elementDraggingImpl,optionChangeHandlers:input.optionChangeHandlers||{},scrollGridImpl:input.scrollGridImpl||null,contentTypeHandlers:input.contentTypeHandlers||{},listenerRefiners:input.listenerRefiners||{},optionRefiners:input.optionRefiners||{},propSetHandlers:input.propSetHandlers||{}}}
function buildPluginHooks(pluginDefs,globalDefs){var isAdded={};var hooks={reducers:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],eventResizeJoinTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:'',elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function addDefs(defs){for(var _i=0,defs_1=defs;_i<defs_1.length;_i++){var def=defs_1[_i];if(!isAdded[def.id]){isAdded[def.id]=!0;addDefs(def.deps);hooks=combineHooks(hooks,def)}}}
if(pluginDefs){addDefs(pluginDefs)}
addDefs(globalDefs);return hooks}
function buildBuildPluginHooks(){var currentOverrideDefs=[];var currentGlobalDefs=[];var currentHooks;return function(overrideDefs,globalDefs){if(!currentHooks||!isArraysEqual(overrideDefs,currentOverrideDefs)||!isArraysEqual(globalDefs,currentGlobalDefs)){currentHooks=buildPluginHooks(overrideDefs,globalDefs)}
currentOverrideDefs=overrideDefs;currentGlobalDefs=globalDefs;return currentHooks}}
function combineHooks(hooks0,hooks1){return{reducers:hooks0.reducers.concat(hooks1.reducers),contextInit:hooks0.contextInit.concat(hooks1.contextInit),eventRefiners:__assign(__assign({},hooks0.eventRefiners),hooks1.eventRefiners),eventDefMemberAdders:hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),eventSourceRefiners:__assign(__assign({},hooks0.eventSourceRefiners),hooks1.eventSourceRefiners),isDraggableTransformers:hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),eventDragMutationMassagers:hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),eventDefMutationAppliers:hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),dateSelectionTransformers:hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),datePointTransforms:hooks0.datePointTransforms.concat(hooks1.datePointTransforms),dateSpanTransforms:hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),views:__assign(__assign({},hooks0.views),hooks1.views),viewPropsTransformers:hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),isPropsValid:hooks1.isPropsValid||hooks0.isPropsValid,externalDefTransforms:hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),eventResizeJoinTransforms:hooks0.eventResizeJoinTransforms.concat(hooks1.eventResizeJoinTransforms),viewContainerAppends:hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),eventDropTransformers:hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),calendarInteractions:hooks0.calendarInteractions.concat(hooks1.calendarInteractions),componentInteractions:hooks0.componentInteractions.concat(hooks1.componentInteractions),themeClasses:__assign(__assign({},hooks0.themeClasses),hooks1.themeClasses),eventSourceDefs:hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),cmdFormatter:hooks1.cmdFormatter||hooks0.cmdFormatter,recurringTypes:hooks0.recurringTypes.concat(hooks1.recurringTypes),namedTimeZonedImpl:hooks1.namedTimeZonedImpl||hooks0.namedTimeZonedImpl,initialView:hooks0.initialView||hooks1.initialView,elementDraggingImpl:hooks0.elementDraggingImpl||hooks1.elementDraggingImpl,optionChangeHandlers:__assign(__assign({},hooks0.optionChangeHandlers),hooks1.optionChangeHandlers),scrollGridImpl:hooks1.scrollGridImpl||hooks0.scrollGridImpl,contentTypeHandlers:__assign(__assign({},hooks0.contentTypeHandlers),hooks1.contentTypeHandlers),listenerRefiners:__assign(__assign({},hooks0.listenerRefiners),hooks1.listenerRefiners),optionRefiners:__assign(__assign({},hooks0.optionRefiners),hooks1.optionRefiners),propSetHandlers:__assign(__assign({},hooks0.propSetHandlers),hooks1.propSetHandlers)}}
var StandardTheme=(function(_super){__extends(StandardTheme,_super);function StandardTheme(){return _super!==null&&_super.apply(this,arguments)||this}
return StandardTheme}(Theme));StandardTheme.prototype.classes={root:'fc-theme-standard',tableCellShaded:'fc-cell-shaded',buttonGroup:'fc-button-group',button:'fc-button fc-button-primary',buttonActive:'fc-button-active'};StandardTheme.prototype.baseIconClass='fc-icon';StandardTheme.prototype.iconClasses={close:'fc-icon-x',prev:'fc-icon-chevron-left',next:'fc-icon-chevron-right',prevYear:'fc-icon-chevrons-left',nextYear:'fc-icon-chevrons-right'};StandardTheme.prototype.rtlIconClasses={prev:'fc-icon-chevron-right',next:'fc-icon-chevron-left',prevYear:'fc-icon-chevrons-right',nextYear:'fc-icon-chevrons-left'};StandardTheme.prototype.iconOverrideOption='buttonIcons';StandardTheme.prototype.iconOverrideCustomButtonOption='icon';StandardTheme.prototype.iconOverridePrefix='fc-icon-';function compileViewDefs(defaultConfigs,overrideConfigs){var hash={};var viewType;for(viewType in defaultConfigs){ensureViewDef(viewType,hash,defaultConfigs,overrideConfigs)}
for(viewType in overrideConfigs){ensureViewDef(viewType,hash,defaultConfigs,overrideConfigs)}
return hash}
function ensureViewDef(viewType,hash,defaultConfigs,overrideConfigs){if(hash[viewType]){return hash[viewType]}
var viewDef=buildViewDef(viewType,hash,defaultConfigs,overrideConfigs);if(viewDef){hash[viewType]=viewDef}
return viewDef}
function buildViewDef(viewType,hash,defaultConfigs,overrideConfigs){var defaultConfig=defaultConfigs[viewType];var overrideConfig=overrideConfigs[viewType];var queryProp=function(name){return(defaultConfig&&defaultConfig[name]!==null)?defaultConfig[name]:((overrideConfig&&overrideConfig[name]!==null)?overrideConfig[name]:null)};var theComponent=queryProp('component');var superType=queryProp('superType');var superDef=null;if(superType){if(superType===viewType){throw new Error('Can\'t have a custom view type that references itself')}
superDef=ensureViewDef(superType,hash,defaultConfigs,overrideConfigs)}
if(!theComponent&&superDef){theComponent=superDef.component}
if(!theComponent){return null}
return{type:viewType,component:theComponent,defaults:__assign(__assign({},(superDef?superDef.defaults:{})),(defaultConfig?defaultConfig.rawOptions:{})),overrides:__assign(__assign({},(superDef?superDef.overrides:{})),(overrideConfig?overrideConfig.rawOptions:{}))}}
var RenderHook=(function(_super){__extends(RenderHook,_super);function RenderHook(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.rootElRef=createRef();_this.handleRootEl=function(el){setRef(_this.rootElRef,el);if(_this.props.elRef){setRef(_this.props.elRef,el)}};return _this}
RenderHook.prototype.render=function(){var _this=this;var props=this.props;var hookProps=props.hookProps;return(createElement(MountHook,{hookProps:hookProps,didMount:props.didMount,willUnmount:props.willUnmount,elRef:this.handleRootEl},function(rootElRef){return(createElement(ContentHook,{hookProps:hookProps,content:props.content,defaultContent:props.defaultContent,backupElRef:_this.rootElRef},function(innerElRef,innerContent){return props.children(rootElRef,normalizeClassNames(props.classNames,hookProps),innerElRef,innerContent)}))}))};return RenderHook}(BaseComponent));var CustomContentRenderContext=createContext$1(0);var ContentHook=(function(_super){__extends(ContentHook,_super);function ContentHook(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.innerElRef=createRef();return _this}
ContentHook.prototype.render=function(){var _this=this;return(createElement(CustomContentRenderContext.Consumer,null,function(){return(_this.props.children(_this.innerElRef,_this.renderInnerContent()))}))};ContentHook.prototype.componentDidMount=function(){this.updateCustomContent()};ContentHook.prototype.componentDidUpdate=function(){this.updateCustomContent()};ContentHook.prototype.renderInnerContent=function(){var contentTypeHandlers=this.context.pluginHooks.contentTypeHandlers;var _a=this,props=_a.props,customContentInfo=_a.customContentInfo;var rawVal=props.content;var innerContent=normalizeContent(rawVal,props.hookProps);var innerContentVDom=null;if(innerContent===undefined){innerContent=normalizeContent(props.defaultContent,props.hookProps)}
if(innerContent!==undefined){if(customContentInfo){customContentInfo.contentVal=innerContent[customContentInfo.contentKey]}else if(typeof innerContent==='object'){for(var contentKey in contentTypeHandlers){if(innerContent[contentKey]!==undefined){customContentInfo=this.customContentInfo={contentKey:contentKey,contentVal:innerContent[contentKey],handler:contentTypeHandlers[contentKey]()};break}}}
if(customContentInfo){innerContentVDom=[]}else{innerContentVDom=innerContent}}
return innerContentVDom};ContentHook.prototype.updateCustomContent=function(){if(this.customContentInfo){this.customContentInfo.handler(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)}};return ContentHook}(BaseComponent));var MountHook=(function(_super){__extends(MountHook,_super);function MountHook(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.handleRootEl=function(rootEl){_this.rootEl=rootEl;if(_this.props.elRef){setRef(_this.props.elRef,rootEl)}};return _this}
MountHook.prototype.render=function(){return this.props.children(this.handleRootEl)};MountHook.prototype.componentDidMount=function(){var callback=this.props.didMount;callback&&callback(__assign(__assign({},this.props.hookProps),{el:this.rootEl}))};MountHook.prototype.componentWillUnmount=function(){var callback=this.props.willUnmount;callback&&callback(__assign(__assign({},this.props.hookProps),{el:this.rootEl}))};return MountHook}(BaseComponent));function buildClassNameNormalizer(){var currentGenerator;var currentHookProps;var currentClassNames=[];return function(generator,hookProps){if(!currentHookProps||!isPropsEqual(currentHookProps,hookProps)||generator!==currentGenerator){currentGenerator=generator;currentHookProps=hookProps;currentClassNames=normalizeClassNames(generator,hookProps)}
return currentClassNames}}
function normalizeClassNames(classNames,hookProps){if(typeof classNames==='function'){classNames=classNames(hookProps)}
return parseClassNames(classNames)}
function normalizeContent(input,hookProps){if(typeof input==='function'){return input(hookProps,createElement)}else{return input}}
var ViewRoot=(function(_super){__extends(ViewRoot,_super);function ViewRoot(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.normalizeClassNames=buildClassNameNormalizer();return _this}
ViewRoot.prototype.render=function(){var _a=this,props=_a.props,context=_a.context;var options=context.options;var hookProps={view:context.viewApi};var customClassNames=this.normalizeClassNames(options.viewClassNames,hookProps);return(createElement(MountHook,{hookProps:hookProps,didMount:options.viewDidMount,willUnmount:options.viewWillUnmount,elRef:props.elRef},function(rootElRef){return props.children(rootElRef,["fc-"+props.viewSpec.type+"-view",'fc-view'].concat(customClassNames))}))};return ViewRoot}(BaseComponent));function parseViewConfigs(inputs){return mapHash(inputs,parseViewConfig)}
function parseViewConfig(input){var rawOptions=typeof input==='function'?{component:input}:input;var component=rawOptions.component;if(rawOptions.content){component=createViewHookComponent(rawOptions)}
return{superType:rawOptions.type,component:component,rawOptions:rawOptions}}
function createViewHookComponent(options){return function(viewProps){return(createElement(ViewContextType.Consumer,null,function(context){return(createElement(ViewRoot,{viewSpec:context.viewSpec},function(rootElRef,viewClassNames){var hookProps=__assign(__assign({},viewProps),{nextDayThreshold:context.options.nextDayThreshold});return(createElement(RenderHook,{hookProps:hookProps,classNames:options.classNames,content:options.content,didMount:options.didMount,willUnmount:options.willUnmount,elRef:rootElRef},function(rootElRef,customClassNames,innerElRef,innerContent){return(createElement("div",{className:viewClassNames.concat(customClassNames).join(' '),ref:rootElRef},innerContent))}))}))}))}}
function buildViewSpecs(defaultInputs,optionOverrides,dynamicOptionOverrides,localeDefaults){var defaultConfigs=parseViewConfigs(defaultInputs);var overrideConfigs=parseViewConfigs(optionOverrides.views);var viewDefs=compileViewDefs(defaultConfigs,overrideConfigs);return mapHash(viewDefs,function(viewDef){return buildViewSpec(viewDef,overrideConfigs,optionOverrides,dynamicOptionOverrides,localeDefaults)})}
function buildViewSpec(viewDef,overrideConfigs,optionOverrides,dynamicOptionOverrides,localeDefaults){var durationInput=viewDef.overrides.duration||viewDef.defaults.duration||dynamicOptionOverrides.duration||optionOverrides.duration;var duration=null;var durationUnit='';var singleUnit='';var singleUnitOverrides={};if(durationInput){duration=createDurationCached(durationInput);if(duration){var denom=greatestDurationDenominator(duration);durationUnit=denom.unit;if(denom.value===1){singleUnit=durationUnit;singleUnitOverrides=overrideConfigs[durationUnit]?overrideConfigs[durationUnit].rawOptions:{}}}}
var queryButtonText=function(optionsSubset){var buttonTextMap=optionsSubset.buttonText||{};var buttonTextKey=viewDef.defaults.buttonTextKey;if(buttonTextKey!=null&&buttonTextMap[buttonTextKey]!=null){return buttonTextMap[buttonTextKey]}
if(buttonTextMap[viewDef.type]!=null){return buttonTextMap[viewDef.type]}
if(buttonTextMap[singleUnit]!=null){return buttonTextMap[singleUnit]}};return{type:viewDef.type,component:viewDef.component,duration:duration,durationUnit:durationUnit,singleUnit:singleUnit,optionDefaults:viewDef.defaults,optionOverrides:__assign(__assign({},singleUnitOverrides),viewDef.overrides),buttonTextOverride:queryButtonText(dynamicOptionOverrides)||queryButtonText(optionOverrides)||viewDef.overrides.buttonText,buttonTextDefault:queryButtonText(localeDefaults)||viewDef.defaults.buttonText||queryButtonText(BASE_OPTION_DEFAULTS)||viewDef.type}}
var durationInputMap={};function createDurationCached(durationInput){var json=JSON.stringify(durationInput);var res=durationInputMap[json];if(res===undefined){res=createDuration(durationInput);durationInputMap[json]=res}
return res}
var DateProfileGenerator=(function(){function DateProfileGenerator(props){this.props=props;this.nowDate=getNow(props.nowInput,props.dateEnv);this.initHiddenDays()}
DateProfileGenerator.prototype.buildPrev=function(currentDateProfile,currentDate,forceToValid){var dateEnv=this.props.dateEnv;var prevDate=dateEnv.subtract(dateEnv.startOf(currentDate,currentDateProfile.currentRangeUnit),currentDateProfile.dateIncrement);return this.build(prevDate,-1,forceToValid)};DateProfileGenerator.prototype.buildNext=function(currentDateProfile,currentDate,forceToValid){var dateEnv=this.props.dateEnv;var nextDate=dateEnv.add(dateEnv.startOf(currentDate,currentDateProfile.currentRangeUnit),currentDateProfile.dateIncrement);return this.build(nextDate,1,forceToValid)};DateProfileGenerator.prototype.build=function(currentDate,direction,forceToValid){if(forceToValid===void 0){forceToValid=!0}
var props=this.props;var validRange;var currentInfo;var isRangeAllDay;var renderRange;var activeRange;var isValid;validRange=this.buildValidRange();validRange=this.trimHiddenDays(validRange);if(forceToValid){currentDate=constrainMarkerToRange(currentDate,validRange)}
currentInfo=this.buildCurrentRangeInfo(currentDate,direction);isRangeAllDay=/^(year|month|week|day)$/.test(currentInfo.unit);renderRange=this.buildRenderRange(this.trimHiddenDays(currentInfo.range),currentInfo.unit,isRangeAllDay);renderRange=this.trimHiddenDays(renderRange);activeRange=renderRange;if(!props.showNonCurrentDates){activeRange=intersectRanges(activeRange,currentInfo.range)}
activeRange=this.adjustActiveRange(activeRange);activeRange=intersectRanges(activeRange,validRange);isValid=rangesIntersect(currentInfo.range,validRange);return{validRange:validRange,currentRange:currentInfo.range,currentRangeUnit:currentInfo.unit,isRangeAllDay:isRangeAllDay,activeRange:activeRange,renderRange:renderRange,slotMinTime:props.slotMinTime,slotMaxTime:props.slotMaxTime,isValid:isValid,dateIncrement:this.buildDateIncrement(currentInfo.duration)}};DateProfileGenerator.prototype.buildValidRange=function(){var input=this.props.validRangeInput;var simpleInput=typeof input==='function'?input.call(this.props.calendarApi,this.nowDate):input;return this.refineRange(simpleInput)||{start:null,end:null}};DateProfileGenerator.prototype.buildCurrentRangeInfo=function(date,direction){var props=this.props;var duration=null;var unit=null;var range=null;var dayCount;if(props.duration){duration=props.duration;unit=props.durationUnit;range=this.buildRangeFromDuration(date,direction,duration,unit)}else if((dayCount=this.props.dayCount)){unit='day';range=this.buildRangeFromDayCount(date,direction,dayCount)}else if((range=this.buildCustomVisibleRange(date))){unit=props.dateEnv.greatestWholeUnit(range.start,range.end).unit}else{duration=this.getFallbackDuration();unit=greatestDurationDenominator(duration).unit;range=this.buildRangeFromDuration(date,direction,duration,unit)}
return{duration:duration,unit:unit,range:range}};DateProfileGenerator.prototype.getFallbackDuration=function(){return createDuration({day:1})};DateProfileGenerator.prototype.adjustActiveRange=function(range){var _a=this.props,dateEnv=_a.dateEnv,usesMinMaxTime=_a.usesMinMaxTime,slotMinTime=_a.slotMinTime,slotMaxTime=_a.slotMaxTime;var start=range.start;var end=range.end;if(usesMinMaxTime){if(asRoughDays(slotMinTime)<0){start=startOfDay(start);start=dateEnv.add(start,slotMinTime)}
if(asRoughDays(slotMaxTime)>1){end=startOfDay(end);end=addDays(end,-1);end=dateEnv.add(end,slotMaxTime)}}
return{start:start,end:end}};DateProfileGenerator.prototype.buildRangeFromDuration=function(date,direction,duration,unit){var _a=this.props,dateEnv=_a.dateEnv,dateAlignment=_a.dateAlignment;var start;var end;var res;if(!dateAlignment){var dateIncrement=this.props.dateIncrement;if(dateIncrement){if(asRoughMs(dateIncrement)<asRoughMs(duration)){dateAlignment=greatestDurationDenominator(dateIncrement).unit}else{dateAlignment=unit}}else{dateAlignment=unit}}
if(asRoughDays(duration)<=1){if(this.isHiddenDay(start)){start=this.skipHiddenDays(start,direction);start=startOfDay(start)}}
function computeRes(){start=dateEnv.startOf(date,dateAlignment);end=dateEnv.add(start,duration);res={start:start,end:end}}
computeRes();if(!this.trimHiddenDays(res)){date=this.skipHiddenDays(date,direction);computeRes()}
return res};DateProfileGenerator.prototype.buildRangeFromDayCount=function(date,direction,dayCount){var _a=this.props,dateEnv=_a.dateEnv,dateAlignment=_a.dateAlignment;var runningCount=0;var start=date;var end;if(dateAlignment){start=dateEnv.startOf(start,dateAlignment)}
start=startOfDay(start);start=this.skipHiddenDays(start,direction);end=start;do{end=addDays(end,1);if(!this.isHiddenDay(end)){runningCount++}}while(runningCount<dayCount);return{start:start,end:end}};DateProfileGenerator.prototype.buildCustomVisibleRange=function(date){var props=this.props;var input=props.visibleRangeInput;var simpleInput=typeof input==='function'?input.call(props.calendarApi,props.dateEnv.toDate(date)):input;var range=this.refineRange(simpleInput);if(range&&(range.start==null||range.end==null)){return null}
return range};DateProfileGenerator.prototype.buildRenderRange=function(currentRange,currentRangeUnit,isRangeAllDay){return currentRange};DateProfileGenerator.prototype.buildDateIncrement=function(fallback){var dateIncrement=this.props.dateIncrement;var customAlignment;if(dateIncrement){return dateIncrement}else if((customAlignment=this.props.dateAlignment)){return createDuration(1,customAlignment)}else if(fallback){return fallback}else{return createDuration({days:1})}};DateProfileGenerator.prototype.refineRange=function(rangeInput){if(rangeInput){var range=parseRange(rangeInput,this.props.dateEnv);if(range){range=computeVisibleDayRange(range)}
return range}
return null};DateProfileGenerator.prototype.initHiddenDays=function(){var hiddenDays=this.props.hiddenDays||[];var isHiddenDayHash=[];var dayCnt=0;var i;if(this.props.weekends===!1){hiddenDays.push(0,6)}
for(i=0;i<7;i++){if(!(isHiddenDayHash[i]=hiddenDays.indexOf(i)!==-1)){dayCnt++}}
if(!dayCnt){throw new Error('invalid hiddenDays')}
this.isHiddenDayHash=isHiddenDayHash};DateProfileGenerator.prototype.trimHiddenDays=function(range){var start=range.start;var end=range.end;if(start){start=this.skipHiddenDays(start)}
if(end){end=this.skipHiddenDays(end,-1,!0)}
if(start==null||end==null||start<end){return{start:start,end:end}}
return null};DateProfileGenerator.prototype.isHiddenDay=function(day){if(day instanceof Date){day=day.getUTCDay()}
return this.isHiddenDayHash[day]};DateProfileGenerator.prototype.skipHiddenDays=function(date,inc,isExclusive){if(inc===void 0){inc=1}
if(isExclusive===void 0){isExclusive=!1}
while(this.isHiddenDayHash[(date.getUTCDay()+(isExclusive?inc:0)+7)%7]){date=addDays(date,inc)}
return date};return DateProfileGenerator}());function reduceViewType(viewType,action){switch(action.type){case 'CHANGE_VIEW_TYPE':return viewType=action.viewType}
return viewType}
function reduceDynamicOptionOverrides(dynamicOptionOverrides,action){var _a;switch(action.type){case 'SET_OPTION':return __assign(__assign({},dynamicOptionOverrides),(_a={},_a[action.optionName]=action.rawOptionValue,_a));default:return dynamicOptionOverrides}}
function reduceDateProfile(currentDateProfile,action,currentDate,dateProfileGenerator){var dp;switch(action.type){case 'CHANGE_VIEW_TYPE':return dateProfileGenerator.build(action.dateMarker||currentDate);case 'CHANGE_DATE':if(!currentDateProfile.activeRange||!rangeContainsMarker(currentDateProfile.currentRange,action.dateMarker)){return dateProfileGenerator.build(action.dateMarker)}
break;case 'PREV':dp=dateProfileGenerator.buildPrev(currentDateProfile,currentDate);if(dp.isValid){return dp}
break;case 'NEXT':dp=dateProfileGenerator.buildNext(currentDateProfile,currentDate);if(dp.isValid){return dp}
break}
return currentDateProfile}
function initEventSources(calendarOptions,dateProfile,context){var activeRange=dateProfile?dateProfile.activeRange:null;return addSources({},parseInitialSources(calendarOptions,context),activeRange,context)}
function reduceEventSources(eventSources,action,dateProfile,context){var activeRange=dateProfile?dateProfile.activeRange:null;switch(action.type){case 'ADD_EVENT_SOURCES':return addSources(eventSources,action.sources,activeRange,context);case 'REMOVE_EVENT_SOURCE':return removeSource(eventSources,action.sourceId);case 'PREV':case 'NEXT':case 'CHANGE_DATE':case 'CHANGE_VIEW_TYPE':if(dateProfile){return fetchDirtySources(eventSources,activeRange,context)}else{return eventSources}
case 'FETCH_EVENT_SOURCES':return fetchSourcesByIds(eventSources,action.sourceIds?arrayToHash(action.sourceIds):excludeStaticSources(eventSources,context),activeRange,context);case 'RECEIVE_EVENTS':case 'RECEIVE_EVENT_ERROR':return receiveResponse(eventSources,action.sourceId,action.fetchId,action.fetchRange);case 'REMOVE_ALL_EVENT_SOURCES':return{};default:return eventSources}}
function reduceEventSourcesNewTimeZone(eventSources,dateProfile,context){var activeRange=dateProfile?dateProfile.activeRange:null;return fetchSourcesByIds(eventSources,excludeStaticSources(eventSources,context),activeRange,context)}
function computeEventSourceLoadingLevel(eventSources){var cnt=0;for(var sourceId in eventSources){if(eventSources[sourceId].isFetching){cnt++}}
return cnt}
function addSources(eventSourceHash,sources,fetchRange,context){var hash={};for(var _i=0,sources_1=sources;_i<sources_1.length;_i++){var source=sources_1[_i];hash[source.sourceId]=source}
if(fetchRange){hash=fetchDirtySources(hash,fetchRange,context)}
return __assign(__assign({},eventSourceHash),hash)}
function removeSource(eventSourceHash,sourceId){return filterHash(eventSourceHash,function(eventSource){return eventSource.sourceId!==sourceId})}
function fetchDirtySources(sourceHash,fetchRange,context){return fetchSourcesByIds(sourceHash,filterHash(sourceHash,function(eventSource){return isSourceDirty(eventSource,fetchRange,context)}),fetchRange,context)}
function isSourceDirty(eventSource,fetchRange,context){if(!doesSourceNeedRange(eventSource,context)){return!eventSource.latestFetchId}else{return!context.options.lazyFetching||!eventSource.fetchRange||eventSource.isFetching||fetchRange.start<eventSource.fetchRange.start||fetchRange.end>eventSource.fetchRange.end}}
function fetchSourcesByIds(prevSources,sourceIdHash,fetchRange,context){var nextSources={};for(var sourceId in prevSources){var source=prevSources[sourceId];if(sourceIdHash[sourceId]){nextSources[sourceId]=fetchSource(source,fetchRange,context)}else{nextSources[sourceId]=source}}
return nextSources}
function fetchSource(eventSource,fetchRange,context){var options=context.options,calendarApi=context.calendarApi;var sourceDef=context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];var fetchId=guid();sourceDef.fetch({eventSource:eventSource,range:fetchRange,context:context},function(res){var rawEvents=res.rawEvents;if(options.eventSourceSuccess){rawEvents=options.eventSourceSuccess.call(calendarApi,rawEvents,res.xhr)||rawEvents}
if(eventSource.success){rawEvents=eventSource.success.call(calendarApi,rawEvents,res.xhr)||rawEvents}
context.dispatch({type:'RECEIVE_EVENTS',sourceId:eventSource.sourceId,fetchId:fetchId,fetchRange:fetchRange,rawEvents:rawEvents})},function(error){console.warn(error.message,error);if(options.eventSourceFailure){options.eventSourceFailure.call(calendarApi,error)}
if(eventSource.failure){eventSource.failure(error)}
context.dispatch({type:'RECEIVE_EVENT_ERROR',sourceId:eventSource.sourceId,fetchId:fetchId,fetchRange:fetchRange,error:error})});return __assign(__assign({},eventSource),{isFetching:!0,latestFetchId:fetchId})}
function receiveResponse(sourceHash,sourceId,fetchId,fetchRange){var _a;var eventSource=sourceHash[sourceId];if(eventSource&&fetchId===eventSource.latestFetchId){return __assign(__assign({},sourceHash),(_a={},_a[sourceId]=__assign(__assign({},eventSource),{isFetching:!1,fetchRange:fetchRange}),_a))}
return sourceHash}
function excludeStaticSources(eventSources,context){return filterHash(eventSources,function(eventSource){return doesSourceNeedRange(eventSource,context)})}
function parseInitialSources(rawOptions,context){var refiners=buildEventSourceRefiners(context);var rawSources=[].concat(rawOptions.eventSources||[]);var sources=[];if(rawOptions.initialEvents){rawSources.unshift(rawOptions.initialEvents)}
if(rawOptions.events){rawSources.unshift(rawOptions.events)}
for(var _i=0,rawSources_1=rawSources;_i<rawSources_1.length;_i++){var rawSource=rawSources_1[_i];var source=parseEventSource(rawSource,context,refiners);if(source){sources.push(source)}}
return sources}
function doesSourceNeedRange(eventSource,context){var defs=context.pluginHooks.eventSourceDefs;return!defs[eventSource.sourceDefId].ignoreRange}
function reduceDateSelection(currentSelection,action){switch(action.type){case 'UNSELECT_DATES':return null;case 'SELECT_DATES':return action.selection;default:return currentSelection}}
function reduceSelectedEvent(currentInstanceId,action){switch(action.type){case 'UNSELECT_EVENT':return'';case 'SELECT_EVENT':return action.eventInstanceId;default:return currentInstanceId}}
function reduceEventDrag(currentDrag,action){var newDrag;switch(action.type){case 'UNSET_EVENT_DRAG':return null;case 'SET_EVENT_DRAG':newDrag=action.state;return{affectedEvents:newDrag.affectedEvents,mutatedEvents:newDrag.mutatedEvents,isEvent:newDrag.isEvent};default:return currentDrag}}
function reduceEventResize(currentResize,action){var newResize;switch(action.type){case 'UNSET_EVENT_RESIZE':return null;case 'SET_EVENT_RESIZE':newResize=action.state;return{affectedEvents:newResize.affectedEvents,mutatedEvents:newResize.mutatedEvents,isEvent:newResize.isEvent};default:return currentResize}}
function parseToolbars(calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi){var viewsWithButtons=[];var headerToolbar=calendarOptions.headerToolbar?parseToolbar(calendarOptions.headerToolbar,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi,viewsWithButtons):null;var footerToolbar=calendarOptions.footerToolbar?parseToolbar(calendarOptions.footerToolbar,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi,viewsWithButtons):null;return{headerToolbar:headerToolbar,footerToolbar:footerToolbar,viewsWithButtons:viewsWithButtons}}
function parseToolbar(sectionStrHash,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi,viewsWithButtons){return mapHash(sectionStrHash,function(sectionStr){return parseSection(sectionStr,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi,viewsWithButtons)})}
function parseSection(sectionStr,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi,viewsWithButtons){var isRtl=calendarOptions.direction==='rtl';var calendarCustomButtons=calendarOptions.customButtons||{};var calendarButtonTextOverrides=calendarOptionOverrides.buttonText||{};var calendarButtonText=calendarOptions.buttonText||{};var sectionSubstrs=sectionStr?sectionStr.split(' '):[];return sectionSubstrs.map(function(buttonGroupStr){return buttonGroupStr.split(',').map(function(buttonName){if(buttonName==='title'){return{buttonName:buttonName}}else{var customButtonProps_1;var viewSpec=void 0;var buttonClick=void 0;var buttonIcon=void 0;var buttonText=void 0;if((customButtonProps_1=calendarCustomButtons[buttonName])){buttonClick=function(ev){if(customButtonProps_1.click){customButtonProps_1.click.call(ev.target,ev)}};(buttonIcon=theme.getCustomButtonIconClass(customButtonProps_1))||(buttonIcon=theme.getIconClass(buttonName,isRtl))||(buttonText=customButtonProps_1.text)}else if((viewSpec=viewSpecs[buttonName])){viewsWithButtons.push(buttonName);buttonClick=function(){calendarApi.changeView(buttonName)};(buttonText=viewSpec.buttonTextOverride)||(buttonIcon=theme.getIconClass(buttonName,isRtl))||(buttonText=viewSpec.buttonTextDefault)}else if(calendarApi[buttonName]){buttonClick=function(){calendarApi[buttonName]()};(buttonText=calendarButtonTextOverrides[buttonName])||(buttonIcon=theme.getIconClass(buttonName,isRtl))||(buttonText=calendarButtonText[buttonName])}
return{buttonName:buttonName,buttonClick:buttonClick,buttonIcon:buttonIcon,buttonText:buttonText}}})})}
var eventSourceDef={ignoreRange:!0,parseMeta:function(refined){if(Array.isArray(refined.events)){return refined.events}
return null},fetch:function(arg,success){success({rawEvents:arg.eventSource.meta})}};var arrayEventSourcePlugin=createPlugin({eventSourceDefs:[eventSourceDef]});var eventSourceDef$1={parseMeta:function(refined){if(typeof refined.events==='function'){return refined.events}
return null},fetch:function(arg,success,failure){var dateEnv=arg.context.dateEnv;var func=arg.eventSource.meta;unpromisify(func.bind(null,buildRangeApiWithTimeZone(arg.range,dateEnv)),function(rawEvents){success({rawEvents:rawEvents})},failure)}};var funcEventSourcePlugin=createPlugin({eventSourceDefs:[eventSourceDef$1]});function requestJson(method,url,params,successCallback,failureCallback){method=method.toUpperCase();var body=null;if(method==='GET'){url=injectQueryStringParams(url,params)}else{body=encodeParams(params)}
var xhr=new XMLHttpRequest();xhr.open(method,url,!0);if(method!=='GET'){xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded')}
xhr.onload=function(){if(xhr.status>=200&&xhr.status<400){var parsed=!1;var res=void 0;try{res=JSON.parse(xhr.responseText);parsed=!0}catch(err){}
if(parsed){successCallback(res,xhr)}else{failureCallback('Failure parsing JSON',xhr)}}else{failureCallback('Request failed',xhr)}};xhr.onerror=function(){failureCallback('Request failed',xhr)};xhr.send(body)}
function injectQueryStringParams(url,params){return url+(url.indexOf('?')===-1?'?':'&')+encodeParams(params)}
function encodeParams(params){var parts=[];for(var key in params){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(params[key]))}
return parts.join('&')}
var JSON_FEED_EVENT_SOURCE_REFINERS={method:String,extraParams:identity,startParam:String,endParam:String,timeZoneParam:String};var eventSourceDef$2={parseMeta:function(refined){if(refined.url){return{url:refined.url,method:(refined.method||'GET').toUpperCase(),extraParams:refined.extraParams,startParam:refined.startParam,endParam:refined.endParam,timeZoneParam:refined.timeZoneParam}}
return null},fetch:function(arg,success,failure){var meta=arg.eventSource.meta;var requestParams=buildRequestParams(meta,arg.range,arg.context);requestJson(meta.method,meta.url,requestParams,function(rawEvents,xhr){success({rawEvents:rawEvents,xhr:xhr})},function(errorMessage,xhr){failure({message:errorMessage,xhr:xhr})})}};var jsonFeedEventSourcePlugin=createPlugin({eventSourceRefiners:JSON_FEED_EVENT_SOURCE_REFINERS,eventSourceDefs:[eventSourceDef$2]});function buildRequestParams(meta,range,context){var dateEnv=context.dateEnv,options=context.options;var startParam;var endParam;var timeZoneParam;var customRequestParams;var params={};startParam=meta.startParam;if(startParam==null){startParam=options.startParam}
endParam=meta.endParam;if(endParam==null){endParam=options.endParam}
timeZoneParam=meta.timeZoneParam;if(timeZoneParam==null){timeZoneParam=options.timeZoneParam}
if(typeof meta.extraParams==='function'){customRequestParams=meta.extraParams()}else{customRequestParams=meta.extraParams||{}}
__assign(params,customRequestParams);params[startParam]=dateEnv.formatIso(range.start);params[endParam]=dateEnv.formatIso(range.end);if(dateEnv.timeZone!=='local'){params[timeZoneParam]=dateEnv.timeZone}
return params}
var SIMPLE_RECURRING_REFINERS={daysOfWeek:identity,startTime:createDuration,endTime:createDuration,duration:createDuration,startRecur:identity,endRecur:identity};var recurring={parse:function(refined,dateEnv){if(refined.daysOfWeek||refined.startTime||refined.endTime||refined.startRecur||refined.endRecur){var recurringData={daysOfWeek:refined.daysOfWeek||null,startTime:refined.startTime||null,endTime:refined.endTime||null,startRecur:refined.startRecur?dateEnv.createMarker(refined.startRecur):null,endRecur:refined.endRecur?dateEnv.createMarker(refined.endRecur):null};var duration=void 0;if(refined.duration){duration=refined.duration}
if(!duration&&refined.startTime&&refined.endTime){duration=subtractDurations(refined.endTime,refined.startTime)}
return{allDayGuess:Boolean(!refined.startTime&&!refined.endTime),duration:duration,typeData:recurringData}}
return null},expand:function(typeData,framingRange,dateEnv){var clippedFramingRange=intersectRanges(framingRange,{start:typeData.startRecur,end:typeData.endRecur});if(clippedFramingRange){return expandRanges(typeData.daysOfWeek,typeData.startTime,clippedFramingRange,dateEnv)}else{return[]}}};var simpleRecurringEventsPlugin=createPlugin({recurringTypes:[recurring],eventRefiners:SIMPLE_RECURRING_REFINERS});function expandRanges(daysOfWeek,startTime,framingRange,dateEnv){var dowHash=daysOfWeek?arrayToHash(daysOfWeek):null;var dayMarker=startOfDay(framingRange.start);var endMarker=framingRange.end;var instanceStarts=[];while(dayMarker<endMarker){var instanceStart=void 0;if(!dowHash||dowHash[dayMarker.getUTCDay()]){if(startTime){instanceStart=dateEnv.add(dayMarker,startTime)}else{instanceStart=dayMarker}
instanceStarts.push(instanceStart)}
dayMarker=addDays(dayMarker,1)}
return instanceStarts}
var changeHandlerPlugin=createPlugin({optionChangeHandlers:{events:function(events,context){handleEventSources([events],context)},eventSources:handleEventSources}});function handleEventSources(inputs,context){var unfoundSources=hashValuesToArray(context.getCurrentData().eventSources);var newInputs=[];for(var _i=0,inputs_1=inputs;_i<inputs_1.length;_i++){var input=inputs_1[_i];var inputFound=!1;for(var i=0;i<unfoundSources.length;i++){if(unfoundSources[i]._raw===input){unfoundSources.splice(i,1);inputFound=!0;break}}
if(!inputFound){newInputs.push(input)}}
for(var _a=0,unfoundSources_1=unfoundSources;_a<unfoundSources_1.length;_a++){var unfoundSource=unfoundSources_1[_a];context.dispatch({type:'REMOVE_EVENT_SOURCE',sourceId:unfoundSource.sourceId})}
for(var _b=0,newInputs_1=newInputs;_b<newInputs_1.length;_b++){var newInput=newInputs_1[_b];context.calendarApi.addEventSource(newInput)}}
function handleDateProfile(dateProfile,context){context.emitter.trigger('datesSet',__assign(__assign({},buildRangeApiWithTimeZone(dateProfile.activeRange,context.dateEnv)),{view:context.viewApi}))}
function handleEventStore(eventStore,context){var emitter=context.emitter;if(emitter.hasHandlers('eventsSet')){emitter.trigger('eventsSet',buildEventApis(eventStore,context))}}
var globalPlugins=[arrayEventSourcePlugin,funcEventSourcePlugin,jsonFeedEventSourcePlugin,simpleRecurringEventsPlugin,changeHandlerPlugin,createPlugin({contentTypeHandlers:{html:function(){return injectHtml},domNodes:function(){return injectDomNodes}},propSetHandlers:{dateProfile:handleDateProfile,eventStore:handleEventStore}})];var DelayedRunner=(function(){function DelayedRunner(drainedOption){this.drainedOption=drainedOption;this.isRunning=!1;this.isDirty=!1;this.pauseDepths={};this.timeoutId=0}
DelayedRunner.prototype.request=function(delay){this.isDirty=!0;if(!this.isPaused()){this.clearTimeout();if(delay==null){this.tryDrain()}else{this.timeoutId=setTimeout(this.tryDrain.bind(this),delay)}}};DelayedRunner.prototype.pause=function(scope){if(scope===void 0){scope=''}
var pauseDepths=this.pauseDepths;pauseDepths[scope]=(pauseDepths[scope]||0)+1;this.clearTimeout()};DelayedRunner.prototype.resume=function(scope,force){if(scope===void 0){scope=''}
var pauseDepths=this.pauseDepths;if(scope in pauseDepths){if(force){delete pauseDepths[scope]}else{var depth=--pauseDepths[scope];if(depth<=0){delete pauseDepths[scope]}}
this.tryDrain()}};DelayedRunner.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length};DelayedRunner.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){this.isRunning=!0;while(this.isDirty){this.isDirty=!1;this.drained()}
this.isRunning=!1}};DelayedRunner.prototype.clear=function(){this.clearTimeout();this.isDirty=!1;this.pauseDepths={}};DelayedRunner.prototype.clearTimeout=function(){if(this.timeoutId){clearTimeout(this.timeoutId);this.timeoutId=0}};DelayedRunner.prototype.drained=function(){if(this.drainedOption){this.drainedOption()}};return DelayedRunner}());var TaskRunner=(function(){function TaskRunner(runTaskOption,drainedOption){this.runTaskOption=runTaskOption;this.drainedOption=drainedOption;this.queue=[];this.delayedRunner=new DelayedRunner(this.drain.bind(this))}
TaskRunner.prototype.request=function(task,delay){this.queue.push(task);this.delayedRunner.request(delay)};TaskRunner.prototype.pause=function(scope){this.delayedRunner.pause(scope)};TaskRunner.prototype.resume=function(scope,force){this.delayedRunner.resume(scope,force)};TaskRunner.prototype.drain=function(){var queue=this.queue;while(queue.length){var completedTasks=[];var task=void 0;while((task=queue.shift())){this.runTask(task);completedTasks.push(task)}
this.drained(completedTasks)}};TaskRunner.prototype.runTask=function(task){if(this.runTaskOption){this.runTaskOption(task)}};TaskRunner.prototype.drained=function(completedTasks){if(this.drainedOption){this.drainedOption(completedTasks)}};return TaskRunner}());function buildTitle(dateProfile,viewOptions,dateEnv){var range;if(/^(year|month)$/.test(dateProfile.currentRangeUnit)){range=dateProfile.currentRange}else{range=dateProfile.activeRange}
return dateEnv.formatRange(range.start,range.end,createFormatter(viewOptions.titleFormat||buildTitleFormat(dateProfile)),{isEndExclusive:dateProfile.isRangeAllDay,defaultSeparator:viewOptions.titleRangeSeparator})}
function buildTitleFormat(dateProfile){var currentRangeUnit=dateProfile.currentRangeUnit;if(currentRangeUnit==='year'){return{year:'numeric'}}else if(currentRangeUnit==='month'){return{year:'numeric',month:'long'}}else{var days=diffWholeDays(dateProfile.currentRange.start,dateProfile.currentRange.end);if(days!==null&&days>1){return{year:'numeric',month:'short',day:'numeric'}}else{return{year:'numeric',month:'long',day:'numeric'}}}}
var CalendarDataManager=(function(){function CalendarDataManager(props){var _this=this;this.computeOptionsData=memoize(this._computeOptionsData);this.computeCurrentViewData=memoize(this._computeCurrentViewData);this.organizeRawLocales=memoize(organizeRawLocales);this.buildLocale=memoize(buildLocale);this.buildPluginHooks=buildBuildPluginHooks();this.buildDateEnv=memoize(buildDateEnv$1);this.buildTheme=memoize(buildTheme);this.parseToolbars=memoize(parseToolbars);this.buildViewSpecs=memoize(buildViewSpecs);this.buildDateProfileGenerator=memoizeObjArg(buildDateProfileGenerator);this.buildViewApi=memoize(buildViewApi);this.buildViewUiProps=memoizeObjArg(buildViewUiProps);this.buildEventUiBySource=memoize(buildEventUiBySource,isPropsEqual);this.buildEventUiBases=memoize(buildEventUiBases);this.parseContextBusinessHours=memoizeObjArg(parseContextBusinessHours);this.buildTitle=memoize(buildTitle);this.emitter=new Emitter();this.actionRunner=new TaskRunner(this._handleAction.bind(this),this.updateData.bind(this));this.currentCalendarOptionsInput={};this.currentCalendarOptionsRefined={};this.currentViewOptionsInput={};this.currentViewOptionsRefined={};this.currentCalendarOptionsRefiners={};this.getCurrentData=function(){return _this.data};this.dispatch=function(action){_this.actionRunner.request(action)};this.props=props;this.actionRunner.pause();var dynamicOptionOverrides={};var optionsData=this.computeOptionsData(props.optionOverrides,dynamicOptionOverrides,props.calendarApi);var currentViewType=optionsData.calendarOptions.initialView||optionsData.pluginHooks.initialView;var currentViewData=this.computeCurrentViewData(currentViewType,optionsData,props.optionOverrides,dynamicOptionOverrides);props.calendarApi.currentDataManager=this;this.emitter.setThisContext(props.calendarApi);this.emitter.setOptions(currentViewData.options);var currentDate=getInitialDate(optionsData.calendarOptions,optionsData.dateEnv);var dateProfile=currentViewData.dateProfileGenerator.build(currentDate);if(!rangeContainsMarker(dateProfile.activeRange,currentDate)){currentDate=dateProfile.currentRange.start}
var calendarContext={dateEnv:optionsData.dateEnv,options:optionsData.calendarOptions,pluginHooks:optionsData.pluginHooks,calendarApi:props.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(var _i=0,_a=optionsData.pluginHooks.contextInit;_i<_a.length;_i++){var callback=_a[_i];callback(calendarContext)}
var eventSources=initEventSources(optionsData.calendarOptions,dateProfile,calendarContext);var initialState={dynamicOptionOverrides:dynamicOptionOverrides,currentViewType:currentViewType,currentDate:currentDate,dateProfile:dateProfile,businessHours:this.parseContextBusinessHours(calendarContext),eventSources:eventSources,eventUiBases:{},loadingLevel:computeEventSourceLoadingLevel(eventSources),eventStore:createEmptyEventStore(),renderableEventStore:createEmptyEventStore(),dateSelection:null,eventSelection:'',eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(calendarContext).selectionConfig};var contextAndState=__assign(__assign({},calendarContext),initialState);for(var _b=0,_c=optionsData.pluginHooks.reducers;_b<_c.length;_b++){var reducer=_c[_b];__assign(initialState,reducer(null,null,contextAndState))}
if(initialState.loadingLevel){this.emitter.trigger('loading',!0)}
this.state=initialState;this.updateData();this.actionRunner.resume()}
CalendarDataManager.prototype.resetOptions=function(optionOverrides,append){var props=this.props;props.optionOverrides=append?__assign(__assign({},props.optionOverrides),optionOverrides):optionOverrides;this.actionRunner.request({type:'NOTHING'})};CalendarDataManager.prototype._handleAction=function(action){var _a=this,props=_a.props,state=_a.state,emitter=_a.emitter;var dynamicOptionOverrides=reduceDynamicOptionOverrides(state.dynamicOptionOverrides,action);var optionsData=this.computeOptionsData(props.optionOverrides,dynamicOptionOverrides,props.calendarApi);var currentViewType=reduceViewType(state.currentViewType,action);var currentViewData=this.computeCurrentViewData(currentViewType,optionsData,props.optionOverrides,dynamicOptionOverrides);props.calendarApi.currentDataManager=this;emitter.setThisContext(props.calendarApi);emitter.setOptions(currentViewData.options);var calendarContext={dateEnv:optionsData.dateEnv,options:optionsData.calendarOptions,pluginHooks:optionsData.pluginHooks,calendarApi:props.calendarApi,dispatch:this.dispatch,emitter:emitter,getCurrentData:this.getCurrentData};var currentDate=state.currentDate;var dateProfile=state.dateProfile;if(this.data&&this.data.dateProfileGenerator!==currentViewData.dateProfileGenerator){dateProfile=currentViewData.dateProfileGenerator.build(currentDate)}
currentDate=reduceCurrentDate(currentDate,action);dateProfile=reduceDateProfile(dateProfile,action,currentDate,currentViewData.dateProfileGenerator);if(!rangeContainsMarker(dateProfile.currentRange,currentDate)){currentDate=dateProfile.currentRange.start}
var eventSources=reduceEventSources(state.eventSources,action,dateProfile,calendarContext);var eventSourceLoadingLevel=computeEventSourceLoadingLevel(eventSources);var eventStore=reduceEventStore(state.eventStore,action,eventSources,dateProfile,calendarContext);var renderableEventStore=(eventSourceLoadingLevel&&!currentViewData.options.progressiveEventRendering)?(state.renderableEventStore||eventStore):eventStore;var _b=this.buildViewUiProps(calendarContext),eventUiSingleBase=_b.eventUiSingleBase,selectionConfig=_b.selectionConfig;var eventUiBySource=this.buildEventUiBySource(eventSources);var eventUiBases=this.buildEventUiBases(renderableEventStore.defs,eventUiSingleBase,eventUiBySource);var prevLoadingLevel=state.loadingLevel||0;var loadingLevel=eventSourceLoadingLevel;var newState={dynamicOptionOverrides:dynamicOptionOverrides,currentViewType:currentViewType,currentDate:currentDate,dateProfile:dateProfile,eventSources:eventSources,eventStore:eventStore,renderableEventStore:renderableEventStore,selectionConfig:selectionConfig,eventUiBases:eventUiBases,loadingLevel:loadingLevel,businessHours:this.parseContextBusinessHours(calendarContext),dateSelection:reduceDateSelection(state.dateSelection,action),eventSelection:reduceSelectedEvent(state.eventSelection,action),eventDrag:reduceEventDrag(state.eventDrag,action),eventResize:reduceEventResize(state.eventResize,action)};var contextAndState=__assign(__assign({},calendarContext),newState);for(var _i=0,_c=optionsData.pluginHooks.reducers;_i<_c.length;_i++){var reducer=_c[_i];__assign(newState,reducer(state,action,contextAndState))}
if(!prevLoadingLevel&&loadingLevel){emitter.trigger('loading',!0)}else if(prevLoadingLevel&&!loadingLevel){emitter.trigger('loading',!1)}
this.state=newState;if(props.onAction){props.onAction(action)}};CalendarDataManager.prototype.updateData=function(){var _a=this,props=_a.props,state=_a.state;var oldData=this.data;var optionsData=this.computeOptionsData(props.optionOverrides,state.dynamicOptionOverrides,props.calendarApi);var currentViewData=this.computeCurrentViewData(state.currentViewType,optionsData,props.optionOverrides,state.dynamicOptionOverrides);var data=this.data=__assign(__assign(__assign({viewTitle:this.buildTitle(state.dateProfile,currentViewData.options,optionsData.dateEnv),calendarApi:props.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},optionsData),currentViewData),state);var changeHandlers=optionsData.pluginHooks.optionChangeHandlers;var oldCalendarOptions=oldData&&oldData.calendarOptions;var newCalendarOptions=optionsData.calendarOptions;if(oldCalendarOptions&&oldCalendarOptions!==newCalendarOptions){if(oldCalendarOptions.timeZone!==newCalendarOptions.timeZone){state.eventSources=data.eventSources=reduceEventSourcesNewTimeZone(data.eventSources,state.dateProfile,data);state.eventStore=data.eventStore=rezoneEventStoreDates(data.eventStore,oldData.dateEnv,data.dateEnv)}
for(var optionName in changeHandlers){if(oldCalendarOptions[optionName]!==newCalendarOptions[optionName]){changeHandlers[optionName](newCalendarOptions[optionName],data)}}}
if(props.onData){props.onData(data)}};CalendarDataManager.prototype._computeOptionsData=function(optionOverrides,dynamicOptionOverrides,calendarApi){var _a=this.processRawCalendarOptions(optionOverrides,dynamicOptionOverrides),refinedOptions=_a.refinedOptions,pluginHooks=_a.pluginHooks,localeDefaults=_a.localeDefaults,availableLocaleData=_a.availableLocaleData,extra=_a.extra;warnUnknownOptions(extra);var dateEnv=this.buildDateEnv(refinedOptions.timeZone,refinedOptions.locale,refinedOptions.weekNumberCalculation,refinedOptions.firstDay,refinedOptions.weekText,pluginHooks,availableLocaleData,refinedOptions.defaultRangeSeparator);var viewSpecs=this.buildViewSpecs(pluginHooks.views,optionOverrides,dynamicOptionOverrides,localeDefaults);var theme=this.buildTheme(refinedOptions,pluginHooks);var toolbarConfig=this.parseToolbars(refinedOptions,optionOverrides,theme,viewSpecs,calendarApi);return{calendarOptions:refinedOptions,pluginHooks:pluginHooks,dateEnv:dateEnv,viewSpecs:viewSpecs,theme:theme,toolbarConfig:toolbarConfig,localeDefaults:localeDefaults,availableRawLocales:availableLocaleData.map}};CalendarDataManager.prototype.processRawCalendarOptions=function(optionOverrides,dynamicOptionOverrides){var _a=mergeRawOptions([BASE_OPTION_DEFAULTS,optionOverrides,dynamicOptionOverrides]),locales=_a.locales,locale=_a.locale;var availableLocaleData=this.organizeRawLocales(locales);var availableRawLocales=availableLocaleData.map;var localeDefaults=this.buildLocale(locale||availableLocaleData.defaultCode,availableRawLocales).options;var pluginHooks=this.buildPluginHooks(optionOverrides.plugins||[],globalPlugins);var refiners=this.currentCalendarOptionsRefiners=__assign(__assign(__assign(__assign(__assign({},BASE_OPTION_REFINERS),CALENDAR_LISTENER_REFINERS),CALENDAR_OPTION_REFINERS),pluginHooks.listenerRefiners),pluginHooks.optionRefiners);var extra={};var raw=mergeRawOptions([BASE_OPTION_DEFAULTS,localeDefaults,optionOverrides,dynamicOptionOverrides]);var refined={};var currentRaw=this.currentCalendarOptionsInput;var currentRefined=this.currentCalendarOptionsRefined;var anyChanges=!1;for(var optionName in raw){if(optionName!=='plugins'){if(raw[optionName]===currentRaw[optionName]||(COMPLEX_OPTION_COMPARATORS[optionName]&&(optionName in currentRaw)&&COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName],raw[optionName]))){refined[optionName]=currentRefined[optionName]}else if(refiners[optionName]){refined[optionName]=refiners[optionName](raw[optionName]);anyChanges=!0}else{extra[optionName]=currentRaw[optionName]}}}
if(anyChanges){this.currentCalendarOptionsInput=raw;this.currentCalendarOptionsRefined=refined}
return{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:pluginHooks,availableLocaleData:availableLocaleData,localeDefaults:localeDefaults,extra:extra}};CalendarDataManager.prototype._computeCurrentViewData=function(viewType,optionsData,optionOverrides,dynamicOptionOverrides){var viewSpec=optionsData.viewSpecs[viewType];if(!viewSpec){throw new Error("viewType \""+viewType+"\" is not available. Please make sure you've loaded all neccessary plugins")}
var _a=this.processRawViewOptions(viewSpec,optionsData.pluginHooks,optionsData.localeDefaults,optionOverrides,dynamicOptionOverrides),refinedOptions=_a.refinedOptions,extra=_a.extra;warnUnknownOptions(extra);var dateProfileGenerator=this.buildDateProfileGenerator({dateProfileGeneratorClass:viewSpec.optionDefaults.dateProfileGeneratorClass,duration:viewSpec.duration,durationUnit:viewSpec.durationUnit,usesMinMaxTime:viewSpec.optionDefaults.usesMinMaxTime,dateEnv:optionsData.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:refinedOptions.slotMinTime,slotMaxTime:refinedOptions.slotMaxTime,showNonCurrentDates:refinedOptions.showNonCurrentDates,dayCount:refinedOptions.dayCount,dateAlignment:refinedOptions.dateAlignment,dateIncrement:refinedOptions.dateIncrement,hiddenDays:refinedOptions.hiddenDays,weekends:refinedOptions.weekends,nowInput:refinedOptions.now,validRangeInput:refinedOptions.validRange,visibleRangeInput:refinedOptions.visibleRange,monthMode:refinedOptions.monthMode,fixedWeekCount:refinedOptions.fixedWeekCount});var viewApi=this.buildViewApi(viewType,this.getCurrentData,optionsData.dateEnv);return{viewSpec:viewSpec,options:refinedOptions,dateProfileGenerator:dateProfileGenerator,viewApi:viewApi}};CalendarDataManager.prototype.processRawViewOptions=function(viewSpec,pluginHooks,localeDefaults,optionOverrides,dynamicOptionOverrides){var raw=mergeRawOptions([BASE_OPTION_DEFAULTS,viewSpec.optionDefaults,localeDefaults,optionOverrides,viewSpec.optionOverrides,dynamicOptionOverrides]);var refiners=__assign(__assign(__assign(__assign(__assign(__assign({},BASE_OPTION_REFINERS),CALENDAR_LISTENER_REFINERS),CALENDAR_OPTION_REFINERS),VIEW_OPTION_REFINERS),pluginHooks.listenerRefiners),pluginHooks.optionRefiners);var refined={};var currentRaw=this.currentViewOptionsInput;var currentRefined=this.currentViewOptionsRefined;var anyChanges=!1;var extra={};for(var optionName in raw){if(raw[optionName]===currentRaw[optionName]){refined[optionName]=currentRefined[optionName]}else{if(raw[optionName]===this.currentCalendarOptionsInput[optionName]){if(optionName in this.currentCalendarOptionsRefined){refined[optionName]=this.currentCalendarOptionsRefined[optionName]}}else if(refiners[optionName]){refined[optionName]=refiners[optionName](raw[optionName])}else{extra[optionName]=raw[optionName]}
anyChanges=!0}}
if(anyChanges){this.currentViewOptionsInput=raw;this.currentViewOptionsRefined=refined}
return{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:extra}};return CalendarDataManager}());function buildDateEnv$1(timeZone,explicitLocale,weekNumberCalculation,firstDay,weekText,pluginHooks,availableLocaleData,defaultSeparator){var locale=buildLocale(explicitLocale||availableLocaleData.defaultCode,availableLocaleData.map);return new DateEnv({calendarSystem:'gregory',timeZone:timeZone,namedTimeZoneImpl:pluginHooks.namedTimeZonedImpl,locale:locale,weekNumberCalculation:weekNumberCalculation,firstDay:firstDay,weekText:weekText,cmdFormatter:pluginHooks.cmdFormatter,defaultSeparator:defaultSeparator})}
function buildTheme(options,pluginHooks){var ThemeClass=pluginHooks.themeClasses[options.themeSystem]||StandardTheme;return new ThemeClass(options)}
function buildDateProfileGenerator(props){var DateProfileGeneratorClass=props.dateProfileGeneratorClass||DateProfileGenerator;return new DateProfileGeneratorClass(props)}
function buildViewApi(type,getCurrentData,dateEnv){return new ViewApi(type,getCurrentData,dateEnv)}
function buildEventUiBySource(eventSources){return mapHash(eventSources,function(eventSource){return eventSource.ui})}
function buildEventUiBases(eventDefs,eventUiSingleBase,eventUiBySource){var eventUiBases={'':eventUiSingleBase};for(var defId in eventDefs){var def=eventDefs[defId];if(def.sourceId&&eventUiBySource[def.sourceId]){eventUiBases[defId]=eventUiBySource[def.sourceId]}}
return eventUiBases}
function buildViewUiProps(calendarContext){var options=calendarContext.options;return{eventUiSingleBase:createEventUi({display:options.eventDisplay,editable:options.editable,startEditable:options.eventStartEditable,durationEditable:options.eventDurationEditable,constraint:options.eventConstraint,overlap:typeof options.eventOverlap==='boolean'?options.eventOverlap:undefined,allow:options.eventAllow,backgroundColor:options.eventBackgroundColor,borderColor:options.eventBorderColor,textColor:options.eventTextColor,color:options.eventColor},calendarContext),selectionConfig:createEventUi({constraint:options.selectConstraint,overlap:typeof options.selectOverlap==='boolean'?options.selectOverlap:undefined,allow:options.selectAllow},calendarContext)}}
function parseContextBusinessHours(calendarContext){return parseBusinessHours(calendarContext.options.businessHours,calendarContext)}
function warnUnknownOptions(options,viewName){for(var optionName in options){console.warn("Unknown option '"+optionName+"'"+(viewName?" for view '"+viewName+"'":''))}}
var CalendarDataProvider=(function(_super){__extends(CalendarDataProvider,_super);function CalendarDataProvider(props){var _this=_super.call(this,props)||this;_this.handleData=function(data){if(!_this.dataManager){_this.state=data}else{_this.setState(data)}};_this.dataManager=new CalendarDataManager({optionOverrides:props.optionOverrides,calendarApi:props.calendarApi,onData:_this.handleData});return _this}
CalendarDataProvider.prototype.render=function(){return this.props.children(this.state)};CalendarDataProvider.prototype.componentDidUpdate=function(prevProps){var newOptionOverrides=this.props.optionOverrides;if(newOptionOverrides!==prevProps.optionOverrides){this.dataManager.resetOptions(newOptionOverrides)}};return CalendarDataProvider}(Component));function sliceEvents(props,allDay){return sliceEventStore(props.eventStore,props.eventUiBases,props.dateProfile.activeRange,allDay?props.nextDayThreshold:null).fg}
var NamedTimeZoneImpl=(function(){function NamedTimeZoneImpl(timeZoneName){this.timeZoneName=timeZoneName}
return NamedTimeZoneImpl}());var Interaction=(function(){function Interaction(settings){this.component=settings.component}
Interaction.prototype.destroy=function(){};return Interaction}());function parseInteractionSettings(component,input){return{component:component,el:input.el,useEventCenter:input.useEventCenter!=null?input.useEventCenter:!0}}
function interactionSettingsToStore(settings){var _a;return _a={},_a[settings.component.uid]=settings,_a}
var interactionSettingsStore={};var ElementDragging=(function(){function ElementDragging(el,selector){this.emitter=new Emitter()}
ElementDragging.prototype.destroy=function(){};ElementDragging.prototype.setMirrorIsVisible=function(bool){};ElementDragging.prototype.setMirrorNeedsRevert=function(bool){};ElementDragging.prototype.setAutoScrollEnabled=function(bool){};return ElementDragging}());var config={};var DRAG_META_REFINERS={startTime:createDuration,duration:createDuration,create:Boolean,sourceId:String};function parseDragMeta(raw){var _a=refineProps(raw,DRAG_META_REFINERS),refined=_a.refined,extra=_a.extra;return{startTime:refined.startTime||null,duration:refined.duration||null,create:refined.create!=null?refined.create:!0,sourceId:refined.sourceId,leftoverProps:extra}}
var Toolbar=(function(_super){__extends(Toolbar,_super);function Toolbar(){return _super!==null&&_super.apply(this,arguments)||this}
Toolbar.prototype.render=function(){var _a=this.props,model=_a.model,extraClassName=_a.extraClassName;var forceLtr=!1;var startContent,endContent;var centerContent=model.center;if(model.left){forceLtr=!0;startContent=model.left}else{startContent=model.start}
if(model.right){forceLtr=!0;endContent=model.right}else{endContent=model.end}
var classNames=[extraClassName||'','fc-toolbar',forceLtr?'fc-toolbar-ltr':''];return(createElement("div",{className:classNames.join(' ')},this.renderSection('start',startContent||[]),this.renderSection('center',centerContent||[]),this.renderSection('end',endContent||[])))};Toolbar.prototype.renderSection=function(key,widgetGroups){var props=this.props;return(createElement(ToolbarSection,{key:key,widgetGroups:widgetGroups,title:props.title,activeButton:props.activeButton,isTodayEnabled:props.isTodayEnabled,isPrevEnabled:props.isPrevEnabled,isNextEnabled:props.isNextEnabled}))};return Toolbar}(BaseComponent));var ToolbarSection=(function(_super){__extends(ToolbarSection,_super);function ToolbarSection(){return _super!==null&&_super.apply(this,arguments)||this}
ToolbarSection.prototype.render=function(){var _this=this;var children=this.props.widgetGroups.map(function(widgetGroup){return _this.renderWidgetGroup(widgetGroup)});return createElement.apply(void 0,__spreadArrays(['div',{className:'fc-toolbar-chunk'}],children))};ToolbarSection.prototype.renderWidgetGroup=function(widgetGroup){var props=this.props;var theme=this.context.theme;var children=[];var isOnlyButtons=!0;for(var _i=0,widgetGroup_1=widgetGroup;_i<widgetGroup_1.length;_i++){var widget=widgetGroup_1[_i];var buttonName=widget.buttonName,buttonClick=widget.buttonClick,buttonText=widget.buttonText,buttonIcon=widget.buttonIcon;if(buttonName==='title'){isOnlyButtons=!1;children.push(createElement("h2",{className:'fc-toolbar-title'},props.title))}else{var ariaAttrs=buttonIcon?{'aria-label':buttonName}:{};var buttonClasses=['fc-'+buttonName+'-button',theme.getClass('button')];if(buttonName===props.activeButton){buttonClasses.push(theme.getClass('buttonActive'))}
var isDisabled=(!props.isTodayEnabled&&buttonName==='today')||(!props.isPrevEnabled&&buttonName==='prev')||(!props.isNextEnabled&&buttonName==='next');children.push(createElement("button",__assign({disabled:isDisabled,className:buttonClasses.join(' '),onClick:buttonClick,type:'button'},ariaAttrs),buttonText||(buttonIcon?createElement("span",{className:buttonIcon}):'')))}}
if(children.length>1){var groupClassName=(isOnlyButtons&&theme.getClass('buttonGroup'))||'';return createElement.apply(void 0,__spreadArrays(['div',{className:groupClassName}],children))}else{return children[0]}};return ToolbarSection}(BaseComponent));var ViewContainer=(function(_super){__extends(ViewContainer,_super);function ViewContainer(){return _super!==null&&_super.apply(this,arguments)||this}
ViewContainer.prototype.render=function(){var props=this.props;var aspectRatio=props.aspectRatio;var classNames=['fc-view-harness',(aspectRatio||props.liquid||props.height)?'fc-view-harness-active':'fc-view-harness-passive'];var height='';var paddingBottom='';if(aspectRatio){paddingBottom=(1/aspectRatio)*100+'%'}else{height=props.height||''}
return(createElement("div",{ref:props.elRef,onClick:props.onClick,className:classNames.join(' '),style:{height:height,paddingBottom:paddingBottom}},props.children))};return ViewContainer}(BaseComponent));var EventClicking=(function(_super){__extends(EventClicking,_super);function EventClicking(settings){var _this=_super.call(this,settings)||this;_this.handleSegClick=function(ev,segEl){var component=_this.component;var context=component.context;var seg=getElSeg(segEl);if(seg&&component.isValidSegDownEl(ev.target)){var hasUrlContainer=elementClosest(ev.target,'.fc-event-forced-url');var url=hasUrlContainer?hasUrlContainer.querySelector('a[href]').href:'';context.emitter.trigger('eventClick',{el:segEl,event:new EventApi(component.context,seg.eventRange.def,seg.eventRange.instance),jsEvent:ev,view:context.viewApi});if(url&&!ev.defaultPrevented){window.location.href=url}}};_this.destroy=listenBySelector(settings.el,'click','.fc-event',_this.handleSegClick);return _this}
return EventClicking}(Interaction));var EventHovering=(function(_super){__extends(EventHovering,_super);function EventHovering(settings){var _this=_super.call(this,settings)||this;_this.handleEventElRemove=function(el){if(el===_this.currentSegEl){_this.handleSegLeave(null,_this.currentSegEl)}};_this.handleSegEnter=function(ev,segEl){if(getElSeg(segEl)){_this.currentSegEl=segEl;_this.triggerEvent('eventMouseEnter',ev,segEl)}};_this.handleSegLeave=function(ev,segEl){if(_this.currentSegEl){_this.currentSegEl=null;_this.triggerEvent('eventMouseLeave',ev,segEl)}};_this.removeHoverListeners=listenToHoverBySelector(settings.el,'.fc-event',_this.handleSegEnter,_this.handleSegLeave);return _this}
EventHovering.prototype.destroy=function(){this.removeHoverListeners()};EventHovering.prototype.triggerEvent=function(publicEvName,ev,segEl){var component=this.component;var context=component.context;var seg=getElSeg(segEl);if(!ev||component.isValidSegDownEl(ev.target)){context.emitter.trigger(publicEvName,{el:segEl,event:new EventApi(context,seg.eventRange.def,seg.eventRange.instance),jsEvent:ev,view:context.viewApi})}};return EventHovering}(Interaction));var CalendarContent=(function(_super){__extends(CalendarContent,_super);function CalendarContent(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.buildViewContext=memoize(buildViewContext);_this.buildViewPropTransformers=memoize(buildViewPropTransformers);_this.buildToolbarProps=memoize(buildToolbarProps);_this.handleNavLinkClick=buildDelegationHandler('a[data-navlink]',_this._handleNavLinkClick.bind(_this));_this.headerRef=createRef();_this.footerRef=createRef();_this.interactionsStore={};_this.registerInteractiveComponent=function(component,settingsInput){var settings=parseInteractionSettings(component,settingsInput);var DEFAULT_INTERACTIONS=[EventClicking,EventHovering];var interactionClasses=DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);var interactions=interactionClasses.map(function(interactionClass){return new interactionClass(settings)});_this.interactionsStore[component.uid]=interactions;interactionSettingsStore[component.uid]=settings};_this.unregisterInteractiveComponent=function(component){for(var _i=0,_a=_this.interactionsStore[component.uid];_i<_a.length;_i++){var listener=_a[_i];listener.destroy()}
delete _this.interactionsStore[component.uid];delete interactionSettingsStore[component.uid]};_this.resizeRunner=new DelayedRunner(function(){_this.props.emitter.trigger('_resize',!0);_this.props.emitter.trigger('windowResize',{view:_this.props.viewApi})});_this.handleWindowResize=function(ev){var options=_this.props.options;if(options.handleWindowResize&&ev.target===window){_this.resizeRunner.request(options.windowResizeDelay)}};return _this}
CalendarContent.prototype.render=function(){var props=this.props;var toolbarConfig=props.toolbarConfig,options=props.options;var toolbarProps=this.buildToolbarProps(props.viewSpec,props.dateProfile,props.dateProfileGenerator,props.currentDate,getNow(props.options.now,props.dateEnv),props.viewTitle);var viewVGrow=!1;var viewHeight='';var viewAspectRatio;if(props.isHeightAuto||props.forPrint){viewHeight=''}else if(options.height!=null){viewVGrow=!0}else if(options.contentHeight!=null){viewHeight=options.contentHeight}else{viewAspectRatio=Math.max(options.aspectRatio,0.5)}
var viewContext=this.buildViewContext(props.viewSpec,props.viewApi,props.options,props.dateProfileGenerator,props.dateEnv,props.theme,props.pluginHooks,props.dispatch,props.getCurrentData,props.emitter,props.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent);return(createElement(ViewContextType.Provider,{value:viewContext},toolbarConfig.headerToolbar&&createElement(Toolbar,__assign({ref:this.headerRef,extraClassName:'fc-header-toolbar',model:toolbarConfig.headerToolbar},toolbarProps)),createElement(ViewContainer,{liquid:viewVGrow,height:viewHeight,aspectRatio:viewAspectRatio,onClick:this.handleNavLinkClick},this.renderView(props),this.buildAppendContent()),toolbarConfig.footerToolbar&&createElement(Toolbar,__assign({ref:this.footerRef,extraClassName:'fc-footer-toolbar',model:toolbarConfig.footerToolbar},toolbarProps))))};CalendarContent.prototype.componentDidMount=function(){var props=this.props;this.calendarInteractions=props.pluginHooks.calendarInteractions.map(function(calendarInteractionClass){return new calendarInteractionClass(props)});window.addEventListener('resize',this.handleWindowResize);var propSetHandlers=props.pluginHooks.propSetHandlers;for(var propName in propSetHandlers){propSetHandlers[propName](props[propName],props)}};CalendarContent.prototype.componentDidUpdate=function(prevProps){var props=this.props;var propSetHandlers=props.pluginHooks.propSetHandlers;for(var propName in propSetHandlers){if(props[propName]!==prevProps[propName]){propSetHandlers[propName](props[propName],props)}}};CalendarContent.prototype.componentWillUnmount=function(){window.removeEventListener('resize',this.handleWindowResize);this.resizeRunner.clear();for(var _i=0,_a=this.calendarInteractions;_i<_a.length;_i++){var interaction=_a[_i];interaction.destroy()}
this.props.emitter.trigger('_unmount')};CalendarContent.prototype._handleNavLinkClick=function(ev,anchorEl){var _a=this.props,dateEnv=_a.dateEnv,options=_a.options,calendarApi=_a.calendarApi;var navLinkOptions=anchorEl.getAttribute('data-navlink');navLinkOptions=navLinkOptions?JSON.parse(navLinkOptions):{};var dateMarker=dateEnv.createMarker(navLinkOptions.date);var viewType=navLinkOptions.type;var customAction=viewType==='day'?options.navLinkDayClick:viewType==='week'?options.navLinkWeekClick:null;if(typeof customAction==='function'){customAction.call(calendarApi,dateEnv.toDate(dateMarker),ev)}else{if(typeof customAction==='string'){viewType=customAction}
calendarApi.zoomTo(dateMarker,viewType)}};CalendarContent.prototype.buildAppendContent=function(){var props=this.props;var children=props.pluginHooks.viewContainerAppends.map(function(buildAppendContent){return buildAppendContent(props)});return createElement.apply(void 0,__spreadArrays([Fragment,{}],children))};CalendarContent.prototype.renderView=function(props){var pluginHooks=props.pluginHooks;var viewSpec=props.viewSpec;var viewProps={dateProfile:props.dateProfile,businessHours:props.businessHours,eventStore:props.renderableEventStore,eventUiBases:props.eventUiBases,dateSelection:props.dateSelection,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,isHeightAuto:props.isHeightAuto,forPrint:props.forPrint};var transformers=this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);for(var _i=0,transformers_1=transformers;_i<transformers_1.length;_i++){var transformer=transformers_1[_i];__assign(viewProps,transformer.transform(viewProps,props))}
var ViewComponent=viewSpec.component;return(createElement(ViewComponent,__assign({},viewProps)))};return CalendarContent}(PureComponent));function buildToolbarProps(viewSpec,dateProfile,dateProfileGenerator,currentDate,now,title){var todayInfo=dateProfileGenerator.build(now,undefined,!1);var prevInfo=dateProfileGenerator.buildPrev(dateProfile,currentDate,!1);var nextInfo=dateProfileGenerator.buildNext(dateProfile,currentDate,!1);return{title:title,activeButton:viewSpec.type,isTodayEnabled:todayInfo.isValid&&!rangeContainsMarker(dateProfile.currentRange,now),isPrevEnabled:prevInfo.isValid,isNextEnabled:nextInfo.isValid}}
function buildViewPropTransformers(theClasses){return theClasses.map(function(theClass){return new theClass()})}
var canVGrowWithinCell;function getCanVGrowWithinCell(){if(canVGrowWithinCell==null){canVGrowWithinCell=computeCanVGrowWithinCell()}
return canVGrowWithinCell}
function computeCanVGrowWithinCell(){var el=document.createElement('div');el.style.position='absolute';el.style.top='0';el.style.left='0';el.innerHTML='<table style="height:100px"><tr><td><div style="height:100%"></div></td></tr></table>';document.body.appendChild(el);var div=el.querySelector('div');var possible=div.offsetHeight>0;document.body.removeChild(el);return possible}
var CalendarRoot=(function(_super){__extends(CalendarRoot,_super);function CalendarRoot(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.state={forPrint:!1};_this.handleBeforePrint=function(){_this.setState({forPrint:!0})};_this.handleAfterPrint=function(){_this.setState({forPrint:!1})};return _this}
CalendarRoot.prototype.render=function(){var props=this.props;var options=props.options;var forPrint=this.state.forPrint;var isHeightAuto=forPrint||options.height==='auto'||options.contentHeight==='auto';var height=(!isHeightAuto&&options.height!=null)?options.height:'';var classNames=['fc',forPrint?'fc-media-print':'fc-media-screen','fc-direction-'+options.direction,props.theme.getClass('root')];if(!getCanVGrowWithinCell()){classNames.push('fc-liquid-hack')}
return props.children(classNames,height,isHeightAuto,forPrint)};CalendarRoot.prototype.componentDidMount=function(){var emitter=this.props.emitter;emitter.on('_beforeprint',this.handleBeforePrint);emitter.on('_afterprint',this.handleAfterPrint)};CalendarRoot.prototype.componentWillUnmount=function(){var emitter=this.props.emitter;emitter.off('_beforeprint',this.handleBeforePrint);emitter.off('_afterprint',this.handleAfterPrint)};return CalendarRoot}(BaseComponent));function computeFallbackHeaderFormat(datesRepDistinctDays,dayCnt){if(!datesRepDistinctDays||dayCnt>10){return createFormatter({weekday:'short'})}else if(dayCnt>1){return createFormatter({weekday:'short',month:'numeric',day:'numeric',omitCommas:!0})}else{return createFormatter({weekday:'long'})}}
var CLASS_NAME='fc-col-header-cell';var TableDateCell=(function(_super){__extends(TableDateCell,_super);function TableDateCell(){return _super!==null&&_super.apply(this,arguments)||this}
TableDateCell.prototype.render=function(){var _a=this.context,dateEnv=_a.dateEnv,options=_a.options,theme=_a.theme,viewApi=_a.viewApi;var props=this.props;var date=props.date,dateProfile=props.dateProfile;var dayMeta=getDateMeta(date,props.todayRange,null,dateProfile);var classNames=[CLASS_NAME].concat(getDayClassNames(dayMeta,theme));var text=dateEnv.format(date,props.dayHeaderFormat);var navLinkAttrs=(options.navLinks&&!dayMeta.isDisabled&&props.colCnt>1)?{'data-navlink':buildNavLinkData(date),tabIndex:0}:{};var hookProps=__assign(__assign(__assign({date:dateEnv.toDate(date),view:viewApi},props.extraHookProps),{text:text}),dayMeta);return(createElement(RenderHook,{hookProps:hookProps,classNames:options.dayHeaderClassNames,content:options.dayHeaderContent,defaultContent:renderInner,didMount:options.dayHeaderDidMount,willUnmount:options.dayHeaderWillUnmount},function(rootElRef,customClassNames,innerElRef,innerContent){return(createElement("th",__assign({ref:rootElRef,className:classNames.concat(customClassNames).join(' '),"data-date":!dayMeta.isDisabled?formatDayString(date):undefined,colSpan:props.colSpan},props.extraDataAttrs),createElement("div",{className:'fc-scrollgrid-sync-inner'},!dayMeta.isDisabled&&createElement("a",__assign({ref:innerElRef,className:['fc-col-header-cell-cushion',props.isSticky?'fc-sticky':''].join(' ')},navLinkAttrs),innerContent))))}))};return TableDateCell}(BaseComponent));var TableDowCell=(function(_super){__extends(TableDowCell,_super);function TableDowCell(){return _super!==null&&_super.apply(this,arguments)||this}
TableDowCell.prototype.render=function(){var props=this.props;var _a=this.context,dateEnv=_a.dateEnv,theme=_a.theme,viewApi=_a.viewApi,options=_a.options;var date=addDays(new Date(259200000),props.dow);var dateMeta={dow:props.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1};var classNames=[CLASS_NAME].concat(getDayClassNames(dateMeta,theme),props.extraClassNames||[]);var text=dateEnv.format(date,props.dayHeaderFormat);var hookProps=__assign(__assign(__assign(__assign({date:date},dateMeta),{view:viewApi}),props.extraHookProps),{text:text});return(createElement(RenderHook,{hookProps:hookProps,classNames:options.dayHeaderClassNames,content:options.dayHeaderContent,defaultContent:renderInner,didMount:options.dayHeaderDidMount,willUnmount:options.dayHeaderWillUnmount},function(rootElRef,customClassNames,innerElRef,innerContent){return(createElement("th",__assign({ref:rootElRef,className:classNames.concat(customClassNames).join(' '),colSpan:props.colSpan},props.extraDataAttrs),createElement("div",{className:'fc-scrollgrid-sync-inner'},createElement("a",{className:['fc-col-header-cell-cushion',props.isSticky?'fc-sticky':''].join(' '),ref:innerElRef},innerContent))))}))};return TableDowCell}(BaseComponent));function renderInner(hookProps){return hookProps.text}
var NowTimer=(function(_super){__extends(NowTimer,_super);function NowTimer(props,context){var _this=_super.call(this,props,context)||this;_this.initialNowDate=getNow(context.options.now,context.dateEnv);_this.initialNowQueriedMs=new Date().valueOf();_this.state=_this.computeTiming().currentState;return _this}
NowTimer.prototype.render=function(){var _a=this,props=_a.props,state=_a.state;return props.children(state.nowDate,state.todayRange)};NowTimer.prototype.componentDidMount=function(){this.setTimeout()};NowTimer.prototype.componentDidUpdate=function(prevProps){if(prevProps.unit!==this.props.unit){this.clearTimeout();this.setTimeout()}};NowTimer.prototype.componentWillUnmount=function(){this.clearTimeout()};NowTimer.prototype.computeTiming=function(){var _a=this,props=_a.props,context=_a.context;var unroundedNow=addMs(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs);var currentUnitStart=context.dateEnv.startOf(unroundedNow,props.unit);var nextUnitStart=context.dateEnv.add(currentUnitStart,createDuration(1,props.unit));var waitMs=nextUnitStart.valueOf()-unroundedNow.valueOf();return{currentState:{nowDate:currentUnitStart,todayRange:buildDayRange(currentUnitStart)},nextState:{nowDate:nextUnitStart,todayRange:buildDayRange(nextUnitStart)},waitMs:waitMs}};NowTimer.prototype.setTimeout=function(){var _this=this;var _a=this.computeTiming(),nextState=_a.nextState,waitMs=_a.waitMs;this.timeoutId=setTimeout(function(){_this.setState(nextState,function(){_this.setTimeout()})},waitMs)};NowTimer.prototype.clearTimeout=function(){if(this.timeoutId){clearTimeout(this.timeoutId)}};NowTimer.contextType=ViewContextType;return NowTimer}(Component));function buildDayRange(date){var start=startOfDay(date);var end=addDays(start,1);return{start:start,end:end}}
var DayHeader=(function(_super){__extends(DayHeader,_super);function DayHeader(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.createDayHeaderFormatter=memoize(createDayHeaderFormatter);return _this}
DayHeader.prototype.render=function(){var context=this.context;var _a=this.props,dates=_a.dates,dateProfile=_a.dateProfile,datesRepDistinctDays=_a.datesRepDistinctDays,renderIntro=_a.renderIntro;var dayHeaderFormat=this.createDayHeaderFormatter(context.options.dayHeaderFormat,datesRepDistinctDays,dates.length);return(createElement(NowTimer,{unit:'day'},function(nowDate,todayRange){return(createElement("tr",null,renderIntro&&renderIntro(),dates.map(function(date){return(datesRepDistinctDays?createElement(TableDateCell,{key:date.toISOString(),date:date,dateProfile:dateProfile,todayRange:todayRange,colCnt:dates.length,dayHeaderFormat:dayHeaderFormat}):createElement(TableDowCell,{key:date.getUTCDay(),dow:date.getUTCDay(),dayHeaderFormat:dayHeaderFormat}))})))}))};return DayHeader}(BaseComponent));function createDayHeaderFormatter(explicitFormat,datesRepDistinctDays,dateCnt){return explicitFormat||computeFallbackHeaderFormat(datesRepDistinctDays,dateCnt)}
var DaySeriesModel=(function(){function DaySeriesModel(range,dateProfileGenerator){var date=range.start;var end=range.end;var indices=[];var dates=[];var dayIndex=-1;while(date<end){if(dateProfileGenerator.isHiddenDay(date)){indices.push(dayIndex+0.5)}else{dayIndex++;indices.push(dayIndex);dates.push(date)}
date=addDays(date,1)}
this.dates=dates;this.indices=indices;this.cnt=dates.length}
DaySeriesModel.prototype.sliceRange=function(range){var firstIndex=this.getDateDayIndex(range.start);var lastIndex=this.getDateDayIndex(addDays(range.end,-1));var clippedFirstIndex=Math.max(0,firstIndex);var clippedLastIndex=Math.min(this.cnt-1,lastIndex);clippedFirstIndex=Math.ceil(clippedFirstIndex);clippedLastIndex=Math.floor(clippedLastIndex);if(clippedFirstIndex<=clippedLastIndex){return{firstIndex:clippedFirstIndex,lastIndex:clippedLastIndex,isStart:firstIndex===clippedFirstIndex,isEnd:lastIndex===clippedLastIndex}}else{return null}};DaySeriesModel.prototype.getDateDayIndex=function(date){var indices=this.indices;var dayOffset=Math.floor(diffDays(this.dates[0],date));if(dayOffset<0){return indices[0]-1}else if(dayOffset>=indices.length){return indices[indices.length-1]+1}else{return indices[dayOffset]}};return DaySeriesModel}());var DayTableModel=(function(){function DayTableModel(daySeries,breakOnWeeks){var dates=daySeries.dates;var daysPerRow;var firstDay;var rowCnt;if(breakOnWeeks){firstDay=dates[0].getUTCDay();for(daysPerRow=1;daysPerRow<dates.length;daysPerRow++){if(dates[daysPerRow].getUTCDay()===firstDay){break}}
rowCnt=Math.ceil(dates.length/daysPerRow)}else{rowCnt=1;daysPerRow=dates.length}
this.rowCnt=rowCnt;this.colCnt=daysPerRow;this.daySeries=daySeries;this.cells=this.buildCells();this.headerDates=this.buildHeaderDates()}
DayTableModel.prototype.buildCells=function(){var rows=[];for(var row=0;row<this.rowCnt;row++){var cells=[];for(var col=0;col<this.colCnt;col++){cells.push(this.buildCell(row,col))}
rows.push(cells)}
return rows};DayTableModel.prototype.buildCell=function(row,col){var date=this.daySeries.dates[row*this.colCnt+col];return{key:date.toISOString(),date:date}};DayTableModel.prototype.buildHeaderDates=function(){var dates=[];for(var col=0;col<this.colCnt;col++){dates.push(this.cells[0][col].date)}
return dates};DayTableModel.prototype.sliceRange=function(range){var colCnt=this.colCnt;var seriesSeg=this.daySeries.sliceRange(range);var segs=[];if(seriesSeg){var firstIndex=seriesSeg.firstIndex,lastIndex=seriesSeg.lastIndex;var index=firstIndex;while(index<=lastIndex){var row=Math.floor(index/colCnt);var nextIndex=Math.min((row+1)*colCnt,lastIndex+1);segs.push({row:row,firstCol:index%colCnt,lastCol:(nextIndex-1)%colCnt,isStart:seriesSeg.isStart&&index===firstIndex,isEnd:seriesSeg.isEnd&&(nextIndex-1)===lastIndex});index=nextIndex}}
return segs};return DayTableModel}());var Slicer=(function(){function Slicer(){this.sliceBusinessHours=memoize(this._sliceBusinessHours);this.sliceDateSelection=memoize(this._sliceDateSpan);this.sliceEventStore=memoize(this._sliceEventStore);this.sliceEventDrag=memoize(this._sliceInteraction);this.sliceEventResize=memoize(this._sliceInteraction);this.forceDayIfListItem=!1}
Slicer.prototype.sliceProps=function(props,dateProfile,nextDayThreshold,context){var extraArgs=[];for(var _i=4;_i<arguments.length;_i++){extraArgs[_i-4]=arguments[_i]}
var eventUiBases=props.eventUiBases;var eventSegs=this.sliceEventStore.apply(this,__spreadArrays([props.eventStore,eventUiBases,dateProfile,nextDayThreshold],extraArgs));return{dateSelectionSegs:this.sliceDateSelection.apply(this,__spreadArrays([props.dateSelection,eventUiBases,context],extraArgs)),businessHourSegs:this.sliceBusinessHours.apply(this,__spreadArrays([props.businessHours,dateProfile,nextDayThreshold,context],extraArgs)),fgEventSegs:eventSegs.fg,bgEventSegs:eventSegs.bg,eventDrag:this.sliceEventDrag.apply(this,__spreadArrays([props.eventDrag,eventUiBases,dateProfile,nextDayThreshold],extraArgs)),eventResize:this.sliceEventResize.apply(this,__spreadArrays([props.eventResize,eventUiBases,dateProfile,nextDayThreshold],extraArgs)),eventSelection:props.eventSelection}};Slicer.prototype.sliceNowDate=function(date,context){var extraArgs=[];for(var _i=2;_i<arguments.length;_i++){extraArgs[_i-2]=arguments[_i]}
return this._sliceDateSpan.apply(this,__spreadArrays([{range:{start:date,end:addMs(date,1)},allDay:!1},{},context],extraArgs))};Slicer.prototype._sliceBusinessHours=function(businessHours,dateProfile,nextDayThreshold,context){var extraArgs=[];for(var _i=4;_i<arguments.length;_i++){extraArgs[_i-4]=arguments[_i]}
if(!businessHours){return[]}
return this._sliceEventStore.apply(this,__spreadArrays([expandRecurring(businessHours,computeActiveRange(dateProfile,Boolean(nextDayThreshold)),context),{},dateProfile,nextDayThreshold],extraArgs)).bg};Slicer.prototype._sliceEventStore=function(eventStore,eventUiBases,dateProfile,nextDayThreshold){var extraArgs=[];for(var _i=4;_i<arguments.length;_i++){extraArgs[_i-4]=arguments[_i]}
if(eventStore){var rangeRes=sliceEventStore(eventStore,eventUiBases,computeActiveRange(dateProfile,Boolean(nextDayThreshold)),nextDayThreshold);return{bg:this.sliceEventRanges(rangeRes.bg,extraArgs),fg:this.sliceEventRanges(rangeRes.fg,extraArgs)}}else{return{bg:[],fg:[]}}};Slicer.prototype._sliceInteraction=function(interaction,eventUiBases,dateProfile,nextDayThreshold){var extraArgs=[];for(var _i=4;_i<arguments.length;_i++){extraArgs[_i-4]=arguments[_i]}
if(!interaction){return null}
var rangeRes=sliceEventStore(interaction.mutatedEvents,eventUiBases,computeActiveRange(dateProfile,Boolean(nextDayThreshold)),nextDayThreshold);return{segs:this.sliceEventRanges(rangeRes.fg,extraArgs),affectedInstances:interaction.affectedEvents.instances,isEvent:interaction.isEvent}};Slicer.prototype._sliceDateSpan=function(dateSpan,eventUiBases,context){var extraArgs=[];for(var _i=3;_i<arguments.length;_i++){extraArgs[_i-3]=arguments[_i]}
if(!dateSpan){return[]}
var eventRange=fabricateEventRange(dateSpan,eventUiBases,context);var segs=this.sliceRange.apply(this,__spreadArrays([dateSpan.range],extraArgs));for(var _a=0,segs_1=segs;_a<segs_1.length;_a++){var seg=segs_1[_a];seg.eventRange=eventRange}
return segs};Slicer.prototype.sliceEventRanges=function(eventRanges,extraArgs){var segs=[];for(var _i=0,eventRanges_1=eventRanges;_i<eventRanges_1.length;_i++){var eventRange=eventRanges_1[_i];segs.push.apply(segs,this.sliceEventRange(eventRange,extraArgs))}
return segs};Slicer.prototype.sliceEventRange=function(eventRange,extraArgs){var dateRange=eventRange.range;if(this.forceDayIfListItem&&eventRange.ui.display==='list-item'){dateRange={start:dateRange.start,end:addDays(dateRange.start,1)}}
var segs=this.sliceRange.apply(this,__spreadArrays([dateRange],extraArgs));for(var _i=0,segs_2=segs;_i<segs_2.length;_i++){var seg=segs_2[_i];seg.eventRange=eventRange;seg.isStart=eventRange.isStart&&seg.isStart;seg.isEnd=eventRange.isEnd&&seg.isEnd}
return segs};return Slicer}());function computeActiveRange(dateProfile,isComponentAllDay){var range=dateProfile.activeRange;if(isComponentAllDay){return range}
return{start:addMs(range.start,dateProfile.slotMinTime.milliseconds),end:addMs(range.end,dateProfile.slotMaxTime.milliseconds-864e5)}}
var VISIBLE_HIDDEN_RE=/^(visible|hidden)$/;var Scroller=(function(_super){__extends(Scroller,_super);function Scroller(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.handleEl=function(el){_this.el=el;setRef(_this.props.elRef,el)};return _this}
Scroller.prototype.render=function(){var props=this.props;var liquid=props.liquid,liquidIsAbsolute=props.liquidIsAbsolute;var isAbsolute=liquid&&liquidIsAbsolute;var className=['fc-scroller'];if(liquid){if(liquidIsAbsolute){className.push('fc-scroller-liquid-absolute')}else{className.push('fc-scroller-liquid')}}
return(createElement("div",{ref:this.handleEl,className:className.join(' '),style:{overflowX:props.overflowX,overflowY:props.overflowY,left:(isAbsolute&&-(props.overcomeLeft||0))||'',right:(isAbsolute&&-(props.overcomeRight||0))||'',bottom:(isAbsolute&&-(props.overcomeBottom||0))||'',marginLeft:(!isAbsolute&&-(props.overcomeLeft||0))||'',marginRight:(!isAbsolute&&-(props.overcomeRight||0))||'',marginBottom:(!isAbsolute&&-(props.overcomeBottom||0))||'',maxHeight:props.maxHeight||''}},props.children))};Scroller.prototype.needsXScrolling=function(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowX)){return!1}
var el=this.el;var realClientWidth=this.el.getBoundingClientRect().width-this.getYScrollbarWidth();var children=el.children;for(var i=0;i<children.length;i++){var childEl=children[i];if(childEl.getBoundingClientRect().width>realClientWidth){return!0}}
return!1};Scroller.prototype.needsYScrolling=function(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowY)){return!1}
var el=this.el;var realClientHeight=this.el.getBoundingClientRect().height-this.getXScrollbarWidth();var children=el.children;for(var i=0;i<children.length;i++){var childEl=children[i];if(childEl.getBoundingClientRect().height>realClientHeight){return!0}}
return!1};Scroller.prototype.getXScrollbarWidth=function(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowX)){return 0}else{return this.el.offsetHeight-this.el.clientHeight}};Scroller.prototype.getYScrollbarWidth=function(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowY)){return 0}else{return this.el.offsetWidth-this.el.clientWidth}};return Scroller}(BaseComponent));var RefMap=(function(){function RefMap(masterCallback){var _this=this;this.masterCallback=masterCallback;this.currentMap={};this.depths={};this.callbackMap={};this.handleValue=function(val,key){var _a=_this,depths=_a.depths,currentMap=_a.currentMap;var removed=!1;var added=!1;if(val!==null){removed=(key in currentMap);currentMap[key]=val;depths[key]=(depths[key]||0)+1;added=!0}else if(--depths[key]===0){delete currentMap[key];delete _this.callbackMap[key];removed=!0}
if(_this.masterCallback){if(removed){_this.masterCallback(null,String(key))}
if(added){_this.masterCallback(val,String(key))}}}}
RefMap.prototype.createRef=function(key){var _this=this;var refCallback=this.callbackMap[key];if(!refCallback){refCallback=this.callbackMap[key]=function(val){_this.handleValue(val,String(key))}}
return refCallback};RefMap.prototype.collect=function(startIndex,endIndex,step){return collectFromHash(this.currentMap,startIndex,endIndex,step)};RefMap.prototype.getAll=function(){return hashValuesToArray(this.currentMap)};return RefMap}());function computeShrinkWidth(chunkEls){var shrinkCells=findElements(chunkEls,'.fc-scrollgrid-shrink');var largestWidth=0;for(var _i=0,shrinkCells_1=shrinkCells;_i<shrinkCells_1.length;_i++){var shrinkCell=shrinkCells_1[_i];largestWidth=Math.max(largestWidth,computeSmallestCellWidth(shrinkCell))}
return Math.ceil(largestWidth)}
function getSectionHasLiquidHeight(props,sectionConfig){return props.liquid&&sectionConfig.liquid}
function getAllowYScrolling(props,sectionConfig){return sectionConfig.maxHeight!=null||getSectionHasLiquidHeight(props,sectionConfig)}
function renderChunkContent(sectionConfig,chunkConfig,arg){var expandRows=arg.expandRows;var content=typeof chunkConfig.content==='function'?chunkConfig.content(arg):createElement('table',{className:[chunkConfig.tableClassName,sectionConfig.syncRowHeights?'fc-scrollgrid-sync-table':''].join(' '),style:{minWidth:arg.tableMinWidth,width:arg.clientWidth,height:expandRows?arg.clientHeight:''}},arg.tableColGroupNode,createElement('tbody',{},typeof chunkConfig.rowContent==='function'?chunkConfig.rowContent(arg):chunkConfig.rowContent));return content}
function isColPropsEqual(cols0,cols1){return isArraysEqual(cols0,cols1,isPropsEqual)}
function renderMicroColGroup(cols,shrinkWidth){var colNodes=[];for(var _i=0,cols_1=cols;_i<cols_1.length;_i++){var colProps=cols_1[_i];var span=colProps.span||1;for(var i=0;i<span;i++){colNodes.push(createElement("col",{style:{width:colProps.width==='shrink'?sanitizeShrinkWidth(shrinkWidth):(colProps.width||''),minWidth:colProps.minWidth||''}}))}}
return createElement.apply(void 0,__spreadArrays(['colgroup',{}],colNodes))}
function sanitizeShrinkWidth(shrinkWidth){return shrinkWidth==null?4:shrinkWidth}
function hasShrinkWidth(cols){for(var _i=0,cols_2=cols;_i<cols_2.length;_i++){var col=cols_2[_i];if(col.width==='shrink'){return!0}}
return!1}
function getScrollGridClassNames(liquid,context){var classNames=['fc-scrollgrid',context.theme.getClass('table')];if(liquid){classNames.push('fc-scrollgrid-liquid')}
return classNames}
function getSectionClassNames(sectionConfig,wholeTableVGrow){var classNames=['fc-scrollgrid-section',sectionConfig.className];if(wholeTableVGrow&&sectionConfig.liquid&&sectionConfig.maxHeight==null){classNames.push('fc-scrollgrid-section-liquid')}
if(sectionConfig.isSticky){classNames.push('fc-scrollgrid-section-sticky')}
return classNames}
function renderScrollShim(arg){return(createElement("div",{className:'fc-scrollgrid-sticky-shim',style:{width:arg.clientWidth,minWidth:arg.tableMinWidth}}))}
function getStickyHeaderDates(options){var stickyHeaderDates=options.stickyHeaderDates;if(stickyHeaderDates==null||stickyHeaderDates==='auto'){stickyHeaderDates=options.height==='auto'||options.viewHeight==='auto'}
return stickyHeaderDates}
function getStickyFooterScrollbar(options){var stickyFooterScrollbar=options.stickyFooterScrollbar;if(stickyFooterScrollbar==null||stickyFooterScrollbar==='auto'){stickyFooterScrollbar=options.height==='auto'||options.viewHeight==='auto'}
return stickyFooterScrollbar}
var SimpleScrollGrid=(function(_super){__extends(SimpleScrollGrid,_super);function SimpleScrollGrid(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.processCols=memoize(function(a){return a},isColPropsEqual);_this.renderMicroColGroup=memoize(renderMicroColGroup);_this.scrollerRefs=new RefMap();_this.scrollerElRefs=new RefMap(_this._handleScrollerEl.bind(_this));_this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}};_this.handleSizing=function(){_this.setState(__assign({shrinkWidth:_this.computeShrinkWidth()},_this.computeScrollerDims()))};return _this}
SimpleScrollGrid.prototype.render=function(){var _a=this,props=_a.props,state=_a.state,context=_a.context;var sectionConfigs=props.sections||[];var cols=this.processCols(props.cols);var microColGroupNode=this.renderMicroColGroup(cols,state.shrinkWidth);var classNames=getScrollGridClassNames(props.liquid,context);var configCnt=sectionConfigs.length;var configI=0;var currentConfig;var headSectionNodes=[];var bodySectionNodes=[];var footSectionNodes=[];while(configI<configCnt&&(currentConfig=sectionConfigs[configI]).type==='header'){headSectionNodes.push(this.renderSection(currentConfig,configI,microColGroupNode));configI++}
while(configI<configCnt&&(currentConfig=sectionConfigs[configI]).type==='body'){bodySectionNodes.push(this.renderSection(currentConfig,configI,microColGroupNode));configI++}
while(configI<configCnt&&(currentConfig=sectionConfigs[configI]).type==='footer'){footSectionNodes.push(this.renderSection(currentConfig,configI,microColGroupNode));configI++}
return(createElement("table",{className:classNames.join(' '),style:{height:props.height}},Boolean(headSectionNodes.length)&&createElement.apply(void 0,__spreadArrays(['thead',{}],headSectionNodes)),Boolean(bodySectionNodes.length)&&createElement.apply(void 0,__spreadArrays(['tbody',{}],bodySectionNodes)),Boolean(footSectionNodes.length)&&createElement.apply(void 0,__spreadArrays(['tfoot',{}],footSectionNodes))))};SimpleScrollGrid.prototype.renderSection=function(sectionConfig,sectionI,microColGroupNode){if('outerContent' in sectionConfig){return(createElement(Fragment,{key:sectionConfig.key},sectionConfig.outerContent))}
return(createElement("tr",{key:sectionConfig.key,className:getSectionClassNames(sectionConfig,this.props.liquid).join(' ')},this.renderChunkTd(sectionConfig,sectionI,microColGroupNode,sectionConfig.chunk)))};SimpleScrollGrid.prototype.renderChunkTd=function(sectionConfig,sectionI,microColGroupNode,chunkConfig){if('outerContent' in chunkConfig){return chunkConfig.outerContent}
var props=this.props;var _a=this.state,forceYScrollbars=_a.forceYScrollbars,scrollerClientWidths=_a.scrollerClientWidths,scrollerClientHeights=_a.scrollerClientHeights;var needsYScrolling=getAllowYScrolling(props,sectionConfig);var isLiquid=getSectionHasLiquidHeight(props,sectionConfig);var overflowY=!props.liquid?'visible':forceYScrollbars?'scroll':!needsYScrolling?'hidden':'auto';var content=renderChunkContent(sectionConfig,chunkConfig,{tableColGroupNode:microColGroupNode,tableMinWidth:'',clientWidth:scrollerClientWidths[sectionI]!==undefined?scrollerClientWidths[sectionI]:null,clientHeight:scrollerClientHeights[sectionI]!==undefined?scrollerClientHeights[sectionI]:null,expandRows:sectionConfig.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}});return(createElement("td",{ref:chunkConfig.elRef},createElement("div",{className:'fc-scroller-harness'+(isLiquid?' fc-scroller-harness-liquid':'')},createElement(Scroller,{ref:this.scrollerRefs.createRef(sectionI),elRef:this.scrollerElRefs.createRef(sectionI),overflowY:overflowY,overflowX:!props.liquid?'visible':'hidden',maxHeight:sectionConfig.maxHeight,liquid:isLiquid,liquidIsAbsolute:!0},content))))};SimpleScrollGrid.prototype._handleScrollerEl=function(scrollerEl,key){var sectionI=parseInt(key,10);var chunkConfig=this.props.sections[sectionI].chunk;setRef(chunkConfig.scrollerElRef,scrollerEl)};SimpleScrollGrid.prototype.componentDidMount=function(){this.handleSizing();this.context.addResizeHandler(this.handleSizing)};SimpleScrollGrid.prototype.componentDidUpdate=function(){this.handleSizing()};SimpleScrollGrid.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)};SimpleScrollGrid.prototype.computeShrinkWidth=function(){return hasShrinkWidth(this.props.cols)?computeShrinkWidth(this.scrollerElRefs.getAll()):0};SimpleScrollGrid.prototype.computeScrollerDims=function(){var scrollbarWidth=getScrollbarWidths();var sectionCnt=this.props.sections.length;var _a=this,scrollerRefs=_a.scrollerRefs,scrollerElRefs=_a.scrollerElRefs;var forceYScrollbars=!1;var scrollerClientWidths={};var scrollerClientHeights={};for(var sectionI=0;sectionI<sectionCnt;sectionI++){var scroller=scrollerRefs.currentMap[sectionI];if(scroller&&scroller.needsYScrolling()){forceYScrollbars=!0;break}}
for(var sectionI=0;sectionI<sectionCnt;sectionI++){var scrollerEl=scrollerElRefs.currentMap[sectionI];if(scrollerEl){var harnessEl=scrollerEl.parentNode;scrollerClientWidths[sectionI]=Math.floor(harnessEl.getBoundingClientRect().width-(forceYScrollbars?scrollbarWidth.y:0));scrollerClientHeights[sectionI]=Math.floor(harnessEl.getBoundingClientRect().height)}}
return{forceYScrollbars:forceYScrollbars,scrollerClientWidths:scrollerClientWidths,scrollerClientHeights:scrollerClientHeights}};return SimpleScrollGrid}(BaseComponent));SimpleScrollGrid.addStateEquality({scrollerClientWidths:isPropsEqual,scrollerClientHeights:isPropsEqual});var EventRoot=(function(_super){__extends(EventRoot,_super);function EventRoot(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.elRef=createRef();return _this}
EventRoot.prototype.render=function(){var _a=this,props=_a.props,context=_a.context;var options=context.options;var seg=props.seg;var eventRange=seg.eventRange;var ui=eventRange.ui;var hookProps={event:new EventApi(context,eventRange.def,eventRange.instance),view:context.viewApi,timeText:props.timeText,textColor:ui.textColor,backgroundColor:ui.backgroundColor,borderColor:ui.borderColor,isDraggable:!props.disableDragging&&computeSegDraggable(seg,context),isStartResizable:!props.disableResizing&&computeSegStartResizable(seg,context),isEndResizable:!props.disableResizing&&computeSegEndResizable(seg),isMirror:Boolean(props.isDragging||props.isResizing||props.isDateSelecting),isStart:Boolean(seg.isStart),isEnd:Boolean(seg.isEnd),isPast:Boolean(props.isPast),isFuture:Boolean(props.isFuture),isToday:Boolean(props.isToday),isSelected:Boolean(props.isSelected),isDragging:Boolean(props.isDragging),isResizing:Boolean(props.isResizing)};var standardClassNames=getEventClassNames(hookProps).concat(ui.classNames);return(createElement(RenderHook,{hookProps:hookProps,classNames:options.eventClassNames,content:options.eventContent,defaultContent:props.defaultContent,didMount:options.eventDidMount,willUnmount:options.eventWillUnmount,elRef:this.elRef},function(rootElRef,customClassNames,innerElRef,innerContent){return props.children(rootElRef,standardClassNames.concat(customClassNames),innerElRef,innerContent,hookProps)}))};EventRoot.prototype.componentDidMount=function(){setElSeg(this.elRef.current,this.props.seg)};EventRoot.prototype.componentDidUpdate=function(prevProps){var seg=this.props.seg;if(seg!==prevProps.seg){setElSeg(this.elRef.current,seg)}};return EventRoot}(BaseComponent));var StandardEvent=(function(_super){__extends(StandardEvent,_super);function StandardEvent(){return _super!==null&&_super.apply(this,arguments)||this}
StandardEvent.prototype.render=function(){var _a=this,props=_a.props,context=_a.context;var seg=props.seg;var timeFormat=context.options.eventTimeFormat||props.defaultTimeFormat;var timeText=buildSegTimeText(seg,timeFormat,context,props.defaultDisplayEventTime,props.defaultDisplayEventEnd);return(createElement(EventRoot,{seg:seg,timeText:timeText,disableDragging:props.disableDragging,disableResizing:props.disableResizing,defaultContent:props.defaultContent||renderInnerContent,isDragging:props.isDragging,isResizing:props.isResizing,isDateSelecting:props.isDateSelecting,isSelected:props.isSelected,isPast:props.isPast,isFuture:props.isFuture,isToday:props.isToday},function(rootElRef,classNames,innerElRef,innerContent,hookProps){return(createElement("a",__assign({className:props.extraClassNames.concat(classNames).join(' '),style:{borderColor:hookProps.borderColor,backgroundColor:hookProps.backgroundColor},ref:rootElRef},getSegAnchorAttrs(seg)),createElement("div",{className:'fc-event-main',ref:innerElRef,style:{color:hookProps.textColor}},innerContent),hookProps.isStartResizable&&createElement("div",{className:'fc-event-resizer fc-event-resizer-start'}),hookProps.isEndResizable&&createElement("div",{className:'fc-event-resizer fc-event-resizer-end'})))}))};return StandardEvent}(BaseComponent));function renderInnerContent(innerProps){return(createElement("div",{className:'fc-event-main-frame'},innerProps.timeText&&createElement("div",{className:'fc-event-time'},innerProps.timeText),createElement("div",{className:'fc-event-title-container'},createElement("div",{className:'fc-event-title fc-sticky'},innerProps.event.title||createElement(Fragment,null,"\u00A0")))))}
function getSegAnchorAttrs(seg){var url=seg.eventRange.def.url;return url?{href:url}:{}}
var NowIndicatorRoot=function(props){return(createElement(ViewContextType.Consumer,null,function(context){var options=context.options;var hookProps={isAxis:props.isAxis,date:context.dateEnv.toDate(props.date),view:context.viewApi};return(createElement(RenderHook,{hookProps:hookProps,classNames:options.nowIndicatorClassNames,content:options.nowIndicatorContent,didMount:options.nowIndicatorDidMount,willUnmount:options.nowIndicatorWillUnmount},props.children))}))};var DAY_NUM_FORMAT=createFormatter({day:'numeric'});var DayCellRoot=(function(_super){__extends(DayCellRoot,_super);function DayCellRoot(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.refineHookProps=memoizeObjArg(refineHookProps);_this.normalizeClassNames=buildClassNameNormalizer();return _this}
DayCellRoot.prototype.render=function(){var _a=this,props=_a.props,context=_a.context;var options=context.options;var hookProps=this.refineHookProps({date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,showDayNumber:props.showDayNumber,extraProps:props.extraHookProps,viewApi:context.viewApi,dateEnv:context.dateEnv});var classNames=getDayClassNames(hookProps,context.theme).concat(hookProps.isDisabled?[]:this.normalizeClassNames(options.dayCellClassNames,hookProps));var dataAttrs=hookProps.isDisabled?{}:{'data-date':formatDayString(props.date)};return(createElement(MountHook,{hookProps:hookProps,didMount:options.dayCellDidMount,willUnmount:options.dayCellWillUnmount,elRef:props.elRef},function(rootElRef){return props.children(rootElRef,classNames,dataAttrs,hookProps.isDisabled)}))};return DayCellRoot}(BaseComponent));var DayCellContent=(function(_super){__extends(DayCellContent,_super);function DayCellContent(){return _super!==null&&_super.apply(this,arguments)||this}
DayCellContent.prototype.render=function(){var _a=this,props=_a.props,context=_a.context;var options=context.options;var hookProps=refineHookProps({date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,showDayNumber:props.showDayNumber,extraProps:props.extraHookProps,viewApi:context.viewApi,dateEnv:context.dateEnv});return(createElement(ContentHook,{hookProps:hookProps,content:options.dayCellContent,defaultContent:props.defaultContent},props.children))};return DayCellContent}(BaseComponent));function refineHookProps(raw){var date=raw.date,dateEnv=raw.dateEnv;var dayMeta=getDateMeta(date,raw.todayRange,null,raw.dateProfile);return __assign(__assign(__assign({date:dateEnv.toDate(date),view:raw.viewApi},dayMeta),{dayNumberText:raw.showDayNumber?dateEnv.format(date,DAY_NUM_FORMAT):''}),raw.extraProps)}
function renderFill(fillType){return(createElement("div",{className:"fc-"+fillType}))}
var BgEvent=function(props){return(createElement(EventRoot,{defaultContent:renderInnerContent$1,seg:props.seg,timeText:'',disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:props.isPast,isFuture:props.isFuture,isToday:props.isToday},function(rootElRef,classNames,innerElRef,innerContent,hookProps){return(createElement("div",{ref:rootElRef,className:['fc-bg-event'].concat(classNames).join(' '),style:{backgroundColor:hookProps.backgroundColor}},innerContent))}))};function renderInnerContent$1(props){var title=props.event.title;return title&&(createElement("div",{className:'fc-event-title'},props.event.title))}
var WeekNumberRoot=function(props){return(createElement(ViewContextType.Consumer,null,function(context){var dateEnv=context.dateEnv,options=context.options;var date=props.date;var format=options.weekNumberFormat||props.defaultFormat;var num=dateEnv.computeWeekNumber(date);var text=dateEnv.format(date,format);var hookProps={num:num,text:text,date:date};return(createElement(RenderHook,{hookProps:hookProps,classNames:options.weekNumberClassNames,content:options.weekNumberContent,defaultContent:renderInner$1,didMount:options.weekNumberDidMount,willUnmount:options.weekNumberWillUnmount},props.children))}))};function renderInner$1(innerProps){return innerProps.text}
var version='<%= version %>';var Calendar=(function(_super){__extends(Calendar,_super);function Calendar(el,optionOverrides){if(optionOverrides===void 0){optionOverrides={}}
var _this=_super.call(this)||this;_this.isRendering=!1;_this.isRendered=!1;_this.currentClassNames=[];_this.customContentRenderId=0;_this.handleAction=function(action){switch(action.type){case 'SET_EVENT_DRAG':case 'SET_EVENT_RESIZE':_this.renderRunner.tryDrain()}};_this.handleData=function(data){_this.currentData=data;_this.renderRunner.request(data.calendarOptions.rerenderDelay)};_this.handleRenderRequest=function(){if(_this.isRendering){_this.isRendered=!0;var currentData_1=_this.currentData;render(createElement(CalendarRoot,{options:currentData_1.calendarOptions,theme:currentData_1.theme,emitter:currentData_1.emitter},function(classNames,height,isHeightAuto,forPrint){_this.setClassNames(classNames);_this.setHeight(height);return(createElement(CustomContentRenderContext.Provider,{value:_this.customContentRenderId},createElement(CalendarContent,__assign({isHeightAuto:isHeightAuto,forPrint:forPrint},currentData_1))))}),_this.el)}else if(_this.isRendered){_this.isRendered=!1;render(null,_this.el);_this.setClassNames([]);_this.setHeight('')}
flushToDom$1()};_this.el=el;_this.renderRunner=new DelayedRunner(_this.handleRenderRequest);new CalendarDataManager({optionOverrides:optionOverrides,calendarApi:_this,onAction:_this.handleAction,onData:_this.handleData});return _this}
Object.defineProperty(Calendar.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0});Calendar.prototype.render=function(){if(!this.isRendering){this.isRendering=!0}else{this.customContentRenderId++}
this.renderRunner.request()};Calendar.prototype.destroy=function(){if(this.isRendering){this.isRendering=!1;this.renderRunner.request()}};Calendar.prototype.updateSize=function(){_super.prototype.updateSize.call(this);flushToDom$1()};Calendar.prototype.batchRendering=function(func){this.renderRunner.pause('batchRendering');func();this.renderRunner.resume('batchRendering')};Calendar.prototype.pauseRendering=function(){this.renderRunner.pause('pauseRendering')};Calendar.prototype.resumeRendering=function(){this.renderRunner.resume('pauseRendering',!0)};Calendar.prototype.resetOptions=function(optionOverrides,append){this.currentDataManager.resetOptions(optionOverrides,append)};Calendar.prototype.setClassNames=function(classNames){if(!isArraysEqual(classNames,this.currentClassNames)){var classList=this.el.classList;for(var _i=0,_a=this.currentClassNames;_i<_a.length;_i++){var className=_a[_i];classList.remove(className)}
for(var _b=0,classNames_1=classNames;_b<classNames_1.length;_b++){var className=classNames_1[_b];classList.add(className)}
this.currentClassNames=classNames}};Calendar.prototype.setHeight=function(height){applyStyleProp(this.el,'height',height)};return Calendar}(CalendarApi));config.touchMouseIgnoreWait=500;var ignoreMouseDepth=0;var listenerCnt=0;var isWindowTouchMoveCancelled=!1;var PointerDragging=(function(){function PointerDragging(containerEl){var _this=this;this.subjectEl=null;this.downEl=null;this.selector='';this.handleSelector='';this.shouldIgnoreMove=!1;this.shouldWatchScroll=!0;this.isDragging=!1;this.isTouchDragging=!1;this.wasTouchScroll=!1;this.handleMouseDown=function(ev){if(!_this.shouldIgnoreMouse()&&isPrimaryMouseButton(ev)&&_this.tryStart(ev)){var pev=_this.createEventFromMouse(ev,!0);_this.emitter.trigger('pointerdown',pev);_this.initScrollWatch(pev);if(!_this.shouldIgnoreMove){document.addEventListener('mousemove',_this.handleMouseMove)}
document.addEventListener('mouseup',_this.handleMouseUp)}};this.handleMouseMove=function(ev){var pev=_this.createEventFromMouse(ev);_this.recordCoords(pev);_this.emitter.trigger('pointermove',pev)};this.handleMouseUp=function(ev){document.removeEventListener('mousemove',_this.handleMouseMove);document.removeEventListener('mouseup',_this.handleMouseUp);_this.emitter.trigger('pointerup',_this.createEventFromMouse(ev));_this.cleanup()};this.handleTouchStart=function(ev){if(_this.tryStart(ev)){_this.isTouchDragging=!0;var pev=_this.createEventFromTouch(ev,!0);_this.emitter.trigger('pointerdown',pev);_this.initScrollWatch(pev);var target=ev.target;if(!_this.shouldIgnoreMove){target.addEventListener('touchmove',_this.handleTouchMove)}
target.addEventListener('touchend',_this.handleTouchEnd);target.addEventListener('touchcancel',_this.handleTouchEnd);window.addEventListener('scroll',_this.handleTouchScroll,!0)}};this.handleTouchMove=function(ev){var pev=_this.createEventFromTouch(ev);_this.recordCoords(pev);_this.emitter.trigger('pointermove',pev)};this.handleTouchEnd=function(ev){if(_this.isDragging){var target=ev.target;target.removeEventListener('touchmove',_this.handleTouchMove);target.removeEventListener('touchend',_this.handleTouchEnd);target.removeEventListener('touchcancel',_this.handleTouchEnd);window.removeEventListener('scroll',_this.handleTouchScroll,!0);_this.emitter.trigger('pointerup',_this.createEventFromTouch(ev));_this.cleanup();_this.isTouchDragging=!1;startIgnoringMouse()}};this.handleTouchScroll=function(){_this.wasTouchScroll=!0};this.handleScroll=function(ev){if(!_this.shouldIgnoreMove){var pageX=(window.pageXOffset-_this.prevScrollX)+_this.prevPageX;var pageY=(window.pageYOffset-_this.prevScrollY)+_this.prevPageY;_this.emitter.trigger('pointermove',{origEvent:ev,isTouch:_this.isTouchDragging,subjectEl:_this.subjectEl,pageX:pageX,pageY:pageY,deltaX:pageX-_this.origPageX,deltaY:pageY-_this.origPageY})}};this.containerEl=containerEl;this.emitter=new Emitter();containerEl.addEventListener('mousedown',this.handleMouseDown);containerEl.addEventListener('touchstart',this.handleTouchStart,{passive:!0});listenerCreated()}
PointerDragging.prototype.destroy=function(){this.containerEl.removeEventListener('mousedown',this.handleMouseDown);this.containerEl.removeEventListener('touchstart',this.handleTouchStart,{passive:!0});listenerDestroyed()};PointerDragging.prototype.tryStart=function(ev){var subjectEl=this.querySubjectEl(ev);var downEl=ev.target;if(subjectEl&&(!this.handleSelector||elementClosest(downEl,this.handleSelector))){this.subjectEl=subjectEl;this.downEl=downEl;this.isDragging=!0;this.wasTouchScroll=!1;return!0}
return!1};PointerDragging.prototype.cleanup=function(){isWindowTouchMoveCancelled=!1;this.isDragging=!1;this.subjectEl=null;this.downEl=null;this.destroyScrollWatch()};PointerDragging.prototype.querySubjectEl=function(ev){if(this.selector){return elementClosest(ev.target,this.selector)}else{return this.containerEl}};PointerDragging.prototype.shouldIgnoreMouse=function(){return ignoreMouseDepth||this.isTouchDragging};PointerDragging.prototype.cancelTouchScroll=function(){if(this.isDragging){isWindowTouchMoveCancelled=!0}};PointerDragging.prototype.initScrollWatch=function(ev){if(this.shouldWatchScroll){this.recordCoords(ev);window.addEventListener('scroll',this.handleScroll,!0)}};PointerDragging.prototype.recordCoords=function(ev){if(this.shouldWatchScroll){this.prevPageX=ev.pageX;this.prevPageY=ev.pageY;this.prevScrollX=window.pageXOffset;this.prevScrollY=window.pageYOffset}};PointerDragging.prototype.destroyScrollWatch=function(){if(this.shouldWatchScroll){window.removeEventListener('scroll',this.handleScroll,!0)}};PointerDragging.prototype.createEventFromMouse=function(ev,isFirst){var deltaX=0;var deltaY=0;if(isFirst){this.origPageX=ev.pageX;this.origPageY=ev.pageY}else{deltaX=ev.pageX-this.origPageX;deltaY=ev.pageY-this.origPageY}
return{origEvent:ev,isTouch:!1,subjectEl:this.subjectEl,pageX:ev.pageX,pageY:ev.pageY,deltaX:deltaX,deltaY:deltaY}};PointerDragging.prototype.createEventFromTouch=function(ev,isFirst){var touches=ev.touches;var pageX;var pageY;var deltaX=0;var deltaY=0;if(touches&&touches.length){pageX=touches[0].pageX;pageY=touches[0].pageY}else{pageX=ev.pageX;pageY=ev.pageY}
if(isFirst){this.origPageX=pageX;this.origPageY=pageY}else{deltaX=pageX-this.origPageX;deltaY=pageY-this.origPageY}
return{origEvent:ev,isTouch:!0,subjectEl:this.subjectEl,pageX:pageX,pageY:pageY,deltaX:deltaX,deltaY:deltaY}};return PointerDragging}());function isPrimaryMouseButton(ev){return ev.button===0&&!ev.ctrlKey}
function startIgnoringMouse(){ignoreMouseDepth++;setTimeout(function(){ignoreMouseDepth--},config.touchMouseIgnoreWait)}
function listenerCreated(){if(!(listenerCnt++)){window.addEventListener('touchmove',onWindowTouchMove,{passive:!1})}}
function listenerDestroyed(){if(!(--listenerCnt)){window.removeEventListener('touchmove',onWindowTouchMove,{passive:!1})}}
function onWindowTouchMove(ev){if(isWindowTouchMoveCancelled){ev.preventDefault()}}
var ElementMirror=(function(){function ElementMirror(){this.isVisible=!1;this.sourceEl=null;this.mirrorEl=null;this.sourceElRect=null;this.parentNode=document.body;this.zIndex=9999;this.revertDuration=0}
ElementMirror.prototype.start=function(sourceEl,pageX,pageY){this.sourceEl=sourceEl;this.sourceElRect=this.sourceEl.getBoundingClientRect();this.origScreenX=pageX-window.pageXOffset;this.origScreenY=pageY-window.pageYOffset;this.deltaX=0;this.deltaY=0;this.updateElPosition()};ElementMirror.prototype.handleMove=function(pageX,pageY){this.deltaX=(pageX-window.pageXOffset)-this.origScreenX;this.deltaY=(pageY-window.pageYOffset)-this.origScreenY;this.updateElPosition()};ElementMirror.prototype.setIsVisible=function(bool){if(bool){if(!this.isVisible){if(this.mirrorEl){this.mirrorEl.style.display=''}
this.isVisible=bool;this.updateElPosition()}}else{if(this.isVisible){if(this.mirrorEl){this.mirrorEl.style.display='none'}
this.isVisible=bool}}};ElementMirror.prototype.stop=function(needsRevertAnimation,callback){var _this=this;var done=function(){_this.cleanup();callback()};if(needsRevertAnimation&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)){this.doRevertAnimation(done,this.revertDuration)}else{setTimeout(done,0)}};ElementMirror.prototype.doRevertAnimation=function(callback,revertDuration){var mirrorEl=this.mirrorEl;var finalSourceElRect=this.sourceEl.getBoundingClientRect();mirrorEl.style.transition='top '+revertDuration+'ms,'+'left '+revertDuration+'ms';applyStyle(mirrorEl,{left:finalSourceElRect.left,top:finalSourceElRect.top});whenTransitionDone(mirrorEl,function(){mirrorEl.style.transition='';callback()})};ElementMirror.prototype.cleanup=function(){if(this.mirrorEl){removeElement(this.mirrorEl);this.mirrorEl=null}
this.sourceEl=null};ElementMirror.prototype.updateElPosition=function(){if(this.sourceEl&&this.isVisible){applyStyle(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}};ElementMirror.prototype.getMirrorEl=function(){var sourceElRect=this.sourceElRect;var mirrorEl=this.mirrorEl;if(!mirrorEl){mirrorEl=this.mirrorEl=this.sourceEl.cloneNode(!0);mirrorEl.classList.add('fc-unselectable');mirrorEl.classList.add('fc-event-dragging');applyStyle(mirrorEl,{position:'fixed',zIndex:this.zIndex,visibility:'',boxSizing:'border-box',width:sourceElRect.right-sourceElRect.left,height:sourceElRect.bottom-sourceElRect.top,right:'auto',bottom:'auto',margin:0});this.parentNode.appendChild(mirrorEl)}
return mirrorEl};return ElementMirror}());var ScrollGeomCache=(function(_super){__extends(ScrollGeomCache,_super);function ScrollGeomCache(scrollController,doesListening){var _this=_super.call(this)||this;_this.handleScroll=function(){_this.scrollTop=_this.scrollController.getScrollTop();_this.scrollLeft=_this.scrollController.getScrollLeft();_this.handleScrollChange()};_this.scrollController=scrollController;_this.doesListening=doesListening;_this.scrollTop=_this.origScrollTop=scrollController.getScrollTop();_this.scrollLeft=_this.origScrollLeft=scrollController.getScrollLeft();_this.scrollWidth=scrollController.getScrollWidth();_this.scrollHeight=scrollController.getScrollHeight();_this.clientWidth=scrollController.getClientWidth();_this.clientHeight=scrollController.getClientHeight();_this.clientRect=_this.computeClientRect();if(_this.doesListening){_this.getEventTarget().addEventListener('scroll',_this.handleScroll)}
return _this}
ScrollGeomCache.prototype.destroy=function(){if(this.doesListening){this.getEventTarget().removeEventListener('scroll',this.handleScroll)}};ScrollGeomCache.prototype.getScrollTop=function(){return this.scrollTop};ScrollGeomCache.prototype.getScrollLeft=function(){return this.scrollLeft};ScrollGeomCache.prototype.setScrollTop=function(top){this.scrollController.setScrollTop(top);if(!this.doesListening){this.scrollTop=Math.max(Math.min(top,this.getMaxScrollTop()),0);this.handleScrollChange()}};ScrollGeomCache.prototype.setScrollLeft=function(top){this.scrollController.setScrollLeft(top);if(!this.doesListening){this.scrollLeft=Math.max(Math.min(top,this.getMaxScrollLeft()),0);this.handleScrollChange()}};ScrollGeomCache.prototype.getClientWidth=function(){return this.clientWidth};ScrollGeomCache.prototype.getClientHeight=function(){return this.clientHeight};ScrollGeomCache.prototype.getScrollWidth=function(){return this.scrollWidth};ScrollGeomCache.prototype.getScrollHeight=function(){return this.scrollHeight};ScrollGeomCache.prototype.handleScrollChange=function(){};return ScrollGeomCache}(ScrollController));var ElementScrollGeomCache=(function(_super){__extends(ElementScrollGeomCache,_super);function ElementScrollGeomCache(el,doesListening){return _super.call(this,new ElementScrollController(el),doesListening)||this}
ElementScrollGeomCache.prototype.getEventTarget=function(){return this.scrollController.el};ElementScrollGeomCache.prototype.computeClientRect=function(){return computeInnerRect(this.scrollController.el)};return ElementScrollGeomCache}(ScrollGeomCache));var WindowScrollGeomCache=(function(_super){__extends(WindowScrollGeomCache,_super);function WindowScrollGeomCache(doesListening){return _super.call(this,new WindowScrollController(),doesListening)||this}
WindowScrollGeomCache.prototype.getEventTarget=function(){return window};WindowScrollGeomCache.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}};WindowScrollGeomCache.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()};return WindowScrollGeomCache}(ScrollGeomCache));var getTime=typeof performance==='function'?performance.now:Date.now;var AutoScroller=(function(){function AutoScroller(){var _this=this;this.isEnabled=!0;this.scrollQuery=[window,'.fc-scroller'];this.edgeThreshold=50;this.maxVelocity=300;this.pointerScreenX=null;this.pointerScreenY=null;this.isAnimating=!1;this.scrollCaches=null;this.everMovedUp=!1;this.everMovedDown=!1;this.everMovedLeft=!1;this.everMovedRight=!1;this.animate=function(){if(_this.isAnimating){var edge=_this.computeBestEdge(_this.pointerScreenX+window.pageXOffset,_this.pointerScreenY+window.pageYOffset);if(edge){var now=getTime();_this.handleSide(edge,(now-_this.msSinceRequest)/1000);_this.requestAnimation(now)}else{_this.isAnimating=!1}}}}
AutoScroller.prototype.start=function(pageX,pageY){if(this.isEnabled){this.scrollCaches=this.buildCaches();this.pointerScreenX=null;this.pointerScreenY=null;this.everMovedUp=!1;this.everMovedDown=!1;this.everMovedLeft=!1;this.everMovedRight=!1;this.handleMove(pageX,pageY)}};AutoScroller.prototype.handleMove=function(pageX,pageY){if(this.isEnabled){var pointerScreenX=pageX-window.pageXOffset;var pointerScreenY=pageY-window.pageYOffset;var yDelta=this.pointerScreenY===null?0:pointerScreenY-this.pointerScreenY;var xDelta=this.pointerScreenX===null?0:pointerScreenX-this.pointerScreenX;if(yDelta<0){this.everMovedUp=!0}else if(yDelta>0){this.everMovedDown=!0}
if(xDelta<0){this.everMovedLeft=!0}else if(xDelta>0){this.everMovedRight=!0}
this.pointerScreenX=pointerScreenX;this.pointerScreenY=pointerScreenY;if(!this.isAnimating){this.isAnimating=!0;this.requestAnimation(getTime())}}};AutoScroller.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var _i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache=_a[_i];scrollCache.destroy()}
this.scrollCaches=null}};AutoScroller.prototype.requestAnimation=function(now){this.msSinceRequest=now;requestAnimationFrame(this.animate)};AutoScroller.prototype.handleSide=function(edge,seconds){var scrollCache=edge.scrollCache;var edgeThreshold=this.edgeThreshold;var invDistance=edgeThreshold-edge.distance;var velocity=(invDistance*invDistance)/(edgeThreshold*edgeThreshold)*this.maxVelocity*seconds;var sign=1;switch(edge.name){case 'left':sign=-1;case 'right':scrollCache.setScrollLeft(scrollCache.getScrollLeft()+velocity*sign);break;case 'top':sign=-1;case 'bottom':scrollCache.setScrollTop(scrollCache.getScrollTop()+velocity*sign);break}};AutoScroller.prototype.computeBestEdge=function(left,top){var edgeThreshold=this.edgeThreshold;var bestSide=null;for(var _i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache=_a[_i];var rect=scrollCache.clientRect;var leftDist=left-rect.left;var rightDist=rect.right-left;var topDist=top-rect.top;var bottomDist=rect.bottom-top;if(leftDist>=0&&rightDist>=0&&topDist>=0&&bottomDist>=0){if(topDist<=edgeThreshold&&this.everMovedUp&&scrollCache.canScrollUp()&&(!bestSide||bestSide.distance>topDist)){bestSide={scrollCache:scrollCache,name:'top',distance:topDist}}
if(bottomDist<=edgeThreshold&&this.everMovedDown&&scrollCache.canScrollDown()&&(!bestSide||bestSide.distance>bottomDist)){bestSide={scrollCache:scrollCache,name:'bottom',distance:bottomDist}}
if(leftDist<=edgeThreshold&&this.everMovedLeft&&scrollCache.canScrollLeft()&&(!bestSide||bestSide.distance>leftDist)){bestSide={scrollCache:scrollCache,name:'left',distance:leftDist}}
if(rightDist<=edgeThreshold&&this.everMovedRight&&scrollCache.canScrollRight()&&(!bestSide||bestSide.distance>rightDist)){bestSide={scrollCache:scrollCache,name:'right',distance:rightDist}}}}
return bestSide};AutoScroller.prototype.buildCaches=function(){return this.queryScrollEls().map(function(el){if(el===window){return new WindowScrollGeomCache(!1)}else{return new ElementScrollGeomCache(el,!1)}})};AutoScroller.prototype.queryScrollEls=function(){var els=[];for(var _i=0,_a=this.scrollQuery;_i<_a.length;_i++){var query=_a[_i];if(typeof query==='object'){els.push(query)}else{els.push.apply(els,Array.prototype.slice.call(document.querySelectorAll(query)))}}
return els};return AutoScroller}());var FeaturefulElementDragging=(function(_super){__extends(FeaturefulElementDragging,_super);function FeaturefulElementDragging(containerEl,selector){var _this=_super.call(this,containerEl)||this;_this.delay=null;_this.minDistance=0;_this.touchScrollAllowed=!0;_this.mirrorNeedsRevert=!1;_this.isInteracting=!1;_this.isDragging=!1;_this.isDelayEnded=!1;_this.isDistanceSurpassed=!1;_this.delayTimeoutId=null;_this.onPointerDown=function(ev){if(!_this.isDragging){_this.isInteracting=!0;_this.isDelayEnded=!1;_this.isDistanceSurpassed=!1;preventSelection(document.body);preventContextMenu(document.body);if(!ev.isTouch){ev.origEvent.preventDefault()}
_this.emitter.trigger('pointerdown',ev);if(_this.isInteracting&&!_this.pointer.shouldIgnoreMove){_this.mirror.setIsVisible(!1);_this.mirror.start(ev.subjectEl,ev.pageX,ev.pageY);_this.startDelay(ev);if(!_this.minDistance){_this.handleDistanceSurpassed(ev)}}}};_this.onPointerMove=function(ev){if(_this.isInteracting){_this.emitter.trigger('pointermove',ev);if(!_this.isDistanceSurpassed){var minDistance=_this.minDistance;var distanceSq=void 0;var deltaX=ev.deltaX,deltaY=ev.deltaY;distanceSq=deltaX*deltaX+deltaY*deltaY;if(distanceSq>=minDistance*minDistance){_this.handleDistanceSurpassed(ev)}}
if(_this.isDragging){if(ev.origEvent.type!=='scroll'){_this.mirror.handleMove(ev.pageX,ev.pageY);_this.autoScroller.handleMove(ev.pageX,ev.pageY)}
_this.emitter.trigger('dragmove',ev)}}};_this.onPointerUp=function(ev){if(_this.isInteracting){_this.isInteracting=!1;allowSelection(document.body);allowContextMenu(document.body);_this.emitter.trigger('pointerup',ev);if(_this.isDragging){_this.autoScroller.stop();_this.tryStopDrag(ev)}
if(_this.delayTimeoutId){clearTimeout(_this.delayTimeoutId);_this.delayTimeoutId=null}}};var pointer=_this.pointer=new PointerDragging(containerEl);pointer.emitter.on('pointerdown',_this.onPointerDown);pointer.emitter.on('pointermove',_this.onPointerMove);pointer.emitter.on('pointerup',_this.onPointerUp);if(selector){pointer.selector=selector}
_this.mirror=new ElementMirror();_this.autoScroller=new AutoScroller();return _this}
FeaturefulElementDragging.prototype.destroy=function(){this.pointer.destroy();this.onPointerUp({})};FeaturefulElementDragging.prototype.startDelay=function(ev){var _this=this;if(typeof this.delay==='number'){this.delayTimeoutId=setTimeout(function(){_this.delayTimeoutId=null;_this.handleDelayEnd(ev)},this.delay)}else{this.handleDelayEnd(ev)}};FeaturefulElementDragging.prototype.handleDelayEnd=function(ev){this.isDelayEnded=!0;this.tryStartDrag(ev)};FeaturefulElementDragging.prototype.handleDistanceSurpassed=function(ev){this.isDistanceSurpassed=!0;this.tryStartDrag(ev)};FeaturefulElementDragging.prototype.tryStartDrag=function(ev){if(this.isDelayEnded&&this.isDistanceSurpassed){if(!this.pointer.wasTouchScroll||this.touchScrollAllowed){this.isDragging=!0;this.mirrorNeedsRevert=!1;this.autoScroller.start(ev.pageX,ev.pageY);this.emitter.trigger('dragstart',ev);if(this.touchScrollAllowed===!1){this.pointer.cancelTouchScroll()}}}};FeaturefulElementDragging.prototype.tryStopDrag=function(ev){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,ev))};FeaturefulElementDragging.prototype.stopDrag=function(ev){this.isDragging=!1;this.emitter.trigger('dragend',ev)};FeaturefulElementDragging.prototype.setIgnoreMove=function(bool){this.pointer.shouldIgnoreMove=bool};FeaturefulElementDragging.prototype.setMirrorIsVisible=function(bool){this.mirror.setIsVisible(bool)};FeaturefulElementDragging.prototype.setMirrorNeedsRevert=function(bool){this.mirrorNeedsRevert=bool};FeaturefulElementDragging.prototype.setAutoScrollEnabled=function(bool){this.autoScroller.isEnabled=bool};return FeaturefulElementDragging}(ElementDragging));var OffsetTracker=(function(){function OffsetTracker(el){this.origRect=computeRect(el);this.scrollCaches=getClippingParents(el).map(function(el){return new ElementScrollGeomCache(el,!0)})}
OffsetTracker.prototype.destroy=function(){for(var _i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache=_a[_i];scrollCache.destroy()}};OffsetTracker.prototype.computeLeft=function(){var left=this.origRect.left;for(var _i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache=_a[_i];left+=scrollCache.origScrollLeft-scrollCache.getScrollLeft()}
return left};OffsetTracker.prototype.computeTop=function(){var top=this.origRect.top;for(var _i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache=_a[_i];top+=scrollCache.origScrollTop-scrollCache.getScrollTop()}
return top};OffsetTracker.prototype.isWithinClipping=function(pageX,pageY){var point={left:pageX,top:pageY};for(var _i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache=_a[_i];if(!isIgnoredClipping(scrollCache.getEventTarget())&&!pointInsideRect(point,scrollCache.clientRect)){return!1}}
return!0};return OffsetTracker}());function isIgnoredClipping(node){var tagName=node.tagName;return tagName==='HTML'||tagName==='BODY'}
var HitDragging=(function(){function HitDragging(dragging,droppableStore){var _this=this;this.useSubjectCenter=!1;this.requireInitial=!0;this.initialHit=null;this.movingHit=null;this.finalHit=null;this.handlePointerDown=function(ev){var dragging=_this.dragging;_this.initialHit=null;_this.movingHit=null;_this.finalHit=null;_this.prepareHits();_this.processFirstCoord(ev);if(_this.initialHit||!_this.requireInitial){dragging.setIgnoreMove(!1);_this.emitter.trigger('pointerdown',ev)}else{dragging.setIgnoreMove(!0)}};this.handleDragStart=function(ev){_this.emitter.trigger('dragstart',ev);_this.handleMove(ev,!0)};this.handleDragMove=function(ev){_this.emitter.trigger('dragmove',ev);_this.handleMove(ev)};this.handlePointerUp=function(ev){_this.releaseHits();_this.emitter.trigger('pointerup',ev)};this.handleDragEnd=function(ev){if(_this.movingHit){_this.emitter.trigger('hitupdate',null,!0,ev)}
_this.finalHit=_this.movingHit;_this.movingHit=null;_this.emitter.trigger('dragend',ev)};this.droppableStore=droppableStore;dragging.emitter.on('pointerdown',this.handlePointerDown);dragging.emitter.on('dragstart',this.handleDragStart);dragging.emitter.on('dragmove',this.handleDragMove);dragging.emitter.on('pointerup',this.handlePointerUp);dragging.emitter.on('dragend',this.handleDragEnd);this.dragging=dragging;this.emitter=new Emitter()}
HitDragging.prototype.processFirstCoord=function(ev){var origPoint={left:ev.pageX,top:ev.pageY};var adjustedPoint=origPoint;var subjectEl=ev.subjectEl;var subjectRect;if(subjectEl!==document){subjectRect=computeRect(subjectEl);adjustedPoint=constrainPoint(adjustedPoint,subjectRect)}
var initialHit=this.initialHit=this.queryHitForOffset(adjustedPoint.left,adjustedPoint.top);if(initialHit){if(this.useSubjectCenter&&subjectRect){var slicedSubjectRect=intersectRects(subjectRect,initialHit.rect);if(slicedSubjectRect){adjustedPoint=getRectCenter(slicedSubjectRect)}}
this.coordAdjust=diffPoints(adjustedPoint,origPoint)}else{this.coordAdjust={left:0,top:0}}};HitDragging.prototype.handleMove=function(ev,forceHandle){var hit=this.queryHitForOffset(ev.pageX+this.coordAdjust.left,ev.pageY+this.coordAdjust.top);if(forceHandle||!isHitsEqual(this.movingHit,hit)){this.movingHit=hit;this.emitter.trigger('hitupdate',hit,!1,ev)}};HitDragging.prototype.prepareHits=function(){this.offsetTrackers=mapHash(this.droppableStore,function(interactionSettings){interactionSettings.component.prepareHits();return new OffsetTracker(interactionSettings.el)})};HitDragging.prototype.releaseHits=function(){var offsetTrackers=this.offsetTrackers;for(var id in offsetTrackers){offsetTrackers[id].destroy()}
this.offsetTrackers={}};HitDragging.prototype.queryHitForOffset=function(offsetLeft,offsetTop){var _a=this,droppableStore=_a.droppableStore,offsetTrackers=_a.offsetTrackers;var bestHit=null;for(var id in droppableStore){var component=droppableStore[id].component;var offsetTracker=offsetTrackers[id];if(offsetTracker&&offsetTracker.isWithinClipping(offsetLeft,offsetTop)){var originLeft=offsetTracker.computeLeft();var originTop=offsetTracker.computeTop();var positionLeft=offsetLeft-originLeft;var positionTop=offsetTop-originTop;var origRect=offsetTracker.origRect;var width=origRect.right-origRect.left;var height=origRect.bottom-origRect.top;if(positionLeft>=0&&positionLeft<width&&positionTop>=0&&positionTop<height){var hit=component.queryHit(positionLeft,positionTop,width,height);var dateProfile=component.context.getCurrentData().dateProfile;if(hit&&(rangeContainsRange(dateProfile.activeRange,hit.dateSpan.range))&&(!bestHit||hit.layer>bestHit.layer)){hit.rect.left+=originLeft;hit.rect.right+=originLeft;hit.rect.top+=originTop;hit.rect.bottom+=originTop;bestHit=hit}}}}
return bestHit};return HitDragging}());function isHitsEqual(hit0,hit1){if(!hit0&&!hit1){return!0}
if(Boolean(hit0)!==Boolean(hit1)){return!1}
return isDateSpansEqual(hit0.dateSpan,hit1.dateSpan)}
function buildDatePointApiWithContext(dateSpan,context){var props={};for(var _i=0,_a=context.pluginHooks.datePointTransforms;_i<_a.length;_i++){var transform=_a[_i];__assign(props,transform(dateSpan,context))}
__assign(props,buildDatePointApi(dateSpan,context.dateEnv));return props}
function buildDatePointApi(span,dateEnv){return{date:dateEnv.toDate(span.range.start),dateStr:dateEnv.formatIso(span.range.start,{omitTime:span.allDay}),allDay:span.allDay}}
var DateClicking=(function(_super){__extends(DateClicking,_super);function DateClicking(settings){var _this=_super.call(this,settings)||this;_this.handlePointerDown=function(ev){var dragging=_this.dragging;dragging.setIgnoreMove(!_this.component.isValidDateDownEl(dragging.pointer.downEl))};_this.handleDragEnd=function(ev){var component=_this.component;var pointer=_this.dragging.pointer;if(!pointer.wasTouchScroll){var _a=_this.hitDragging,initialHit=_a.initialHit,finalHit=_a.finalHit;if(initialHit&&finalHit&&isHitsEqual(initialHit,finalHit)){var context=component.context;var arg=__assign(__assign({},buildDatePointApiWithContext(initialHit.dateSpan,context)),{dayEl:initialHit.dayEl,jsEvent:ev.origEvent,view:context.viewApi||context.calendarApi.view});context.emitter.trigger('dateClick',arg)}}};_this.dragging=new FeaturefulElementDragging(settings.el);_this.dragging.autoScroller.isEnabled=!1;var hitDragging=_this.hitDragging=new HitDragging(_this.dragging,interactionSettingsToStore(settings));hitDragging.emitter.on('pointerdown',_this.handlePointerDown);hitDragging.emitter.on('dragend',_this.handleDragEnd);return _this}
DateClicking.prototype.destroy=function(){this.dragging.destroy()};return DateClicking}(Interaction));var DateSelecting=(function(_super){__extends(DateSelecting,_super);function DateSelecting(settings){var _this=_super.call(this,settings)||this;_this.dragSelection=null;_this.handlePointerDown=function(ev){var _a=_this,component=_a.component,dragging=_a.dragging;var options=component.context.options;var canSelect=options.selectable&&component.isValidDateDownEl(ev.origEvent.target);dragging.setIgnoreMove(!canSelect);dragging.delay=ev.isTouch?getComponentTouchDelay(component):null};_this.handleDragStart=function(ev){_this.component.context.calendarApi.unselect(ev)};_this.handleHitUpdate=function(hit,isFinal){var context=_this.component.context;var dragSelection=null;var isInvalid=!1;if(hit){dragSelection=joinHitsIntoSelection(_this.hitDragging.initialHit,hit,context.pluginHooks.dateSelectionTransformers);if(!dragSelection||!_this.component.isDateSelectionValid(dragSelection)){isInvalid=!0;dragSelection=null}}
if(dragSelection){context.dispatch({type:'SELECT_DATES',selection:dragSelection})}else if(!isFinal){context.dispatch({type:'UNSELECT_DATES'})}
if(!isInvalid){enableCursor()}else{disableCursor()}
if(!isFinal){_this.dragSelection=dragSelection}};_this.handlePointerUp=function(pev){if(_this.dragSelection){triggerDateSelect(_this.dragSelection,pev,_this.component.context);_this.dragSelection=null}};var component=settings.component;var options=component.context.options;var dragging=_this.dragging=new FeaturefulElementDragging(settings.el);dragging.touchScrollAllowed=!1;dragging.minDistance=options.selectMinDistance||0;dragging.autoScroller.isEnabled=options.dragScroll;var hitDragging=_this.hitDragging=new HitDragging(_this.dragging,interactionSettingsToStore(settings));hitDragging.emitter.on('pointerdown',_this.handlePointerDown);hitDragging.emitter.on('dragstart',_this.handleDragStart);hitDragging.emitter.on('hitupdate',_this.handleHitUpdate);hitDragging.emitter.on('pointerup',_this.handlePointerUp);return _this}
DateSelecting.prototype.destroy=function(){this.dragging.destroy()};return DateSelecting}(Interaction));function getComponentTouchDelay(component){var options=component.context.options;var delay=options.selectLongPressDelay;if(delay==null){delay=options.longPressDelay}
return delay}
function joinHitsIntoSelection(hit0,hit1,dateSelectionTransformers){var dateSpan0=hit0.dateSpan;var dateSpan1=hit1.dateSpan;var ms=[dateSpan0.range.start,dateSpan0.range.end,dateSpan1.range.start,dateSpan1.range.end];ms.sort(compareNumbers);var props={};for(var _i=0,dateSelectionTransformers_1=dateSelectionTransformers;_i<dateSelectionTransformers_1.length;_i++){var transformer=dateSelectionTransformers_1[_i];var res=transformer(hit0,hit1);if(res===!1){return null}else if(res){__assign(props,res)}}
props.range={start:ms[0],end:ms[3]};props.allDay=dateSpan0.allDay;return props}
var EventDragging=(function(_super){__extends(EventDragging,_super);function EventDragging(settings){var _this=_super.call(this,settings)||this;_this.subjectEl=null;_this.subjectSeg=null;_this.isDragging=!1;_this.eventRange=null;_this.relevantEvents=null;_this.receivingContext=null;_this.validMutation=null;_this.mutatedRelevantEvents=null;_this.handlePointerDown=function(ev){var origTarget=ev.origEvent.target;var _a=_this,component=_a.component,dragging=_a.dragging;var mirror=dragging.mirror;var options=component.context.options;var initialContext=component.context;_this.subjectEl=ev.subjectEl;var subjectSeg=_this.subjectSeg=getElSeg(ev.subjectEl);var eventRange=_this.eventRange=subjectSeg.eventRange;var eventInstanceId=eventRange.instance.instanceId;_this.relevantEvents=getRelevantEvents(initialContext.getCurrentData().eventStore,eventInstanceId);dragging.minDistance=ev.isTouch?0:options.eventDragMinDistance;dragging.delay=(ev.isTouch&&eventInstanceId!==component.props.eventSelection)?getComponentTouchDelay$1(component):null;mirror.parentNode=elementClosest(origTarget,'.fc');mirror.revertDuration=options.dragRevertDuration;var isValid=component.isValidSegDownEl(origTarget)&&!elementClosest(origTarget,'.fc-event-resizer');dragging.setIgnoreMove(!isValid);_this.isDragging=isValid&&ev.subjectEl.classList.contains('fc-event-draggable')};_this.handleDragStart=function(ev){var initialContext=_this.component.context;var eventRange=_this.eventRange;var eventInstanceId=eventRange.instance.instanceId;if(ev.isTouch){if(eventInstanceId!==_this.component.props.eventSelection){initialContext.dispatch({type:'SELECT_EVENT',eventInstanceId:eventInstanceId})}}else{initialContext.dispatch({type:'UNSELECT_EVENT'})}
if(_this.isDragging){initialContext.calendarApi.unselect(ev);initialContext.emitter.trigger('eventDragStart',{el:_this.subjectEl,event:new EventApi(initialContext,eventRange.def,eventRange.instance),jsEvent:ev.origEvent,view:initialContext.viewApi})}};_this.handleHitUpdate=function(hit,isFinal){if(!_this.isDragging){return}
var relevantEvents=_this.relevantEvents;var initialHit=_this.hitDragging.initialHit;var initialContext=_this.component.context;var receivingContext=null;var mutation=null;var mutatedRelevantEvents=null;var isInvalid=!1;var interaction={affectedEvents:relevantEvents,mutatedEvents:createEmptyEventStore(),isEvent:!0};if(hit){var receivingComponent=hit.component;receivingContext=receivingComponent.context;var receivingOptions=receivingContext.options;if(initialContext===receivingContext||receivingOptions.editable&&receivingOptions.droppable){mutation=computeEventMutation(initialHit,hit,receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);if(mutation){mutatedRelevantEvents=applyMutationToEventStore(relevantEvents,receivingContext.getCurrentData().eventUiBases,mutation,receivingContext);interaction.mutatedEvents=mutatedRelevantEvents;if(!receivingComponent.isInteractionValid(interaction)){isInvalid=!0;mutation=null;mutatedRelevantEvents=null;interaction.mutatedEvents=createEmptyEventStore()}}}else{receivingContext=null}}
_this.displayDrag(receivingContext,interaction);if(!isInvalid){enableCursor()}else{disableCursor()}
if(!isFinal){if(initialContext===receivingContext&&isHitsEqual(initialHit,hit)){mutation=null}
_this.dragging.setMirrorNeedsRevert(!mutation);_this.dragging.setMirrorIsVisible(!hit||!document.querySelector('.fc-event-mirror'));_this.receivingContext=receivingContext;_this.validMutation=mutation;_this.mutatedRelevantEvents=mutatedRelevantEvents}};_this.handlePointerUp=function(){if(!_this.isDragging){_this.cleanup()}};_this.handleDragEnd=function(ev){if(_this.isDragging){var initialContext_1=_this.component.context;var initialView=initialContext_1.viewApi;var _a=_this,receivingContext_1=_a.receivingContext,validMutation=_a.validMutation;var eventDef=_this.eventRange.def;var eventInstance=_this.eventRange.instance;var eventApi=new EventApi(initialContext_1,eventDef,eventInstance);var relevantEvents_1=_this.relevantEvents;var mutatedRelevantEvents_1=_this.mutatedRelevantEvents;var finalHit=_this.hitDragging.finalHit;_this.clearDrag();initialContext_1.emitter.trigger('eventDragStop',{el:_this.subjectEl,event:eventApi,jsEvent:ev.origEvent,view:initialView});if(validMutation){if(receivingContext_1===initialContext_1){var updatedEventApi=new EventApi(initialContext_1,mutatedRelevantEvents_1.defs[eventDef.defId],eventInstance?mutatedRelevantEvents_1.instances[eventInstance.instanceId]:null);initialContext_1.dispatch({type:'MERGE_EVENTS',eventStore:mutatedRelevantEvents_1});var eventChangeArg={oldEvent:eventApi,event:updatedEventApi,relatedEvents:buildEventApis(mutatedRelevantEvents_1,initialContext_1,eventInstance),revert:function(){initialContext_1.dispatch({type:'MERGE_EVENTS',eventStore:relevantEvents_1})}};var transformed={};for(var _i=0,_b=initialContext_1.getCurrentData().pluginHooks.eventDropTransformers;_i<_b.length;_i++){var transformer=_b[_i];__assign(transformed,transformer(validMutation,initialContext_1))}
initialContext_1.emitter.trigger('eventDrop',__assign(__assign(__assign({},eventChangeArg),transformed),{el:ev.subjectEl,delta:validMutation.datesDelta,jsEvent:ev.origEvent,view:initialView}));initialContext_1.emitter.trigger('eventChange',eventChangeArg)}else if(receivingContext_1){initialContext_1.emitter.trigger('eventLeave',{draggedEl:ev.subjectEl,event:eventApi,view:initialView});initialContext_1.dispatch({type:'REMOVE_EVENTS',eventStore:relevantEvents_1});initialContext_1.emitter.trigger('eventRemove',{event:eventApi,relatedEvents:buildEventApis(relevantEvents_1,initialContext_1,eventInstance),revert:function(){initialContext_1.dispatch({type:'MERGE_EVENTS',eventStore:relevantEvents_1})}});var addedEventDef=mutatedRelevantEvents_1.defs[eventDef.defId];var addedEventInstance=mutatedRelevantEvents_1.instances[eventInstance.instanceId];var addedEventApi=new EventApi(receivingContext_1,addedEventDef,addedEventInstance);receivingContext_1.dispatch({type:'MERGE_EVENTS',eventStore:mutatedRelevantEvents_1});receivingContext_1.emitter.trigger('eventAdd',{event:addedEventApi,relatedEvents:buildEventApis(mutatedRelevantEvents_1,receivingContext_1,addedEventInstance),revert:function(){receivingContext_1.dispatch({type:'REMOVE_EVENTS',eventStore:mutatedRelevantEvents_1})}});if(ev.isTouch){receivingContext_1.dispatch({type:'SELECT_EVENT',eventInstanceId:eventInstance.instanceId})}
receivingContext_1.emitter.trigger('drop',__assign(__assign({},buildDatePointApiWithContext(finalHit.dateSpan,receivingContext_1)),{draggedEl:ev.subjectEl,jsEvent:ev.origEvent,view:finalHit.component.context.viewApi}));receivingContext_1.emitter.trigger('eventReceive',{draggedEl:ev.subjectEl,event:addedEventApi,view:finalHit.component.context.viewApi})}}else{initialContext_1.emitter.trigger('_noEventDrop')}}
_this.cleanup()};var component=_this.component;var options=component.context.options;var dragging=_this.dragging=new FeaturefulElementDragging(settings.el);dragging.pointer.selector=EventDragging.SELECTOR;dragging.touchScrollAllowed=!1;dragging.autoScroller.isEnabled=options.dragScroll;var hitDragging=_this.hitDragging=new HitDragging(_this.dragging,interactionSettingsStore);hitDragging.useSubjectCenter=settings.useEventCenter;hitDragging.emitter.on('pointerdown',_this.handlePointerDown);hitDragging.emitter.on('dragstart',_this.handleDragStart);hitDragging.emitter.on('hitupdate',_this.handleHitUpdate);hitDragging.emitter.on('pointerup',_this.handlePointerUp);hitDragging.emitter.on('dragend',_this.handleDragEnd);return _this}
EventDragging.prototype.destroy=function(){this.dragging.destroy()};EventDragging.prototype.displayDrag=function(nextContext,state){var initialContext=this.component.context;var prevContext=this.receivingContext;if(prevContext&&prevContext!==nextContext){if(prevContext===initialContext){prevContext.dispatch({type:'SET_EVENT_DRAG',state:{affectedEvents:state.affectedEvents,mutatedEvents:createEmptyEventStore(),isEvent:!0}})}else{prevContext.dispatch({type:'UNSET_EVENT_DRAG'})}}
if(nextContext){nextContext.dispatch({type:'SET_EVENT_DRAG',state:state})}};EventDragging.prototype.clearDrag=function(){var initialCalendar=this.component.context;var receivingContext=this.receivingContext;if(receivingContext){receivingContext.dispatch({type:'UNSET_EVENT_DRAG'})}
if(initialCalendar!==receivingContext){initialCalendar.dispatch({type:'UNSET_EVENT_DRAG'})}};EventDragging.prototype.cleanup=function(){this.subjectSeg=null;this.isDragging=!1;this.eventRange=null;this.relevantEvents=null;this.receivingContext=null;this.validMutation=null;this.mutatedRelevantEvents=null};EventDragging.SELECTOR='.fc-event-draggable, .fc-event-resizable';return EventDragging}(Interaction));function computeEventMutation(hit0,hit1,massagers){var dateSpan0=hit0.dateSpan;var dateSpan1=hit1.dateSpan;var date0=dateSpan0.range.start;var date1=dateSpan1.range.start;var standardProps={};if(dateSpan0.allDay!==dateSpan1.allDay){standardProps.allDay=dateSpan1.allDay;standardProps.hasEnd=hit1.component.context.options.allDayMaintainDuration;if(dateSpan1.allDay){date0=startOfDay(date0)}}
var delta=diffDates(date0,date1,hit0.component.context.dateEnv,hit0.component===hit1.component?hit0.component.largeUnit:null);if(delta.milliseconds){standardProps.allDay=!1}
var mutation={datesDelta:delta,standardProps:standardProps};for(var _i=0,massagers_1=massagers;_i<massagers_1.length;_i++){var massager=massagers_1[_i];massager(mutation,hit0,hit1)}
return mutation}
function getComponentTouchDelay$1(component){var options=component.context.options;var delay=options.eventLongPressDelay;if(delay==null){delay=options.longPressDelay}
return delay}
var EventResizing=(function(_super){__extends(EventResizing,_super);function EventResizing(settings){var _this=_super.call(this,settings)||this;_this.draggingSegEl=null;_this.draggingSeg=null;_this.eventRange=null;_this.relevantEvents=null;_this.validMutation=null;_this.mutatedRelevantEvents=null;_this.handlePointerDown=function(ev){var component=_this.component;var segEl=_this.querySegEl(ev);var seg=getElSeg(segEl);var eventRange=_this.eventRange=seg.eventRange;_this.dragging.minDistance=component.context.options.eventDragMinDistance;_this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target)||(ev.isTouch&&_this.component.props.eventSelection!==eventRange.instance.instanceId))};_this.handleDragStart=function(ev){var context=_this.component.context;var eventRange=_this.eventRange;_this.relevantEvents=getRelevantEvents(context.getCurrentData().eventStore,_this.eventRange.instance.instanceId);var segEl=_this.querySegEl(ev);_this.draggingSegEl=segEl;_this.draggingSeg=getElSeg(segEl);context.calendarApi.unselect();context.emitter.trigger('eventResizeStart',{el:segEl,event:new EventApi(context,eventRange.def,eventRange.instance),jsEvent:ev.origEvent,view:context.viewApi})};_this.handleHitUpdate=function(hit,isFinal,ev){var context=_this.component.context;var relevantEvents=_this.relevantEvents;var initialHit=_this.hitDragging.initialHit;var eventInstance=_this.eventRange.instance;var mutation=null;var mutatedRelevantEvents=null;var isInvalid=!1;var interaction={affectedEvents:relevantEvents,mutatedEvents:createEmptyEventStore(),isEvent:!0};if(hit){mutation=computeMutation(initialHit,hit,ev.subjectEl.classList.contains('fc-event-resizer-start'),eventInstance.range,context.pluginHooks.eventResizeJoinTransforms)}
if(mutation){mutatedRelevantEvents=applyMutationToEventStore(relevantEvents,context.getCurrentData().eventUiBases,mutation,context);interaction.mutatedEvents=mutatedRelevantEvents;if(!_this.component.isInteractionValid(interaction)){isInvalid=!0;mutation=null;mutatedRelevantEvents=null;interaction.mutatedEvents=null}}
if(mutatedRelevantEvents){context.dispatch({type:'SET_EVENT_RESIZE',state:interaction})}else{context.dispatch({type:'UNSET_EVENT_RESIZE'})}
if(!isInvalid){enableCursor()}else{disableCursor()}
if(!isFinal){if(mutation&&isHitsEqual(initialHit,hit)){mutation=null}
_this.validMutation=mutation;_this.mutatedRelevantEvents=mutatedRelevantEvents}};_this.handleDragEnd=function(ev){var context=_this.component.context;var eventDef=_this.eventRange.def;var eventInstance=_this.eventRange.instance;var eventApi=new EventApi(context,eventDef,eventInstance);var relevantEvents=_this.relevantEvents;var mutatedRelevantEvents=_this.mutatedRelevantEvents;context.emitter.trigger('eventResizeStop',{el:_this.draggingSegEl,event:eventApi,jsEvent:ev.origEvent,view:context.viewApi});if(_this.validMutation){var updatedEventApi=new EventApi(context,mutatedRelevantEvents.defs[eventDef.defId],eventInstance?mutatedRelevantEvents.instances[eventInstance.instanceId]:null);context.dispatch({type:'MERGE_EVENTS',eventStore:mutatedRelevantEvents});var eventChangeArg={oldEvent:eventApi,event:updatedEventApi,relatedEvents:buildEventApis(mutatedRelevantEvents,context,eventInstance),revert:function(){context.dispatch({type:'MERGE_EVENTS',eventStore:relevantEvents})}};context.emitter.trigger('eventResize',__assign(__assign({},eventChangeArg),{el:_this.draggingSegEl,startDelta:_this.validMutation.startDelta||createDuration(0),endDelta:_this.validMutation.endDelta||createDuration(0),jsEvent:ev.origEvent,view:context.viewApi}));context.emitter.trigger('eventChange',eventChangeArg)}else{context.emitter.trigger('_noEventResize')}
_this.draggingSeg=null;_this.relevantEvents=null;_this.validMutation=null};var component=settings.component;var dragging=_this.dragging=new FeaturefulElementDragging(settings.el);dragging.pointer.selector='.fc-event-resizer';dragging.touchScrollAllowed=!1;dragging.autoScroller.isEnabled=component.context.options.dragScroll;var hitDragging=_this.hitDragging=new HitDragging(_this.dragging,interactionSettingsToStore(settings));hitDragging.emitter.on('pointerdown',_this.handlePointerDown);hitDragging.emitter.on('dragstart',_this.handleDragStart);hitDragging.emitter.on('hitupdate',_this.handleHitUpdate);hitDragging.emitter.on('dragend',_this.handleDragEnd);return _this}
EventResizing.prototype.destroy=function(){this.dragging.destroy()};EventResizing.prototype.querySegEl=function(ev){return elementClosest(ev.subjectEl,'.fc-event')};return EventResizing}(Interaction));function computeMutation(hit0,hit1,isFromStart,instanceRange,transforms){var dateEnv=hit0.component.context.dateEnv;var date0=hit0.dateSpan.range.start;var date1=hit1.dateSpan.range.start;var delta=diffDates(date0,date1,dateEnv,hit0.component.largeUnit);var props={};for(var _i=0,transforms_1=transforms;_i<transforms_1.length;_i++){var transform=transforms_1[_i];var res=transform(hit0,hit1);if(res===!1){return null}else if(res){__assign(props,res)}}
if(isFromStart){if(dateEnv.add(instanceRange.start,delta)<instanceRange.end){props.startDelta=delta;return props}}else{if(dateEnv.add(instanceRange.end,delta)>instanceRange.start){props.endDelta=delta;return props}}
return null}
var UnselectAuto=(function(){function UnselectAuto(context){var _this=this;this.context=context;this.isRecentPointerDateSelect=!1;this.onSelect=function(selectInfo){if(selectInfo.jsEvent){_this.isRecentPointerDateSelect=!0}};this.onDocumentPointerUp=function(pev){var context=_this.context;var documentPointer=_this.documentPointer;var calendarState=context.getCurrentData();if(!documentPointer.wasTouchScroll){if(calendarState.dateSelection&&!_this.isRecentPointerDateSelect){var unselectAuto=context.options.unselectAuto;var unselectCancel=context.options.unselectCancel;if(unselectAuto&&(!unselectAuto||!elementClosest(documentPointer.downEl,unselectCancel))){context.calendarApi.unselect(pev)}}
if(calendarState.eventSelection&&!elementClosest(documentPointer.downEl,EventDragging.SELECTOR)){context.dispatch({type:'UNSELECT_EVENT'})}}
_this.isRecentPointerDateSelect=!1};var documentPointer=this.documentPointer=new PointerDragging(document);documentPointer.shouldIgnoreMove=!0;documentPointer.shouldWatchScroll=!1;documentPointer.emitter.on('pointerup',this.onDocumentPointerUp);context.emitter.on('select',this.onSelect)}
UnselectAuto.prototype.destroy=function(){this.context.emitter.off('select',this.onSelect);this.documentPointer.destroy()};return UnselectAuto}());var LISTENER_REFINERS={dateClick:identity,eventDragStart:identity,eventDragStop:identity,eventDrop:identity,eventResizeStart:identity,eventResizeStop:identity,eventResize:identity,drop:identity,eventReceive:identity,eventLeave:identity};var ExternalElementDragging=(function(){function ExternalElementDragging(dragging,suppliedDragMeta){var _this=this;this.receivingContext=null;this.droppableEvent=null;this.suppliedDragMeta=null;this.dragMeta=null;this.handleDragStart=function(ev){_this.dragMeta=_this.buildDragMeta(ev.subjectEl)};this.handleHitUpdate=function(hit,isFinal,ev){var dragging=_this.hitDragging.dragging;var receivingContext=null;var droppableEvent=null;var isInvalid=!1;var interaction={affectedEvents:createEmptyEventStore(),mutatedEvents:createEmptyEventStore(),isEvent:_this.dragMeta.create};if(hit){receivingContext=hit.component.context;if(_this.canDropElOnCalendar(ev.subjectEl,receivingContext)){droppableEvent=computeEventForDateSpan(hit.dateSpan,_this.dragMeta,receivingContext);interaction.mutatedEvents=eventTupleToStore(droppableEvent);isInvalid=!isInteractionValid(interaction,receivingContext);if(isInvalid){interaction.mutatedEvents=createEmptyEventStore();droppableEvent=null}}}
_this.displayDrag(receivingContext,interaction);dragging.setMirrorIsVisible(isFinal||!droppableEvent||!document.querySelector('.fc-event-mirror'));if(!isInvalid){enableCursor()}else{disableCursor()}
if(!isFinal){dragging.setMirrorNeedsRevert(!droppableEvent);_this.receivingContext=receivingContext;_this.droppableEvent=droppableEvent}};this.handleDragEnd=function(pev){var _a=_this,receivingContext=_a.receivingContext,droppableEvent=_a.droppableEvent;_this.clearDrag();if(receivingContext&&droppableEvent){var finalHit=_this.hitDragging.finalHit;var finalView=finalHit.component.context.viewApi;var dragMeta=_this.dragMeta;receivingContext.emitter.trigger('drop',__assign(__assign({},buildDatePointApiWithContext(finalHit.dateSpan,receivingContext)),{draggedEl:pev.subjectEl,jsEvent:pev.origEvent,view:finalView}));if(dragMeta.create){receivingContext.dispatch({type:'MERGE_EVENTS',eventStore:eventTupleToStore(droppableEvent)});if(pev.isTouch){receivingContext.dispatch({type:'SELECT_EVENT',eventInstanceId:droppableEvent.instance.instanceId})}
receivingContext.emitter.trigger('eventReceive',{draggedEl:pev.subjectEl,event:new EventApi(receivingContext,droppableEvent.def,droppableEvent.instance),view:finalView})}}
_this.receivingContext=null;_this.droppableEvent=null};var hitDragging=this.hitDragging=new HitDragging(dragging,interactionSettingsStore);hitDragging.requireInitial=!1;hitDragging.emitter.on('dragstart',this.handleDragStart);hitDragging.emitter.on('hitupdate',this.handleHitUpdate);hitDragging.emitter.on('dragend',this.handleDragEnd);this.suppliedDragMeta=suppliedDragMeta}
ExternalElementDragging.prototype.buildDragMeta=function(subjectEl){if(typeof this.suppliedDragMeta==='object'){return parseDragMeta(this.suppliedDragMeta)}else if(typeof this.suppliedDragMeta==='function'){return parseDragMeta(this.suppliedDragMeta(subjectEl))}else{return getDragMetaFromEl(subjectEl)}};ExternalElementDragging.prototype.displayDrag=function(nextContext,state){var prevContext=this.receivingContext;if(prevContext&&prevContext!==nextContext){prevContext.dispatch({type:'UNSET_EVENT_DRAG'})}
if(nextContext){nextContext.dispatch({type:'SET_EVENT_DRAG',state:state})}};ExternalElementDragging.prototype.clearDrag=function(){if(this.receivingContext){this.receivingContext.dispatch({type:'UNSET_EVENT_DRAG'})}};ExternalElementDragging.prototype.canDropElOnCalendar=function(el,receivingContext){var dropAccept=receivingContext.options.dropAccept;if(typeof dropAccept==='function'){return dropAccept.call(receivingContext.calendarApi,el)}else if(typeof dropAccept==='string'&&dropAccept){return Boolean(elementMatches(el,dropAccept))}
return!0};return ExternalElementDragging}());function computeEventForDateSpan(dateSpan,dragMeta,context){var defProps=__assign({},dragMeta.leftoverProps);for(var _i=0,_a=context.pluginHooks.externalDefTransforms;_i<_a.length;_i++){var transform=_a[_i];__assign(defProps,transform(dateSpan,dragMeta))}
var _b=refineEventDef(defProps,context),refined=_b.refined,extra=_b.extra;var def=parseEventDef(refined,extra,dragMeta.sourceId,dateSpan.allDay,context.options.forceEventDuration||Boolean(dragMeta.duration),context);var start=dateSpan.range.start;if(dateSpan.allDay&&dragMeta.startTime){start=context.dateEnv.add(start,dragMeta.startTime)}
var end=dragMeta.duration?context.dateEnv.add(start,dragMeta.duration):getDefaultEventEnd(dateSpan.allDay,start,context);var instance=createEventInstance(def.defId,{start:start,end:end});return{def:def,instance:instance}}
function getDragMetaFromEl(el){var str=getEmbeddedElData(el,'event');var obj=str?JSON.parse(str):{create:!1};return parseDragMeta(obj)}
config.dataAttrPrefix='';function getEmbeddedElData(el,name){var prefix=config.dataAttrPrefix;var prefixedName=(prefix?prefix+'-':'')+name;return el.getAttribute('data-'+prefixedName)||''}
var ExternalDraggable=(function(){function ExternalDraggable(el,settings){var _this=this;if(settings===void 0){settings={}}
this.handlePointerDown=function(ev){var dragging=_this.dragging;var _a=_this.settings,minDistance=_a.minDistance,longPressDelay=_a.longPressDelay;dragging.minDistance=minDistance!=null?minDistance:(ev.isTouch?0:BASE_OPTION_DEFAULTS.eventDragMinDistance);dragging.delay=ev.isTouch?(longPressDelay!=null?longPressDelay:BASE_OPTION_DEFAULTS.longPressDelay):0};this.handleDragStart=function(ev){if(ev.isTouch&&_this.dragging.delay&&ev.subjectEl.classList.contains('fc-event')){_this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected')}};this.settings=settings;var dragging=this.dragging=new FeaturefulElementDragging(el);dragging.touchScrollAllowed=!1;if(settings.itemSelector!=null){dragging.pointer.selector=settings.itemSelector}
if(settings.appendTo!=null){dragging.mirror.parentNode=settings.appendTo}
dragging.emitter.on('pointerdown',this.handlePointerDown);dragging.emitter.on('dragstart',this.handleDragStart);new ExternalElementDragging(dragging,settings.eventData)}
ExternalDraggable.prototype.destroy=function(){this.dragging.destroy()};return ExternalDraggable}());var InferredElementDragging=(function(_super){__extends(InferredElementDragging,_super);function InferredElementDragging(containerEl){var _this=_super.call(this,containerEl)||this;_this.shouldIgnoreMove=!1;_this.mirrorSelector='';_this.currentMirrorEl=null;_this.handlePointerDown=function(ev){_this.emitter.trigger('pointerdown',ev);if(!_this.shouldIgnoreMove){_this.emitter.trigger('dragstart',ev)}};_this.handlePointerMove=function(ev){if(!_this.shouldIgnoreMove){_this.emitter.trigger('dragmove',ev)}};_this.handlePointerUp=function(ev){_this.emitter.trigger('pointerup',ev);if(!_this.shouldIgnoreMove){_this.emitter.trigger('dragend',ev)}};var pointer=_this.pointer=new PointerDragging(containerEl);pointer.emitter.on('pointerdown',_this.handlePointerDown);pointer.emitter.on('pointermove',_this.handlePointerMove);pointer.emitter.on('pointerup',_this.handlePointerUp);return _this}
InferredElementDragging.prototype.destroy=function(){this.pointer.destroy()};InferredElementDragging.prototype.setIgnoreMove=function(bool){this.shouldIgnoreMove=bool};InferredElementDragging.prototype.setMirrorIsVisible=function(bool){if(bool){if(this.currentMirrorEl){this.currentMirrorEl.style.visibility='';this.currentMirrorEl=null}}else{var mirrorEl=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;if(mirrorEl){this.currentMirrorEl=mirrorEl;mirrorEl.style.visibility='hidden'}}};return InferredElementDragging}(ElementDragging));var ThirdPartyDraggable=(function(){function ThirdPartyDraggable(containerOrSettings,settings){var containerEl=document;if(containerOrSettings===document||containerOrSettings instanceof Element){containerEl=containerOrSettings;settings=settings||{}}else{settings=(containerOrSettings||{})}
var dragging=this.dragging=new InferredElementDragging(containerEl);if(typeof settings.itemSelector==='string'){dragging.pointer.selector=settings.itemSelector}else if(containerEl===document){dragging.pointer.selector='[data-event]'}
if(typeof settings.mirrorSelector==='string'){dragging.mirrorSelector=settings.mirrorSelector}
new ExternalElementDragging(dragging,settings.eventData)}
ThirdPartyDraggable.prototype.destroy=function(){this.dragging.destroy()};return ThirdPartyDraggable}());var interactionPlugin=createPlugin({componentInteractions:[DateClicking,DateSelecting,EventDragging,EventResizing],calendarInteractions:[UnselectAuto],elementDraggingImpl:FeaturefulElementDragging,listenerRefiners:LISTENER_REFINERS});var TableView=(function(_super){__extends(TableView,_super);function TableView(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.headerElRef=createRef();return _this}
TableView.prototype.renderSimpleLayout=function(headerRowContent,bodyContent){var _a=this,props=_a.props,context=_a.context;var sections=[];var stickyHeaderDates=getStickyHeaderDates(context.options);if(headerRowContent){sections.push({type:'header',key:'header',isSticky:stickyHeaderDates,chunk:{elRef:this.headerElRef,tableClassName:'fc-col-header',rowContent:headerRowContent}})}
sections.push({type:'body',key:'body',liquid:!0,chunk:{content:bodyContent}});return(createElement(ViewRoot,{viewSpec:context.viewSpec},function(rootElRef,classNames){return(createElement("div",{ref:rootElRef,className:['fc-daygrid'].concat(classNames).join(' ')},createElement(SimpleScrollGrid,{liquid:!props.isHeightAuto&&!props.forPrint,cols:[],sections:sections})))}))};TableView.prototype.renderHScrollLayout=function(headerRowContent,bodyContent,colCnt,dayMinWidth){var ScrollGrid=this.context.pluginHooks.scrollGridImpl;if(!ScrollGrid){throw new Error('No ScrollGrid implementation')}
var _a=this,props=_a.props,context=_a.context;var stickyHeaderDates=!props.forPrint&&getStickyHeaderDates(context.options);var stickyFooterScrollbar=!props.forPrint&&getStickyFooterScrollbar(context.options);var sections=[];if(headerRowContent){sections.push({type:'header',key:'header',isSticky:stickyHeaderDates,chunks:[{key:'main',elRef:this.headerElRef,tableClassName:'fc-col-header',rowContent:headerRowContent}]})}
sections.push({type:'body',key:'body',liquid:!0,chunks:[{key:'main',content:bodyContent}]});if(stickyFooterScrollbar){sections.push({type:'footer',key:'footer',isSticky:!0,chunks:[{key:'main',content:renderScrollShim}]})}
return(createElement(ViewRoot,{viewSpec:context.viewSpec},function(rootElRef,classNames){return(createElement("div",{ref:rootElRef,className:['fc-daygrid'].concat(classNames).join(' ')},createElement(ScrollGrid,{liquid:!props.isHeightAuto&&!props.forPrint,colGroups:[{cols:[{span:colCnt,minWidth:dayMinWidth}]}],sections:sections})))}))};return TableView}(DateComponent));function splitSegsByRow(segs,rowCnt){var byRow=[];for(var i=0;i<rowCnt;i++){byRow[i]=[]}
for(var _i=0,segs_1=segs;_i<segs_1.length;_i++){var seg=segs_1[_i];byRow[seg.row].push(seg)}
return byRow}
function splitSegsByFirstCol(segs,colCnt){var byCol=[];for(var i=0;i<colCnt;i++){byCol[i]=[]}
for(var _i=0,segs_2=segs;_i<segs_2.length;_i++){var seg=segs_2[_i];byCol[seg.firstCol].push(seg)}
return byCol}
function splitInteractionByRow(ui,rowCnt){var byRow=[];if(!ui){for(var i=0;i<rowCnt;i++){byRow[i]=null}}else{for(var i=0;i<rowCnt;i++){byRow[i]={affectedInstances:ui.affectedInstances,isEvent:ui.isEvent,segs:[]}}
for(var _i=0,_a=ui.segs;_i<_a.length;_i++){var seg=_a[_i];byRow[seg.row].segs.push(seg)}}
return byRow}
var DEFAULT_WEEK_NUM_FORMAT=createFormatter({week:'narrow'});var TableCell=(function(_super){__extends(TableCell,_super);function TableCell(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.handleRootEl=function(el){_this.rootEl=el;setRef(_this.props.elRef,el)};_this.handleMoreLinkClick=function(ev){var props=_this.props;if(props.onMoreClick){var allSegs=props.segsByEachCol;var hiddenSegs=allSegs.filter(function(seg){return props.segIsHidden[seg.eventRange.instance.instanceId]});props.onMoreClick({date:props.date,allSegs:allSegs,hiddenSegs:hiddenSegs,moreCnt:props.moreCnt,dayEl:_this.rootEl,ev:ev})}};return _this}
TableCell.prototype.render=function(){var _this=this;var _a=this.context,options=_a.options,viewApi=_a.viewApi;var props=this.props;var date=props.date,dateProfile=props.dateProfile;var hookProps={num:props.moreCnt,text:props.buildMoreLinkText(props.moreCnt),view:viewApi};var navLinkAttrs=options.navLinks?{'data-navlink':buildNavLinkData(date,'week'),tabIndex:0}:{};return(createElement(DayCellRoot,{date:date,dateProfile:dateProfile,todayRange:props.todayRange,showDayNumber:props.showDayNumber,extraHookProps:props.extraHookProps,elRef:this.handleRootEl},function(rootElRef,classNames,rootDataAttrs,isDisabled){return(createElement("td",__assign({ref:rootElRef,className:['fc-daygrid-day'].concat(classNames,props.extraClassNames||[]).join(' ')},rootDataAttrs,props.extraDataAttrs),createElement("div",{className:'fc-daygrid-day-frame fc-scrollgrid-sync-inner',ref:props.innerElRef},props.showWeekNumber&&createElement(WeekNumberRoot,{date:date,defaultFormat:DEFAULT_WEEK_NUM_FORMAT},function(rootElRef,classNames,innerElRef,innerContent){return(createElement("a",__assign({ref:rootElRef,className:['fc-daygrid-week-number'].concat(classNames).join(' ')},navLinkAttrs),innerContent))}),!isDisabled&&createElement(TableCellTop,{date:date,dateProfile:dateProfile,showDayNumber:props.showDayNumber,todayRange:props.todayRange,extraHookProps:props.extraHookProps}),createElement("div",{className:'fc-daygrid-day-events',ref:props.fgContentElRef,style:{paddingBottom:props.fgPaddingBottom}},props.fgContent,Boolean(props.moreCnt)&&createElement("div",{className:'fc-daygrid-day-bottom',style:{marginTop:props.moreMarginTop}},createElement(RenderHook,{hookProps:hookProps,classNames:options.moreLinkClassNames,content:options.moreLinkContent,defaultContent:renderMoreLinkInner,didMount:options.moreLinkDidMount,willUnmount:options.moreLinkWillUnmount},function(rootElRef,classNames,innerElRef,innerContent){return(createElement("a",{onClick:_this.handleMoreLinkClick,ref:rootElRef,className:['fc-daygrid-more-link'].concat(classNames).join(' ')},innerContent))}))),createElement("div",{className:'fc-daygrid-day-bg'},props.bgContent))))}))};return TableCell}(DateComponent));function renderTopInner(props){return props.dayNumberText}
function renderMoreLinkInner(props){return props.text}
var TableCellTop=(function(_super){__extends(TableCellTop,_super);function TableCellTop(){return _super!==null&&_super.apply(this,arguments)||this}
TableCellTop.prototype.render=function(){var props=this.props;var navLinkAttrs=this.context.options.navLinks?{'data-navlink':buildNavLinkData(props.date),tabIndex:0}:{};return(createElement(DayCellContent,{date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,showDayNumber:props.showDayNumber,extraHookProps:props.extraHookProps,defaultContent:renderTopInner},function(innerElRef,innerContent){return(innerContent&&createElement("div",{className:'fc-daygrid-day-top',ref:innerElRef},createElement("a",__assign({className:'fc-daygrid-day-number'},navLinkAttrs),innerContent)))}))};return TableCellTop}(BaseComponent));var DEFAULT_TABLE_EVENT_TIME_FORMAT=createFormatter({hour:'numeric',minute:'2-digit',omitZeroMinute:0,meridiem:'narrow'});function hasListItemDisplay(seg){var display=seg.eventRange.ui.display;return display==='list-item'||(display==='auto'&&!seg.eventRange.def.allDay&&seg.firstCol===seg.lastCol)}
var TableListItemEvent=(function(_super){__extends(TableListItemEvent,_super);function TableListItemEvent(){return _super!==null&&_super.apply(this,arguments)||this}
TableListItemEvent.prototype.render=function(){var _a=this,props=_a.props,context=_a.context;var timeFormat=context.options.eventTimeFormat||DEFAULT_TABLE_EVENT_TIME_FORMAT;var timeText=buildSegTimeText(props.seg,timeFormat,context,!0,props.defaultDisplayEventEnd);return(createElement(EventRoot,{seg:props.seg,timeText:timeText,defaultContent:renderInnerContent$2,isDragging:props.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:props.isSelected,isPast:props.isPast,isFuture:props.isFuture,isToday:props.isToday},function(rootElRef,classNames,innerElRef,innerContent){return(createElement("a",__assign({className:['fc-daygrid-event','fc-daygrid-dot-event'].concat(classNames).join(' '),ref:rootElRef},getSegAnchorAttrs$1(props.seg)),innerContent))}))};return TableListItemEvent}(BaseComponent));function renderInnerContent$2(innerProps){return(createElement(Fragment,null,createElement("div",{className:'fc-daygrid-event-dot',style:{borderColor:innerProps.borderColor||innerProps.backgroundColor}}),innerProps.timeText&&createElement("div",{className:'fc-event-time'},innerProps.timeText),createElement("div",{className:'fc-event-title'},innerProps.event.title||createElement(Fragment,null,"\u00A0"))))}
function getSegAnchorAttrs$1(seg){var url=seg.eventRange.def.url;return url?{href:url}:{}}
var TableBlockEvent=(function(_super){__extends(TableBlockEvent,_super);function TableBlockEvent(){return _super!==null&&_super.apply(this,arguments)||this}
TableBlockEvent.prototype.render=function(){var props=this.props;return(createElement(StandardEvent,__assign({},props,{extraClassNames:['fc-daygrid-event','fc-daygrid-block-event','fc-h-event'],defaultTimeFormat:DEFAULT_TABLE_EVENT_TIME_FORMAT,defaultDisplayEventEnd:props.defaultDisplayEventEnd,disableResizing:!props.seg.eventRange.def.allDay})))};return TableBlockEvent}(BaseComponent));function computeFgSegPlacement(cellModels,segs,dayMaxEvents,dayMaxEventRows,eventHeights,maxContentHeight,colCnt,eventOrderSpecs){var colPlacements=[];var moreCnts=[];var segIsHidden={};var segTops={};var segMarginTops={};var moreTops={};var paddingBottoms={};for(var i=0;i<colCnt;i++){colPlacements.push([]);moreCnts.push(0)}
segs=sortEventSegs(segs,eventOrderSpecs);for(var _i=0,segs_1=segs;_i<segs_1.length;_i++){var seg=segs_1[_i];var instanceId=seg.eventRange.instance.instanceId;var eventHeight=eventHeights[instanceId+':'+seg.firstCol];placeSeg(seg,eventHeight||0)}
if(dayMaxEvents===!0||dayMaxEventRows===!0){limitByMaxHeight(moreCnts,segIsHidden,colPlacements,maxContentHeight)}else if(typeof dayMaxEvents==='number'){limitByMaxEvents(moreCnts,segIsHidden,colPlacements,dayMaxEvents)}else if(typeof dayMaxEventRows==='number'){limitByMaxRows(moreCnts,segIsHidden,colPlacements,dayMaxEventRows)}
for(var col=0;col<colCnt;col++){var placements=colPlacements[col];var currentNonAbsBottom=0;var runningAbsHeight=0;for(var _a=0,placements_1=placements;_a<placements_1.length;_a++){var placement=placements_1[_a];var seg=placement.seg;if(!segIsHidden[seg.eventRange.instance.instanceId]){segTops[seg.eventRange.instance.instanceId]=placement.top;if(seg.firstCol===seg.lastCol&&seg.isStart&&seg.isEnd){segMarginTops[seg.eventRange.instance.instanceId]=placement.top-currentNonAbsBottom;runningAbsHeight=0;currentNonAbsBottom=placement.bottom}else{runningAbsHeight+=placement.bottom-placement.top}}}
if(runningAbsHeight){if(moreCnts[col]){moreTops[col]=runningAbsHeight}else{paddingBottoms[col]=runningAbsHeight}}}
function placeSeg(seg,segHeight){if(!tryPlaceSegAt(seg,segHeight,0)){for(var col=seg.firstCol;col<=seg.lastCol;col++){for(var _i=0,_a=colPlacements[col];_i<_a.length;_i++){var placement=_a[_i];if(tryPlaceSegAt(seg,segHeight,placement.bottom)){return}}}}}
function tryPlaceSegAt(seg,segHeight,top){if(canPlaceSegAt(seg,segHeight,top)){for(var col=seg.firstCol;col<=seg.lastCol;col++){var placements=colPlacements[col];var insertionIndex=0;while(insertionIndex<placements.length&&top>=placements[insertionIndex].top){insertionIndex++}
placements.splice(insertionIndex,0,{seg:seg,top:top,bottom:top+segHeight})}
return!0}else{return!1}}
function canPlaceSegAt(seg,segHeight,top){for(var col=seg.firstCol;col<=seg.lastCol;col++){for(var _i=0,_a=colPlacements[col];_i<_a.length;_i++){var placement=_a[_i];if(top<placement.bottom&&top+segHeight>placement.top){return!1}}}
return!0}
for(var instanceIdAndFirstCol in eventHeights){if(!eventHeights[instanceIdAndFirstCol]){segIsHidden[instanceIdAndFirstCol.split(':')[0]]=!0}}
var segsByFirstCol=colPlacements.map(extractFirstColSegs);var segsByEachCol=colPlacements.map(function(placements,col){var segs=extractAllColSegs(placements);segs=resliceDaySegs(segs,cellModels[col].date,col);return segs});return{segsByFirstCol:segsByFirstCol,segsByEachCol:segsByEachCol,segIsHidden:segIsHidden,segTops:segTops,segMarginTops:segMarginTops,moreCnts:moreCnts,moreTops:moreTops,paddingBottoms:paddingBottoms}}
function extractFirstColSegs(oneColPlacements,col){var segs=[];for(var _i=0,oneColPlacements_1=oneColPlacements;_i<oneColPlacements_1.length;_i++){var placement=oneColPlacements_1[_i];if(placement.seg.firstCol===col){segs.push(placement.seg)}}
return segs}
function extractAllColSegs(oneColPlacements){var segs=[];for(var _i=0,oneColPlacements_2=oneColPlacements;_i<oneColPlacements_2.length;_i++){var placement=oneColPlacements_2[_i];segs.push(placement.seg)}
return segs}
function limitByMaxHeight(hiddenCnts,segIsHidden,colPlacements,maxContentHeight){limitEvents(hiddenCnts,segIsHidden,colPlacements,!0,function(placement){return placement.bottom<=maxContentHeight})}
function limitByMaxEvents(hiddenCnts,segIsHidden,colPlacements,dayMaxEvents){limitEvents(hiddenCnts,segIsHidden,colPlacements,!1,function(placement,levelIndex){return levelIndex<dayMaxEvents})}
function limitByMaxRows(hiddenCnts,segIsHidden,colPlacements,dayMaxEventRows){limitEvents(hiddenCnts,segIsHidden,colPlacements,!0,function(placement,levelIndex){return levelIndex<dayMaxEventRows})}
function limitEvents(hiddenCnts,segIsHidden,colPlacements,moreLinkConsumesLevel,isPlacementInBounds){var colCnt=hiddenCnts.length;var segIsVisible={};var visibleColPlacements=[];for(var col=0;col<colCnt;col++){visibleColPlacements.push([])}
for(var col=0;col<colCnt;col++){var placements=colPlacements[col];var level=0;for(var _i=0,placements_2=placements;_i<placements_2.length;_i++){var placement=placements_2[_i];if(isPlacementInBounds(placement,level)){recordVisible(placement)}else{recordHidden(placement)}
if(placement.top!==placement.bottom){level++}}}
function recordVisible(placement){var seg=placement.seg;var instanceId=seg.eventRange.instance.instanceId;if(!segIsVisible[instanceId]){segIsVisible[instanceId]=!0;for(var col=seg.firstCol;col<=seg.lastCol;col++){visibleColPlacements[col].push(placement)}}}
function recordHidden(placement){var seg=placement.seg;var instanceId=seg.eventRange.instance.instanceId;if(!segIsHidden[instanceId]){segIsHidden[instanceId]=!0;for(var col=seg.firstCol;col<=seg.lastCol;col++){var hiddenCnt=++hiddenCnts[col];if(moreLinkConsumesLevel&&hiddenCnt===1){var lastVisiblePlacement=visibleColPlacements[col].pop();if(lastVisiblePlacement){recordHidden(lastVisiblePlacement)}}}}}}
function resliceDaySegs(segs,dayDate,colIndex){var dayStart=dayDate;var dayEnd=addDays(dayStart,1);var dayRange={start:dayStart,end:dayEnd};var newSegs=[];for(var _i=0,segs_2=segs;_i<segs_2.length;_i++){var seg=segs_2[_i];var eventRange=seg.eventRange;var origRange=eventRange.range;var slicedRange=intersectRanges(origRange,dayRange);if(slicedRange){newSegs.push(__assign(__assign({},seg),{firstCol:colIndex,lastCol:colIndex,eventRange:{def:eventRange.def,ui:__assign(__assign({},eventRange.ui),{durationEditable:!1}),instance:eventRange.instance,range:slicedRange},isStart:seg.isStart&&slicedRange.start.valueOf()===origRange.start.valueOf(),isEnd:seg.isEnd&&slicedRange.end.valueOf()===origRange.end.valueOf()}))}}
return newSegs}
var TableRow=(function(_super){__extends(TableRow,_super);function TableRow(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.cellElRefs=new RefMap();_this.frameElRefs=new RefMap();_this.fgElRefs=new RefMap();_this.segHarnessRefs=new RefMap();_this.rootElRef=createRef();_this.state={framePositions:null,maxContentHeight:null,segHeights:{}};return _this}
TableRow.prototype.render=function(){var _this=this;var _a=this,props=_a.props,state=_a.state,context=_a.context;var colCnt=props.cells.length;var businessHoursByCol=splitSegsByFirstCol(props.businessHourSegs,colCnt);var bgEventSegsByCol=splitSegsByFirstCol(props.bgEventSegs,colCnt);var highlightSegsByCol=splitSegsByFirstCol(this.getHighlightSegs(),colCnt);var mirrorSegsByCol=splitSegsByFirstCol(this.getMirrorSegs(),colCnt);var _b=computeFgSegPlacement(props.cells,props.fgEventSegs,props.dayMaxEvents,props.dayMaxEventRows,state.segHeights,state.maxContentHeight,colCnt,context.options.eventOrder),paddingBottoms=_b.paddingBottoms,segsByFirstCol=_b.segsByFirstCol,segsByEachCol=_b.segsByEachCol,segIsHidden=_b.segIsHidden,segTops=_b.segTops,segMarginTops=_b.segMarginTops,moreCnts=_b.moreCnts,moreTops=_b.moreTops;var selectedInstanceHash=(props.eventDrag&&props.eventDrag.affectedInstances)||(props.eventResize&&props.eventResize.affectedInstances)||{};return(createElement("tr",{ref:this.rootElRef},props.renderIntro&&props.renderIntro(),props.cells.map(function(cell,col){var normalFgNodes=_this.renderFgSegs(segsByFirstCol[col],segIsHidden,segTops,segMarginTops,selectedInstanceHash,props.todayRange);var mirrorFgNodes=_this.renderFgSegs(mirrorSegsByCol[col],{},segTops,{},{},props.todayRange,Boolean(props.eventDrag),Boolean(props.eventResize),!1);var showWeekNumber=props.showWeekNumbers&&col===0;return(createElement(TableCell,{key:cell.key,elRef:_this.cellElRefs.createRef(cell.key),innerElRef:_this.frameElRefs.createRef(cell.key),dateProfile:props.dateProfile,date:cell.date,showDayNumber:props.showDayNumbers||showWeekNumber,showWeekNumber:showWeekNumber,todayRange:props.todayRange,extraHookProps:cell.extraHookProps,extraDataAttrs:cell.extraDataAttrs,extraClassNames:cell.extraClassNames,moreCnt:moreCnts[col],buildMoreLinkText:props.buildMoreLinkText,onMoreClick:props.onMoreClick,segIsHidden:segIsHidden,moreMarginTop:moreTops[col],segsByEachCol:segsByEachCol[col],fgPaddingBottom:paddingBottoms[col],fgContentElRef:_this.fgElRefs.createRef(cell.key),fgContent:(createElement(Fragment,null,createElement(Fragment,null,normalFgNodes),createElement(Fragment,null,mirrorFgNodes))),bgContent:(createElement(Fragment,null,_this.renderFillSegs(highlightSegsByCol[col],'highlight'),_this.renderFillSegs(businessHoursByCol[col],'non-business'),_this.renderFillSegs(bgEventSegsByCol[col],'bg-event')))}))})))};TableRow.prototype.componentDidMount=function(){this.updateSizing(!0)};TableRow.prototype.componentDidUpdate=function(prevProps,prevState){var currentProps=this.props;this.updateSizing(!isPropsEqual(prevProps,currentProps))};TableRow.prototype.getHighlightSegs=function(){var props=this.props;if(props.eventDrag&&props.eventDrag.segs.length){return props.eventDrag.segs}else if(props.eventResize&&props.eventResize.segs.length){return props.eventResize.segs}else{return props.dateSelectionSegs}};TableRow.prototype.getMirrorSegs=function(){var props=this.props;if(props.eventResize&&props.eventResize.segs.length){return props.eventResize.segs}else{return[]}};TableRow.prototype.renderFgSegs=function(segs,segIsHidden,segTops,segMarginTops,selectedInstanceHash,todayRange,isDragging,isResizing,isDateSelecting){var context=this.context;var eventSelection=this.props.eventSelection;var framePositions=this.state.framePositions;var defaultDisplayEventEnd=this.props.cells.length===1;var nodes=[];if(framePositions){for(var _i=0,segs_1=segs;_i<segs_1.length;_i++){var seg=segs_1[_i];var instanceId=seg.eventRange.instance.instanceId;var isMirror=isDragging||isResizing||isDateSelecting;var isSelected=selectedInstanceHash[instanceId];var isInvisible=segIsHidden[instanceId]||isSelected;var isAbsolute=segIsHidden[instanceId]||isMirror||seg.firstCol!==seg.lastCol||!seg.isStart||!seg.isEnd;var marginTop=void 0;var top_1=void 0;var left=void 0;var right=void 0;if(isAbsolute){top_1=segTops[instanceId];if(context.isRtl){right=0;left=framePositions.lefts[seg.lastCol]-framePositions.lefts[seg.firstCol]}else{left=0;right=framePositions.rights[seg.firstCol]-framePositions.rights[seg.lastCol]}}else{marginTop=segMarginTops[instanceId]}
nodes.push(createElement("div",{className:'fc-daygrid-event-harness'+(isAbsolute?' fc-daygrid-event-harness-abs':''),key:instanceId,ref:isMirror?null:this.segHarnessRefs.createRef(instanceId+':'+seg.firstCol),style:{visibility:isInvisible?'hidden':'',marginTop:marginTop||'',top:top_1||'',left:left||'',right:right||''}},hasListItemDisplay(seg)?createElement(TableListItemEvent,__assign({seg:seg,isDragging:isDragging,isSelected:instanceId===eventSelection,defaultDisplayEventEnd:defaultDisplayEventEnd},getSegMeta(seg,todayRange))):createElement(TableBlockEvent,__assign({seg:seg,isDragging:isDragging,isResizing:isResizing,isDateSelecting:isDateSelecting,isSelected:instanceId===eventSelection,defaultDisplayEventEnd:defaultDisplayEventEnd},getSegMeta(seg,todayRange)))))}}
return nodes};TableRow.prototype.renderFillSegs=function(segs,fillType){var isRtl=this.context.isRtl;var todayRange=this.props.todayRange;var framePositions=this.state.framePositions;var nodes=[];if(framePositions){for(var _i=0,segs_2=segs;_i<segs_2.length;_i++){var seg=segs_2[_i];var leftRightCss=isRtl?{right:0,left:framePositions.lefts[seg.lastCol]-framePositions.lefts[seg.firstCol]}:{left:0,right:framePositions.rights[seg.firstCol]-framePositions.rights[seg.lastCol],};nodes.push(createElement("div",{key:buildEventRangeKey(seg.eventRange),className:'fc-daygrid-bg-harness',style:leftRightCss},fillType==='bg-event'?createElement(BgEvent,__assign({seg:seg},getSegMeta(seg,todayRange))):renderFill(fillType)))}}
return createElement.apply(void 0,__spreadArrays([Fragment,{}],nodes))};TableRow.prototype.updateSizing=function(isExternalSizingChange){var _a=this,props=_a.props,frameElRefs=_a.frameElRefs;if(props.clientWidth!==null){if(isExternalSizingChange){var frameEls=props.cells.map(function(cell){return frameElRefs.currentMap[cell.key]});if(frameEls.length){var originEl=this.rootElRef.current;this.setState({framePositions:new PositionCache(originEl,frameEls,!0,!1)})}}
var limitByContentHeight=props.dayMaxEvents===!0||props.dayMaxEventRows===!0;this.setState({segHeights:this.computeSegHeights(),maxContentHeight:limitByContentHeight?this.computeMaxContentHeight():null})}};TableRow.prototype.computeSegHeights=function(){return mapHash(this.segHarnessRefs.currentMap,function(eventHarnessEl){return(eventHarnessEl.getBoundingClientRect().height)})};TableRow.prototype.computeMaxContentHeight=function(){var firstKey=this.props.cells[0].key;var cellEl=this.cellElRefs.currentMap[firstKey];var fcContainerEl=this.fgElRefs.currentMap[firstKey];return cellEl.getBoundingClientRect().bottom-fcContainerEl.getBoundingClientRect().top};TableRow.prototype.getCellEls=function(){var elMap=this.cellElRefs.currentMap;return this.props.cells.map(function(cell){return elMap[cell.key]})};return TableRow}(DateComponent));TableRow.addStateEquality({segHeights:isPropsEqual});var PADDING_FROM_VIEWPORT=10;var SCROLL_DEBOUNCE=10;var Popover=(function(_super){__extends(Popover,_super);function Popover(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.repositioner=new DelayedRunner(_this.updateSize.bind(_this));_this.handleRootEl=function(el){_this.rootEl=el;if(_this.props.elRef){setRef(_this.props.elRef,el)}};_this.handleDocumentMousedown=function(ev){var onClose=_this.props.onClose;if(onClose&&!_this.rootEl.contains(ev.target)){onClose()}};_this.handleDocumentScroll=function(){_this.repositioner.request(SCROLL_DEBOUNCE)};_this.handleCloseClick=function(){var onClose=_this.props.onClose;if(onClose){onClose()}};return _this}
Popover.prototype.render=function(){var theme=this.context.theme;var props=this.props;var classNames=['fc-popover',theme.getClass('popover')].concat(props.extraClassNames||[]);return(createElement("div",__assign({className:classNames.join(' ')},props.extraAttrs,{ref:this.handleRootEl}),createElement("div",{className:'fc-popover-header '+theme.getClass('popoverHeader')},createElement("span",{className:'fc-popover-title'},props.title),createElement("span",{className:'fc-popover-close '+theme.getIconClass('close'),onClick:this.handleCloseClick})),createElement("div",{className:'fc-popover-body '+theme.getClass('popoverContent')},props.children)))};Popover.prototype.componentDidMount=function(){document.addEventListener('mousedown',this.handleDocumentMousedown);document.addEventListener('scroll',this.handleDocumentScroll);this.updateSize()};Popover.prototype.componentWillUnmount=function(){document.removeEventListener('mousedown',this.handleDocumentMousedown);document.removeEventListener('scroll',this.handleDocumentScroll)};Popover.prototype.updateSize=function(){var _a=this.props,alignmentEl=_a.alignmentEl,topAlignmentEl=_a.topAlignmentEl;var rootEl=this.rootEl;if(!rootEl){return}
var dims=rootEl.getBoundingClientRect();var alignment=alignmentEl.getBoundingClientRect();var top=topAlignmentEl?topAlignmentEl.getBoundingClientRect().top:alignment.top;top=Math.min(top,window.innerHeight-dims.height-PADDING_FROM_VIEWPORT);top=Math.max(top,PADDING_FROM_VIEWPORT);var left;if(this.context.isRtl){left=alignment.right-dims.width}else{left=alignment.left}
left=Math.min(left,window.innerWidth-dims.width-PADDING_FROM_VIEWPORT);left=Math.max(left,PADDING_FROM_VIEWPORT);applyStyle(rootEl,{top:top,left:left})};return Popover}(BaseComponent));var MorePopover=(function(_super){__extends(MorePopover,_super);function MorePopover(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.handlePopoverEl=function(popoverEl){_this.popoverEl=popoverEl;if(popoverEl){_this.context.registerInteractiveComponent(_this,{el:popoverEl,useEventCenter:!1})}else{_this.context.unregisterInteractiveComponent(_this)}};return _this}
MorePopover.prototype.render=function(){var _a=this.context,options=_a.options,dateEnv=_a.dateEnv;var props=this.props;var date=props.date,hiddenInstances=props.hiddenInstances,todayRange=props.todayRange,dateProfile=props.dateProfile,selectedInstanceId=props.selectedInstanceId;var title=dateEnv.format(date,options.dayPopoverFormat);return(createElement(DayCellRoot,{date:date,dateProfile:dateProfile,todayRange:todayRange,elRef:this.handlePopoverEl},function(rootElRef,dayClassNames,dataAttrs){return(createElement(Popover,{elRef:rootElRef,title:title,extraClassNames:['fc-more-popover'].concat(dayClassNames),extraAttrs:dataAttrs,onClose:props.onCloseClick,alignmentEl:props.alignmentEl,topAlignmentEl:props.topAlignmentEl},createElement(DayCellContent,{date:date,dateProfile:dateProfile,todayRange:todayRange},function(innerElRef,innerContent){return(innerContent&&createElement("div",{className:'fc-more-popover-misc',ref:innerElRef},innerContent))}),props.segs.map(function(seg){var instanceId=seg.eventRange.instance.instanceId;return(createElement("div",{className:'fc-daygrid-event-harness',key:instanceId,style:{visibility:hiddenInstances[instanceId]?'hidden':''}},hasListItemDisplay(seg)?createElement(TableListItemEvent,__assign({seg:seg,isDragging:!1,isSelected:instanceId===selectedInstanceId,defaultDisplayEventEnd:!1},getSegMeta(seg,todayRange))):createElement(TableBlockEvent,__assign({seg:seg,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:instanceId===selectedInstanceId,defaultDisplayEventEnd:!1},getSegMeta(seg,todayRange)))))})))}))};MorePopover.prototype.queryHit=function(positionLeft,positionTop,elWidth,elHeight){var date=this.props.date;if(positionLeft<elWidth&&positionTop<elHeight){return{component:this,dateSpan:{allDay:!0,range:{start:date,end:addDays(date,1)}},dayEl:this.popoverEl,rect:{left:0,top:0,right:elWidth,bottom:elHeight},layer:1}}};MorePopover.prototype.isPopover=function(){return!0};return MorePopover}(DateComponent));var Table=(function(_super){__extends(Table,_super);function Table(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.splitBusinessHourSegs=memoize(splitSegsByRow);_this.splitBgEventSegs=memoize(splitSegsByRow);_this.splitFgEventSegs=memoize(splitSegsByRow);_this.splitDateSelectionSegs=memoize(splitSegsByRow);_this.splitEventDrag=memoize(splitInteractionByRow);_this.splitEventResize=memoize(splitInteractionByRow);_this.buildBuildMoreLinkText=memoize(buildBuildMoreLinkText);_this.rowRefs=new RefMap();_this.state={morePopoverState:null};_this.handleRootEl=function(rootEl){_this.rootEl=rootEl;setRef(_this.props.elRef,rootEl)};_this.handleMoreLinkClick=function(arg){var context=_this.context;var dateEnv=context.dateEnv;var clickOption=context.options.moreLinkClick;function segForPublic(seg){var _a=seg.eventRange,def=_a.def,instance=_a.instance,range=_a.range;return{event:new EventApi(context,def,instance),start:dateEnv.toDate(range.start),end:dateEnv.toDate(range.end),isStart:seg.isStart,isEnd:seg.isEnd}}
if(typeof clickOption==='function'){clickOption=clickOption({date:dateEnv.toDate(arg.date),allDay:!0,allSegs:arg.allSegs.map(segForPublic),hiddenSegs:arg.hiddenSegs.map(segForPublic),jsEvent:arg.ev,view:context.viewApi})}
if(!clickOption||clickOption==='popover'){_this.setState({morePopoverState:__assign(__assign({},arg),{currentFgEventSegs:_this.props.fgEventSegs})})}else if(typeof clickOption==='string'){context.calendarApi.zoomTo(arg.date,clickOption)}};_this.handleMorePopoverClose=function(){_this.setState({morePopoverState:null})};return _this}
Table.prototype.render=function(){var _this=this;var props=this.props;var dateProfile=props.dateProfile,dayMaxEventRows=props.dayMaxEventRows,dayMaxEvents=props.dayMaxEvents,expandRows=props.expandRows;var morePopoverState=this.state.morePopoverState;var rowCnt=props.cells.length;var businessHourSegsByRow=this.splitBusinessHourSegs(props.businessHourSegs,rowCnt);var bgEventSegsByRow=this.splitBgEventSegs(props.bgEventSegs,rowCnt);var fgEventSegsByRow=this.splitFgEventSegs(props.fgEventSegs,rowCnt);var dateSelectionSegsByRow=this.splitDateSelectionSegs(props.dateSelectionSegs,rowCnt);var eventDragByRow=this.splitEventDrag(props.eventDrag,rowCnt);var eventResizeByRow=this.splitEventResize(props.eventResize,rowCnt);var buildMoreLinkText=this.buildBuildMoreLinkText(this.context.options.moreLinkText);var limitViaBalanced=dayMaxEvents===!0||dayMaxEventRows===!0;if(limitViaBalanced&&!expandRows){limitViaBalanced=!1;dayMaxEventRows=null;dayMaxEvents=null}
var classNames=['fc-daygrid-body',limitViaBalanced?'fc-daygrid-body-balanced':'fc-daygrid-body-unbalanced',expandRows?'':'fc-daygrid-body-natural'];return(createElement("div",{className:classNames.join(' '),ref:this.handleRootEl,style:{width:props.clientWidth,minWidth:props.tableMinWidth}},createElement(NowTimer,{unit:'day'},function(nowDate,todayRange){return(createElement(Fragment,null,createElement("table",{className:'fc-scrollgrid-sync-table',style:{width:props.clientWidth,minWidth:props.tableMinWidth,height:expandRows?props.clientHeight:''}},props.colGroupNode,createElement("tbody",null,props.cells.map(function(cells,row){return(createElement(TableRow,{ref:_this.rowRefs.createRef(row),key:cells.length?cells[0].date.toISOString():row,showDayNumbers:rowCnt>1,showWeekNumbers:props.showWeekNumbers,todayRange:todayRange,dateProfile:dateProfile,cells:cells,renderIntro:props.renderRowIntro,businessHourSegs:businessHourSegsByRow[row],eventSelection:props.eventSelection,bgEventSegs:bgEventSegsByRow[row].filter(isSegAllDay),fgEventSegs:fgEventSegsByRow[row],dateSelectionSegs:dateSelectionSegsByRow[row],eventDrag:eventDragByRow[row],eventResize:eventResizeByRow[row],dayMaxEvents:dayMaxEvents,dayMaxEventRows:dayMaxEventRows,clientWidth:props.clientWidth,clientHeight:props.clientHeight,buildMoreLinkText:buildMoreLinkText,onMoreClick:_this.handleMoreLinkClick}))}))),(!props.forPrint&&morePopoverState&&morePopoverState.currentFgEventSegs===props.fgEventSegs)&&createElement(MorePopover,{date:morePopoverState.date,dateProfile:dateProfile,segs:morePopoverState.allSegs,alignmentEl:morePopoverState.dayEl,topAlignmentEl:rowCnt===1?props.headerAlignElRef.current:null,onCloseClick:_this.handleMorePopoverClose,selectedInstanceId:props.eventSelection,hiddenInstances:(props.eventDrag?props.eventDrag.affectedInstances:null)||(props.eventResize?props.eventResize.affectedInstances:null)||{},todayRange:todayRange})))})))};Table.prototype.prepareHits=function(){this.rowPositions=new PositionCache(this.rootEl,this.rowRefs.collect().map(function(rowObj){return rowObj.getCellEls()[0]}),!1,!0);this.colPositions=new PositionCache(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)};Table.prototype.positionToHit=function(leftPosition,topPosition){var _a=this,colPositions=_a.colPositions,rowPositions=_a.rowPositions;var col=colPositions.leftToIndex(leftPosition);var row=rowPositions.topToIndex(topPosition);if(row!=null&&col!=null){return{row:row,col:col,dateSpan:{range:this.getCellRange(row,col),allDay:!0},dayEl:this.getCellEl(row,col),relativeRect:{left:colPositions.lefts[col],right:colPositions.rights[col],top:rowPositions.tops[row],bottom:rowPositions.bottoms[row]}}}};Table.prototype.getCellEl=function(row,col){return this.rowRefs.currentMap[row].getCellEls()[col]};Table.prototype.getCellRange=function(row,col){var start=this.props.cells[row][col].date;var end=addDays(start,1);return{start:start,end:end}};return Table}(DateComponent));function buildBuildMoreLinkText(moreLinkTextInput){if(typeof moreLinkTextInput==='function'){return moreLinkTextInput}else{return function(num){return"+"+num+" "+moreLinkTextInput}}}
function isSegAllDay(seg){return seg.eventRange.def.allDay}
var DayTable=(function(_super){__extends(DayTable,_super);function DayTable(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.slicer=new DayTableSlicer();_this.tableRef=createRef();_this.handleRootEl=function(rootEl){if(rootEl){_this.context.registerInteractiveComponent(_this,{el:rootEl})}else{_this.context.unregisterInteractiveComponent(_this)}};return _this}
DayTable.prototype.render=function(){var _a=this,props=_a.props,context=_a.context;return(createElement(Table,__assign({ref:this.tableRef,elRef:this.handleRootEl},this.slicer.sliceProps(props,props.dateProfile,props.nextDayThreshold,context,props.dayTableModel),{dateProfile:props.dateProfile,cells:props.dayTableModel.cells,colGroupNode:props.colGroupNode,tableMinWidth:props.tableMinWidth,renderRowIntro:props.renderRowIntro,dayMaxEvents:props.dayMaxEvents,dayMaxEventRows:props.dayMaxEventRows,showWeekNumbers:props.showWeekNumbers,expandRows:props.expandRows,headerAlignElRef:props.headerAlignElRef,clientWidth:props.clientWidth,clientHeight:props.clientHeight,forPrint:props.forPrint})))};DayTable.prototype.prepareHits=function(){this.tableRef.current.prepareHits()};DayTable.prototype.queryHit=function(positionLeft,positionTop){var rawHit=this.tableRef.current.positionToHit(positionLeft,positionTop);if(rawHit){return{component:this,dateSpan:rawHit.dateSpan,dayEl:rawHit.dayEl,rect:{left:rawHit.relativeRect.left,right:rawHit.relativeRect.right,top:rawHit.relativeRect.top,bottom:rawHit.relativeRect.bottom},layer:0}}};return DayTable}(DateComponent));var DayTableSlicer=(function(_super){__extends(DayTableSlicer,_super);function DayTableSlicer(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.forceDayIfListItem=!0;return _this}
DayTableSlicer.prototype.sliceRange=function(dateRange,dayTableModel){return dayTableModel.sliceRange(dateRange)};return DayTableSlicer}(Slicer));var DayTableView=(function(_super){__extends(DayTableView,_super);function DayTableView(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.buildDayTableModel=memoize(buildDayTableModel);_this.headerRef=createRef();_this.tableRef=createRef();return _this}
DayTableView.prototype.render=function(){var _this=this;var _a=this.context,options=_a.options,dateProfileGenerator=_a.dateProfileGenerator;var props=this.props;var dayTableModel=this.buildDayTableModel(props.dateProfile,dateProfileGenerator);var headerContent=options.dayHeaders&&createElement(DayHeader,{ref:this.headerRef,dateProfile:props.dateProfile,dates:dayTableModel.headerDates,datesRepDistinctDays:dayTableModel.rowCnt===1});var bodyContent=function(contentArg){return(createElement(DayTable,{ref:_this.tableRef,dateProfile:props.dateProfile,dayTableModel:dayTableModel,businessHours:props.businessHours,dateSelection:props.dateSelection,eventStore:props.eventStore,eventUiBases:props.eventUiBases,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,nextDayThreshold:options.nextDayThreshold,colGroupNode:contentArg.tableColGroupNode,tableMinWidth:contentArg.tableMinWidth,dayMaxEvents:options.dayMaxEvents,dayMaxEventRows:options.dayMaxEventRows,showWeekNumbers:options.weekNumbers,expandRows:!props.isHeightAuto,headerAlignElRef:_this.headerElRef,clientWidth:contentArg.clientWidth,clientHeight:contentArg.clientHeight,forPrint:props.forPrint}))};return options.dayMinWidth?this.renderHScrollLayout(headerContent,bodyContent,dayTableModel.colCnt,options.dayMinWidth):this.renderSimpleLayout(headerContent,bodyContent)};return DayTableView}(TableView));function buildDayTableModel(dateProfile,dateProfileGenerator){var daySeries=new DaySeriesModel(dateProfile.renderRange,dateProfileGenerator);return new DayTableModel(daySeries,/year|month|week/.test(dateProfile.currentRangeUnit))}
var TableDateProfileGenerator=(function(_super){__extends(TableDateProfileGenerator,_super);function TableDateProfileGenerator(){return _super!==null&&_super.apply(this,arguments)||this}
TableDateProfileGenerator.prototype.buildRenderRange=function(currentRange,currentRangeUnit,isRangeAllDay){var dateEnv=this.props.dateEnv;var renderRange=_super.prototype.buildRenderRange.call(this,currentRange,currentRangeUnit,isRangeAllDay);var start=renderRange.start;var end=renderRange.end;var endOfWeek;if(/^(year|month)$/.test(currentRangeUnit)){start=dateEnv.startOfWeek(start);endOfWeek=dateEnv.startOfWeek(end);if(endOfWeek.valueOf()!==end.valueOf()){end=addWeeks(endOfWeek,1)}}
if(this.props.monthMode&&this.props.fixedWeekCount){var rowCnt=Math.ceil(diffWeeks(start,end));end=addWeeks(end,6-rowCnt)}
return{start:start,end:end}};return TableDateProfileGenerator}(DateProfileGenerator));var OPTION_REFINERS={moreLinkClick:identity,moreLinkClassNames:identity,moreLinkContent:identity,moreLinkDidMount:identity,moreLinkWillUnmount:identity,};var dayGridPlugin=createPlugin({initialView:'dayGridMonth',optionRefiners:OPTION_REFINERS,views:{dayGrid:{component:DayTableView,dateProfileGeneratorClass:TableDateProfileGenerator},dayGridDay:{type:'dayGrid',duration:{days:1}},dayGridWeek:{type:'dayGrid',duration:{weeks:1}},dayGridMonth:{type:'dayGrid',duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});var AllDaySplitter=(function(_super){__extends(AllDaySplitter,_super);function AllDaySplitter(){return _super!==null&&_super.apply(this,arguments)||this}
AllDaySplitter.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}};AllDaySplitter.prototype.getKeysForDateSpan=function(dateSpan){if(dateSpan.allDay){return['allDay']}else{return['timed']}};AllDaySplitter.prototype.getKeysForEventDef=function(eventDef){if(!eventDef.allDay){return['timed']}else if(hasBgRendering(eventDef)){return['timed','allDay']}else{return['allDay']}};return AllDaySplitter}(Splitter));var TimeColsSlatsCoords=(function(){function TimeColsSlatsCoords(positions,dateProfile,slatMetas){this.positions=positions;this.dateProfile=dateProfile;this.slatMetas=slatMetas}
TimeColsSlatsCoords.prototype.safeComputeTop=function(date){var dateProfile=this.dateProfile;if(rangeContainsMarker(dateProfile.currentRange,date)){var startOfDayDate=startOfDay(date);var timeMs=date.valueOf()-startOfDayDate.valueOf();if(timeMs>=asRoughMs(dateProfile.slotMinTime)&&timeMs<asRoughMs(dateProfile.slotMaxTime)){return this.computeTimeTop(createDuration(timeMs))}}};TimeColsSlatsCoords.prototype.computeDateTop=function(when,startOfDayDate){if(!startOfDayDate){startOfDayDate=startOfDay(when)}
return this.computeTimeTop(createDuration(when.valueOf()-startOfDayDate.valueOf()))};TimeColsSlatsCoords.prototype.computeTimeTop=function(duration){var _a=this,positions=_a.positions,dateProfile=_a.dateProfile,slatMetas=_a.slatMetas;var len=positions.els.length;var slotDurationMs=slatMetas[1].date.valueOf()-slatMetas[0].date.valueOf();var slatCoverage=(duration.milliseconds-asRoughMs(dateProfile.slotMinTime))/slotDurationMs;var slatIndex;var slatRemainder;slatCoverage=Math.max(0,slatCoverage);slatCoverage=Math.min(len,slatCoverage);slatIndex=Math.floor(slatCoverage);slatIndex=Math.min(slatIndex,len-1);slatRemainder=slatCoverage-slatIndex;return positions.tops[slatIndex]+positions.getHeight(slatIndex)*slatRemainder};return TimeColsSlatsCoords}());var STOCK_SUB_DURATIONS=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];var TimeColsSlats=(function(_super){__extends(TimeColsSlats,_super);function TimeColsSlats(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.rootElRef=createRef();_this.slatElRefs=new RefMap();return _this}
TimeColsSlats.prototype.render=function(){var _a=this,props=_a.props,context=_a.context;return(createElement("div",{className:'fc-timegrid-slots',ref:this.rootElRef},createElement("table",{className:context.theme.getClass('table'),style:{minWidth:props.tableMinWidth,width:props.clientWidth,height:props.minHeight}},props.tableColGroupNode,createElement(TimeColsSlatsBody,{slatElRefs:this.slatElRefs,axis:props.axis,slatMetas:props.slatMetas}))))};TimeColsSlats.prototype.componentDidMount=function(){this.updateSizing()};TimeColsSlats.prototype.componentDidUpdate=function(){this.updateSizing()};TimeColsSlats.prototype.componentWillUnmount=function(){if(this.props.onCoords){this.props.onCoords(null)}};TimeColsSlats.prototype.updateSizing=function(){var props=this.props;if(props.onCoords&&props.clientWidth!==null){var rootEl=this.rootElRef.current;if(rootEl.offsetHeight){props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current,collectSlatEls(this.slatElRefs.currentMap,props.slatMetas),!1,!0),this.props.dateProfile,props.slatMetas))}}};return TimeColsSlats}(BaseComponent));function collectSlatEls(elMap,slatMetas){return slatMetas.map(function(slatMeta){return elMap[slatMeta.key]})}
var TimeColsSlatsBody=(function(_super){__extends(TimeColsSlatsBody,_super);function TimeColsSlatsBody(){return _super!==null&&_super.apply(this,arguments)||this}
TimeColsSlatsBody.prototype.render=function(){var _a=this,props=_a.props,context=_a.context;var options=context.options;var slatElRefs=props.slatElRefs;return(createElement("tbody",null,props.slatMetas.map(function(slatMeta,i){var hookProps={time:slatMeta.time,date:context.dateEnv.toDate(slatMeta.date),view:context.viewApi};var classNames=['fc-timegrid-slot','fc-timegrid-slot-lane',slatMeta.isLabeled?'':'fc-timegrid-slot-minor'];return(createElement("tr",{key:slatMeta.key,ref:slatElRefs.createRef(slatMeta.key)},props.axis&&createElement(TimeColsAxisCell,__assign({},slatMeta)),createElement(RenderHook,{hookProps:hookProps,classNames:options.slotLaneClassNames,content:options.slotLaneContent,didMount:options.slotLaneDidMount,willUnmount:options.slotLaneWillUnmount},function(rootElRef,customClassNames,innerElRef,innerContent){return(createElement("td",{ref:rootElRef,className:classNames.concat(customClassNames).join(' '),"data-time":slatMeta.isoTimeStr},innerContent))})))})))};return TimeColsSlatsBody}(BaseComponent));var DEFAULT_SLAT_LABEL_FORMAT=createFormatter({hour:'numeric',minute:'2-digit',omitZeroMinute:!0,meridiem:'short'});function TimeColsAxisCell(props){var classNames=['fc-timegrid-slot','fc-timegrid-slot-label',props.isLabeled?'fc-scrollgrid-shrink':'fc-timegrid-slot-minor'];return(createElement(ViewContextType.Consumer,null,function(context){if(!props.isLabeled){return(createElement("td",{className:classNames.join(' '),"data-time":props.isoTimeStr}))}else{var dateEnv=context.dateEnv,options=context.options,viewApi=context.viewApi;var labelFormat=options.slotLabelFormat==null?DEFAULT_SLAT_LABEL_FORMAT:Array.isArray(options.slotLabelFormat)?createFormatter(options.slotLabelFormat[0]):createFormatter(options.slotLabelFormat);var hookProps={time:props.time,date:dateEnv.toDate(props.date),view:viewApi,text:dateEnv.format(props.date,labelFormat)};return(createElement(RenderHook,{hookProps:hookProps,classNames:options.slotLabelClassNames,content:options.slotLabelContent,defaultContent:renderInnerContent$3,didMount:options.slotLabelDidMount,willUnmount:options.slotLabelWillUnmount},function(rootElRef,customClassNames,innerElRef,innerContent){return(createElement("td",{ref:rootElRef,className:classNames.concat(customClassNames).join(' '),"data-time":props.isoTimeStr},createElement("div",{className:'fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame'},createElement("div",{className:'fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion',ref:innerElRef},innerContent))))}))}}))}
function renderInnerContent$3(props){return props.text}
function buildSlatMetas(slotMinTime,slotMaxTime,explicitLabelInterval,slotDuration,dateEnv){var dayStart=new Date(0);var slatTime=slotMinTime;var slatIterator=createDuration(0);var labelInterval=explicitLabelInterval||computeLabelInterval(slotDuration);var metas=[];while(asRoughMs(slatTime)<asRoughMs(slotMaxTime)){var date=dateEnv.add(dayStart,slatTime);var isLabeled=wholeDivideDurations(slatIterator,labelInterval)!==null;metas.push({date:date,time:slatTime,key:date.toISOString(),isoTimeStr:formatIsoTimeString(date),isLabeled:isLabeled});slatTime=addDurations(slatTime,slotDuration);slatIterator=addDurations(slatIterator,slotDuration)}
return metas}
function computeLabelInterval(slotDuration){var i;var labelInterval;var slotsPerLabel;for(i=STOCK_SUB_DURATIONS.length-1;i>=0;i--){labelInterval=createDuration(STOCK_SUB_DURATIONS[i]);slotsPerLabel=wholeDivideDurations(labelInterval,slotDuration);if(slotsPerLabel!==null&&slotsPerLabel>1){return labelInterval}}
return slotDuration}
var DEFAULT_WEEK_NUM_FORMAT$1=createFormatter({week:'short'});var AUTO_ALL_DAY_MAX_EVENT_ROWS=5;var TimeColsView=(function(_super){__extends(TimeColsView,_super);function TimeColsView(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.allDaySplitter=new AllDaySplitter();_this.headerElRef=createRef();_this.rootElRef=createRef();_this.scrollerElRef=createRef();_this.state={slatCoords:null};_this.handleScrollTopRequest=function(scrollTop){var scrollerEl=_this.scrollerElRef.current;if(scrollerEl){scrollerEl.scrollTop=scrollTop}};_this.renderHeadAxis=function(frameHeight){if(frameHeight===void 0){frameHeight=''}
var options=_this.context.options;var dateProfile=_this.props.dateProfile;var range=dateProfile.renderRange;var dayCnt=diffDays(range.start,range.end);var navLinkAttrs=(options.navLinks&&dayCnt===1)?{'data-navlink':buildNavLinkData(range.start,'week'),tabIndex:0}:{};if(options.weekNumbers){return(createElement(WeekNumberRoot,{date:range.start,defaultFormat:DEFAULT_WEEK_NUM_FORMAT$1},function(rootElRef,classNames,innerElRef,innerContent){return(createElement("th",{ref:rootElRef,className:['fc-timegrid-axis','fc-scrollgrid-shrink'].concat(classNames).join(' ')},createElement("div",{className:'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid',style:{height:frameHeight}},createElement("a",__assign({ref:innerElRef,className:'fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion'},navLinkAttrs),innerContent))))}))}
return(createElement("th",{className:'fc-timegrid-axis'},createElement("div",{className:'fc-timegrid-axis-frame',style:{height:frameHeight}})))};_this.renderTableRowAxis=function(rowHeight){var _a=_this.context,options=_a.options,viewApi=_a.viewApi;var hookProps={text:options.allDayText,view:viewApi};return(createElement(RenderHook,{hookProps:hookProps,classNames:options.allDayClassNames,content:options.allDayContent,defaultContent:renderAllDayInner,didMount:options.allDayDidMount,willUnmount:options.allDayWillUnmount},function(rootElRef,classNames,innerElRef,innerContent){return(createElement("td",{ref:rootElRef,className:['fc-timegrid-axis','fc-scrollgrid-shrink'].concat(classNames).join(' ')},createElement("div",{className:'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame'+(rowHeight==null?' fc-timegrid-axis-frame-liquid':''),style:{height:rowHeight}},createElement("span",{className:'fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion',ref:innerElRef},innerContent))))}))};_this.handleSlatCoords=function(slatCoords){_this.setState({slatCoords:slatCoords})};return _this}
TimeColsView.prototype.renderSimpleLayout=function(headerRowContent,allDayContent,timeContent){var _a=this,context=_a.context,props=_a.props;var sections=[];var stickyHeaderDates=getStickyHeaderDates(context.options);if(headerRowContent){sections.push({type:'header',key:'header',isSticky:stickyHeaderDates,chunk:{elRef:this.headerElRef,tableClassName:'fc-col-header',rowContent:headerRowContent}})}
if(allDayContent){sections.push({type:'body',key:'all-day',chunk:{content:allDayContent}});sections.push({type:'body',key:'all-day-divider',outerContent:(createElement("tr",{className:'fc-scrollgrid-section'},createElement("td",{className:'fc-timegrid-divider '+context.theme.getClass('tableCellShaded')})))})}
sections.push({type:'body',key:'body',liquid:!0,expandRows:Boolean(context.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:timeContent}});return(createElement(ViewRoot,{viewSpec:context.viewSpec,elRef:this.rootElRef},function(rootElRef,classNames){return(createElement("div",{className:['fc-timegrid'].concat(classNames).join(' '),ref:rootElRef},createElement(SimpleScrollGrid,{liquid:!props.isHeightAuto&&!props.forPrint,cols:[{width:'shrink'}],sections:sections})))}))};TimeColsView.prototype.renderHScrollLayout=function(headerRowContent,allDayContent,timeContent,colCnt,dayMinWidth,slatMetas,slatCoords){var _this=this;var ScrollGrid=this.context.pluginHooks.scrollGridImpl;if(!ScrollGrid){throw new Error('No ScrollGrid implementation')}
var _a=this,context=_a.context,props=_a.props;var stickyHeaderDates=!props.forPrint&&getStickyHeaderDates(context.options);var stickyFooterScrollbar=!props.forPrint&&getStickyFooterScrollbar(context.options);var sections=[];if(headerRowContent){sections.push({type:'header',key:'header',isSticky:stickyHeaderDates,syncRowHeights:!0,chunks:[{key:'axis',rowContent:function(arg){return(createElement("tr",null,_this.renderHeadAxis(arg.rowSyncHeights[0])))}},{key:'cols',elRef:this.headerElRef,tableClassName:'fc-col-header',rowContent:headerRowContent}]})}
if(allDayContent){sections.push({type:'body',key:'all-day',syncRowHeights:!0,chunks:[{key:'axis',rowContent:function(contentArg){return(createElement("tr",null,_this.renderTableRowAxis(contentArg.rowSyncHeights[0])))},},{key:'cols',content:allDayContent}]});sections.push({key:'all-day-divider',type:'body',outerContent:(createElement("tr",{className:'fc-scrollgrid-section'},createElement("td",{colSpan:2,className:'fc-timegrid-divider '+context.theme.getClass('tableCellShaded')})))})}
var isNowIndicator=context.options.nowIndicator;sections.push({type:'body',key:'body',liquid:!0,expandRows:Boolean(context.options.expandRows),chunks:[{key:'axis',content:function(arg){return(createElement("div",{className:'fc-timegrid-axis-chunk'},createElement("table",null,arg.tableColGroupNode,createElement("tbody",null,createElement(TimeBodyAxis,{slatMetas:slatMetas}))),createElement("div",{className:'fc-timegrid-now-indicator-container'},createElement(NowTimer,{unit:isNowIndicator?'minute':'day'},function(nowDate){var nowIndicatorTop=isNowIndicator&&slatCoords&&slatCoords.safeComputeTop(nowDate);if(typeof nowIndicatorTop==='number'){return(createElement(NowIndicatorRoot,{isAxis:!0,date:nowDate},function(rootElRef,classNames,innerElRef,innerContent){return(createElement("div",{ref:rootElRef,className:['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '),style:{top:nowIndicatorTop}},innerContent))}))}}))))}},{key:'cols',scrollerElRef:this.scrollerElRef,content:timeContent}]});if(stickyFooterScrollbar){sections.push({key:'footer',type:'footer',isSticky:!0,chunks:[{key:'axis',content:renderScrollShim},{key:'cols',content:renderScrollShim}]})}
return(createElement(ViewRoot,{viewSpec:context.viewSpec,elRef:this.rootElRef},function(rootElRef,classNames){return(createElement("div",{className:['fc-timegrid'].concat(classNames).join(' '),ref:rootElRef},createElement(ScrollGrid,{liquid:!props.isHeightAuto&&!props.forPrint,colGroups:[{width:'shrink',cols:[{width:'shrink'}]},{cols:[{span:colCnt,minWidth:dayMinWidth}]}],sections:sections})))}))};TimeColsView.prototype.getAllDayMaxEventProps=function(){var _a=this.context.options,dayMaxEvents=_a.dayMaxEvents,dayMaxEventRows=_a.dayMaxEventRows;if(dayMaxEvents===!0||dayMaxEventRows===!0){dayMaxEvents=undefined;dayMaxEventRows=AUTO_ALL_DAY_MAX_EVENT_ROWS}
return{dayMaxEvents:dayMaxEvents,dayMaxEventRows:dayMaxEventRows}};return TimeColsView}(DateComponent));function renderAllDayInner(hookProps){return hookProps.text}
var TimeBodyAxis=(function(_super){__extends(TimeBodyAxis,_super);function TimeBodyAxis(){return _super!==null&&_super.apply(this,arguments)||this}
TimeBodyAxis.prototype.render=function(){return this.props.slatMetas.map(function(slatMeta){return(createElement("tr",{key:slatMeta.key},createElement(TimeColsAxisCell,__assign({},slatMeta))))})};return TimeBodyAxis}(BaseComponent));function splitSegsByCol(segs,colCnt){var segsByCol=[];var i;for(i=0;i<colCnt;i++){segsByCol.push([])}
if(segs){for(i=0;i<segs.length;i++){segsByCol[segs[i].col].push(segs[i])}}
return segsByCol}
function splitInteractionByCol(ui,colCnt){var byRow=[];if(!ui){for(var i=0;i<colCnt;i++){byRow[i]=null}}else{for(var i=0;i<colCnt;i++){byRow[i]={affectedInstances:ui.affectedInstances,isEvent:ui.isEvent,segs:[]}}
for(var _i=0,_a=ui.segs;_i<_a.length;_i++){var seg=_a[_i];byRow[seg.col].segs.push(seg)}}
return byRow}
function computeSegCoords(segs,dayDate,slatCoords,eventMinHeight,eventOrderSpecs){computeSegVerticals(segs,dayDate,slatCoords,eventMinHeight);return computeSegHorizontals(segs,eventOrderSpecs)}
function computeSegVerticals(segs,dayDate,slatCoords,eventMinHeight){for(var _i=0,segs_1=segs;_i<segs_1.length;_i++){var seg=segs_1[_i];seg.top=slatCoords.computeDateTop(seg.start,dayDate);seg.bottom=Math.max(seg.top+(eventMinHeight||0),slatCoords.computeDateTop(seg.end,dayDate))}}
function computeSegHorizontals(segs,eventOrderSpecs){for(var _i=0,segs_2=segs;_i<segs_2.length;_i++){var seg=segs_2[_i];seg.level=null;seg.forwardCoord=null;seg.backwardCoord=null;seg.forwardPressure=null}
segs=sortEventSegs(segs,eventOrderSpecs);var level0;var levels=buildSlotSegLevels(segs);computeForwardSlotSegs(levels);if((level0=levels[0])){for(var _a=0,level0_1=level0;_a<level0_1.length;_a++){var seg=level0_1[_a];computeSlotSegPressures(seg)}
for(var _b=0,level0_2=level0;_b<level0_2.length;_b++){var seg=level0_2[_b];computeSegForwardBack(seg,0,0,eventOrderSpecs)}}
return segs}
function buildSlotSegLevels(segs){var levels=[];var i;var seg;var j;for(i=0;i<segs.length;i++){seg=segs[i];for(j=0;j<levels.length;j++){if(!computeSlotSegCollisions(seg,levels[j]).length){break}}
seg.level=j;(levels[j]||(levels[j]=[])).push(seg)}
return levels}
function computeSlotSegCollisions(seg,otherSegs,results){if(results===void 0){results=[]}
for(var i=0;i<otherSegs.length;i++){if(isSlotSegCollision(seg,otherSegs[i])){results.push(otherSegs[i])}}
return results}
function isSlotSegCollision(seg1,seg2){return seg1.bottom>seg2.top&&seg1.top<seg2.bottom}
function computeForwardSlotSegs(levels){var i;var level;var j;var seg;var k;for(i=0;i<levels.length;i++){level=levels[i];for(j=0;j<level.length;j++){seg=level[j];seg.forwardSegs=[];for(k=i+1;k<levels.length;k++){computeSlotSegCollisions(seg,levels[k],seg.forwardSegs)}}}}
function computeSlotSegPressures(seg){var forwardSegs=seg.forwardSegs;var forwardPressure=0;var i;var forwardSeg;if(seg.forwardPressure==null){for(i=0;i<forwardSegs.length;i++){forwardSeg=forwardSegs[i];computeSlotSegPressures(forwardSeg);forwardPressure=Math.max(forwardPressure,1+forwardSeg.forwardPressure)}
seg.forwardPressure=forwardPressure}}
function computeSegForwardBack(seg,seriesBackwardPressure,seriesBackwardCoord,eventOrderSpecs){var forwardSegs=seg.forwardSegs;var i;if(seg.forwardCoord==null){if(!forwardSegs.length){seg.forwardCoord=1}else{sortForwardSegs(forwardSegs,eventOrderSpecs);computeSegForwardBack(forwardSegs[0],seriesBackwardPressure+1,seriesBackwardCoord,eventOrderSpecs);seg.forwardCoord=forwardSegs[0].backwardCoord}
seg.backwardCoord=seg.forwardCoord-(seg.forwardCoord-seriesBackwardCoord)/(seriesBackwardPressure+1);for(i=0;i<forwardSegs.length;i++){computeSegForwardBack(forwardSegs[i],0,seg.forwardCoord,eventOrderSpecs)}}}
function sortForwardSegs(forwardSegs,eventOrderSpecs){var objs=forwardSegs.map(buildTimeGridSegCompareObj);var specs=[{field:'forwardPressure',order:-1},{field:'backwardCoord',order:1}].concat(eventOrderSpecs);objs.sort(function(obj0,obj1){return compareByFieldSpecs(obj0,obj1,specs)});return objs.map(function(c){return c._seg})}
function buildTimeGridSegCompareObj(seg){var obj=buildSegCompareObj(seg);obj.forwardPressure=seg.forwardPressure;obj.backwardCoord=seg.backwardCoord;return obj}
var DEFAULT_TIME_FORMAT=createFormatter({hour:'numeric',minute:'2-digit',meridiem:!1});var TimeColEvent=(function(_super){__extends(TimeColEvent,_super);function TimeColEvent(){return _super!==null&&_super.apply(this,arguments)||this}
TimeColEvent.prototype.render=function(){var classNames=['fc-timegrid-event','fc-v-event'];if(this.props.isCondensed){classNames.push('fc-timegrid-event-condensed')}
return(createElement(StandardEvent,__assign({},this.props,{defaultTimeFormat:DEFAULT_TIME_FORMAT,extraClassNames:classNames})))};return TimeColEvent}(BaseComponent));config.timeGridEventCondensedHeight=30;var TimeCol=(function(_super){__extends(TimeCol,_super);function TimeCol(){return _super!==null&&_super.apply(this,arguments)||this}
TimeCol.prototype.render=function(){var _this=this;var _a=this,props=_a.props,context=_a.context;var isSelectMirror=context.options.selectMirror;var mirrorSegs=(props.eventDrag&&props.eventDrag.segs)||(props.eventResize&&props.eventResize.segs)||(isSelectMirror&&props.dateSelectionSegs)||[];var interactionAffectedInstances=(props.eventDrag&&props.eventDrag.affectedInstances)||(props.eventResize&&props.eventResize.affectedInstances)||{};return(createElement(DayCellRoot,{elRef:props.elRef,date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,extraHookProps:props.extraHookProps},function(rootElRef,classNames,dataAttrs){return(createElement("td",__assign({ref:rootElRef,className:['fc-timegrid-col'].concat(classNames,props.extraClassNames||[]).join(' ')},dataAttrs,props.extraDataAttrs),createElement("div",{className:'fc-timegrid-col-frame'},createElement("div",{className:'fc-timegrid-col-bg'},_this.renderFillSegs(props.businessHourSegs,'non-business'),_this.renderFillSegs(props.bgEventSegs,'bg-event'),_this.renderFillSegs(props.dateSelectionSegs,'highlight')),createElement("div",{className:'fc-timegrid-col-events'},_this.renderFgSegs(props.fgEventSegs,interactionAffectedInstances)),createElement("div",{className:'fc-timegrid-col-events'},_this.renderFgSegs(mirrorSegs,{},Boolean(props.eventDrag),Boolean(props.eventResize),Boolean(isSelectMirror))),createElement("div",{className:'fc-timegrid-now-indicator-container'},_this.renderNowIndicator(props.nowIndicatorSegs)),createElement(TimeColMisc,{date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,extraHookProps:props.extraHookProps}))))}))};TimeCol.prototype.renderFgSegs=function(segs,segIsInvisible,isDragging,isResizing,isDateSelecting){var props=this.props;if(props.forPrint){return this.renderPrintFgSegs(segs)}else if(props.slatCoords){return this.renderPositionedFgSegs(segs,segIsInvisible,isDragging,isResizing,isDateSelecting)}};TimeCol.prototype.renderPrintFgSegs=function(segs){var props=this.props;return segs.map(function(seg){return(createElement("div",{className:'fc-timegrid-event-harness',key:seg.eventRange.instance.instanceId},createElement(TimeColEvent,__assign({seg:seg,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isCondensed:!1},getSegMeta(seg,props.todayRange,props.nowDate)))))})};TimeCol.prototype.renderPositionedFgSegs=function(segs,segIsInvisible,isDragging,isResizing,isDateSelecting){var _this=this;var _a=this,context=_a.context,props=_a.props;segs=computeSegCoords(segs,props.date,props.slatCoords,context.options.eventMinHeight,context.options.eventOrder);return segs.map(function(seg){var instanceId=seg.eventRange.instance.instanceId;var isMirror=isDragging||isResizing||isDateSelecting;var positionCss=isMirror?__assign({left:0,right:0},_this.computeSegTopBottomCss(seg)):_this.computeFgSegPositionCss(seg);return(createElement("div",{className:'fc-timegrid-event-harness'+(seg.level>0?' fc-timegrid-event-harness-inset':''),key:instanceId,style:__assign({visibility:segIsInvisible[instanceId]?'hidden':''},positionCss)},createElement(TimeColEvent,__assign({seg:seg,isDragging:isDragging,isResizing:isResizing,isDateSelecting:isDateSelecting,isSelected:instanceId===props.eventSelection,isCondensed:(seg.bottom-seg.top)<config.timeGridEventCondensedHeight},getSegMeta(seg,props.todayRange,props.nowDate)))))})};TimeCol.prototype.renderFillSegs=function(segs,fillType){var _this=this;var _a=this,context=_a.context,props=_a.props;if(!props.slatCoords){return}
computeSegVerticals(segs,props.date,props.slatCoords,context.options.eventMinHeight);var children=segs.map(function(seg){return(createElement("div",{key:buildEventRangeKey(seg.eventRange),className:'fc-timegrid-bg-harness',style:_this.computeSegTopBottomCss(seg)},fillType==='bg-event'?createElement(BgEvent,__assign({seg:seg},getSegMeta(seg,props.todayRange,props.nowDate))):renderFill(fillType)))});return createElement(Fragment,null,children)};TimeCol.prototype.renderNowIndicator=function(segs){var _a=this.props,slatCoords=_a.slatCoords,date=_a.date;if(!slatCoords){return}
return segs.map(function(seg,i){return(createElement(NowIndicatorRoot,{isAxis:!1,date:date,key:i},function(rootElRef,classNames,innerElRef,innerContent){return(createElement("div",{ref:rootElRef,className:['fc-timegrid-now-indicator-line'].concat(classNames).join(' '),style:{top:slatCoords.computeDateTop(seg.start,date)}},innerContent))}))})};TimeCol.prototype.computeFgSegPositionCss=function(seg){var _a=this.context,isRtl=_a.isRtl,options=_a.options;var shouldOverlap=options.slotEventOverlap;var backwardCoord=seg.backwardCoord;var forwardCoord=seg.forwardCoord;var left;var right;if(shouldOverlap){forwardCoord=Math.min(1,backwardCoord+(forwardCoord-backwardCoord)*2)}
if(isRtl){left=1-forwardCoord;right=backwardCoord}else{left=backwardCoord;right=1-forwardCoord}
var props={zIndex:seg.level+1,left:left*100+'%',right:right*100+'%'};if(shouldOverlap&&seg.forwardPressure){props[isRtl?'marginLeft':'marginRight']=10*2}
return __assign(__assign({},props),this.computeSegTopBottomCss(seg))};TimeCol.prototype.computeSegTopBottomCss=function(seg){return{top:seg.top,bottom:-seg.bottom}};return TimeCol}(BaseComponent));var TimeColMisc=(function(_super){__extends(TimeColMisc,_super);function TimeColMisc(){return _super!==null&&_super.apply(this,arguments)||this}
TimeColMisc.prototype.render=function(){var props=this.props;return(createElement(DayCellContent,{date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,extraHookProps:props.extraHookProps},function(innerElRef,innerContent){return(innerContent&&createElement("div",{className:'fc-timegrid-col-misc',ref:innerElRef},innerContent))}))};return TimeColMisc}(BaseComponent));var TimeColsContent=(function(_super){__extends(TimeColsContent,_super);function TimeColsContent(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.splitFgEventSegs=memoize(splitSegsByCol);_this.splitBgEventSegs=memoize(splitSegsByCol);_this.splitBusinessHourSegs=memoize(splitSegsByCol);_this.splitNowIndicatorSegs=memoize(splitSegsByCol);_this.splitDateSelectionSegs=memoize(splitSegsByCol);_this.splitEventDrag=memoize(splitInteractionByCol);_this.splitEventResize=memoize(splitInteractionByCol);_this.rootElRef=createRef();_this.cellElRefs=new RefMap();return _this}
TimeColsContent.prototype.render=function(){var _this=this;var _a=this,props=_a.props,context=_a.context;var nowIndicatorTop=context.options.nowIndicator&&props.slatCoords&&props.slatCoords.safeComputeTop(props.nowDate);var colCnt=props.cells.length;var fgEventSegsByRow=this.splitFgEventSegs(props.fgEventSegs,colCnt);var bgEventSegsByRow=this.splitBgEventSegs(props.bgEventSegs,colCnt);var businessHourSegsByRow=this.splitBusinessHourSegs(props.businessHourSegs,colCnt);var nowIndicatorSegsByRow=this.splitNowIndicatorSegs(props.nowIndicatorSegs,colCnt);var dateSelectionSegsByRow=this.splitDateSelectionSegs(props.dateSelectionSegs,colCnt);var eventDragByRow=this.splitEventDrag(props.eventDrag,colCnt);var eventResizeByRow=this.splitEventResize(props.eventResize,colCnt);return(createElement("div",{className:'fc-timegrid-cols',ref:this.rootElRef},createElement("table",{style:{minWidth:props.tableMinWidth,width:props.clientWidth}},props.tableColGroupNode,createElement("tbody",null,createElement("tr",null,props.axis&&createElement("td",{className:'fc-timegrid-col fc-timegrid-axis'},createElement("div",{className:'fc-timegrid-col-frame'},createElement("div",{className:'fc-timegrid-now-indicator-container'},typeof nowIndicatorTop==='number'&&createElement(NowIndicatorRoot,{isAxis:!0,date:props.nowDate},function(rootElRef,classNames,innerElRef,innerContent){return(createElement("div",{ref:rootElRef,className:['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '),style:{top:nowIndicatorTop}},innerContent))})))),props.cells.map(function(cell,i){return(createElement(TimeCol,{key:cell.key,elRef:_this.cellElRefs.createRef(cell.key),dateProfile:props.dateProfile,date:cell.date,nowDate:props.nowDate,todayRange:props.todayRange,extraHookProps:cell.extraHookProps,extraDataAttrs:cell.extraDataAttrs,extraClassNames:cell.extraClassNames,fgEventSegs:fgEventSegsByRow[i],bgEventSegs:bgEventSegsByRow[i],businessHourSegs:businessHourSegsByRow[i],nowIndicatorSegs:nowIndicatorSegsByRow[i],dateSelectionSegs:dateSelectionSegsByRow[i],eventDrag:eventDragByRow[i],eventResize:eventResizeByRow[i],slatCoords:props.slatCoords,eventSelection:props.eventSelection,forPrint:props.forPrint}))}))))))};TimeColsContent.prototype.componentDidMount=function(){this.updateCoords()};TimeColsContent.prototype.componentDidUpdate=function(){this.updateCoords()};TimeColsContent.prototype.updateCoords=function(){var props=this.props;if(props.onColCoords&&props.clientWidth!==null){props.onColCoords(new PositionCache(this.rootElRef.current,collectCellEls(this.cellElRefs.currentMap,props.cells),!0,!1))}};return TimeColsContent}(BaseComponent));function collectCellEls(elMap,cells){return cells.map(function(cell){return elMap[cell.key]})}
var TimeCols=(function(_super){__extends(TimeCols,_super);function TimeCols(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.processSlotOptions=memoize(processSlotOptions);_this.state={slatCoords:null};_this.handleScrollRequest=function(request){var onScrollTopRequest=_this.props.onScrollTopRequest;var slatCoords=_this.state.slatCoords;if(onScrollTopRequest&&slatCoords){if(request.time){var top_1=slatCoords.computeTimeTop(request.time);top_1=Math.ceil(top_1);if(top_1){top_1++}
onScrollTopRequest(top_1)}
return!0}};_this.handleColCoords=function(colCoords){_this.colCoords=colCoords};_this.handleSlatCoords=function(slatCoords){_this.setState({slatCoords:slatCoords});if(_this.props.onSlatCoords){_this.props.onSlatCoords(slatCoords)}};return _this}
TimeCols.prototype.render=function(){var _a=this,props=_a.props,state=_a.state;return(createElement("div",{className:'fc-timegrid-body',ref:props.rootElRef,style:{width:props.clientWidth,minWidth:props.tableMinWidth}},createElement(TimeColsSlats,{axis:props.axis,dateProfile:props.dateProfile,slatMetas:props.slatMetas,clientWidth:props.clientWidth,minHeight:props.expandRows?props.clientHeight:'',tableMinWidth:props.tableMinWidth,tableColGroupNode:props.axis?props.tableColGroupNode:null,onCoords:this.handleSlatCoords}),createElement(TimeColsContent,{cells:props.cells,axis:props.axis,dateProfile:props.dateProfile,businessHourSegs:props.businessHourSegs,bgEventSegs:props.bgEventSegs,fgEventSegs:props.fgEventSegs,dateSelectionSegs:props.dateSelectionSegs,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,todayRange:props.todayRange,nowDate:props.nowDate,nowIndicatorSegs:props.nowIndicatorSegs,clientWidth:props.clientWidth,tableMinWidth:props.tableMinWidth,tableColGroupNode:props.tableColGroupNode,slatCoords:state.slatCoords,onColCoords:this.handleColCoords,forPrint:props.forPrint})))};TimeCols.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)};TimeCols.prototype.componentDidUpdate=function(prevProps){this.scrollResponder.update(prevProps.dateProfile!==this.props.dateProfile)};TimeCols.prototype.componentWillUnmount=function(){this.scrollResponder.detach()};TimeCols.prototype.positionToHit=function(positionLeft,positionTop){var _a=this.context,dateEnv=_a.dateEnv,options=_a.options;var colCoords=this.colCoords;var dateProfile=this.props.dateProfile;var slatCoords=this.state.slatCoords;var _b=this.processSlotOptions(this.props.slotDuration,options.snapDuration),snapDuration=_b.snapDuration,snapsPerSlot=_b.snapsPerSlot;var colIndex=colCoords.leftToIndex(positionLeft);var slatIndex=slatCoords.positions.topToIndex(positionTop);if(colIndex!=null&&slatIndex!=null){var slatTop=slatCoords.positions.tops[slatIndex];var slatHeight=slatCoords.positions.getHeight(slatIndex);var partial=(positionTop-slatTop)/slatHeight;var localSnapIndex=Math.floor(partial*snapsPerSlot);var snapIndex=slatIndex*snapsPerSlot+localSnapIndex;var dayDate=this.props.cells[colIndex].date;var time=addDurations(dateProfile.slotMinTime,multiplyDuration(snapDuration,snapIndex));var start=dateEnv.add(dayDate,time);var end=dateEnv.add(start,snapDuration);return{col:colIndex,dateSpan:{range:{start:start,end:end},allDay:!1},dayEl:colCoords.els[colIndex],relativeRect:{left:colCoords.lefts[colIndex],right:colCoords.rights[colIndex],top:slatTop,bottom:slatTop+slatHeight}}}};return TimeCols}(BaseComponent));function processSlotOptions(slotDuration,snapDurationOverride){var snapDuration=snapDurationOverride||slotDuration;var snapsPerSlot=wholeDivideDurations(slotDuration,snapDuration);if(snapsPerSlot===null){snapDuration=slotDuration;snapsPerSlot=1}
return{snapDuration:snapDuration,snapsPerSlot:snapsPerSlot}}
var DayTimeCols=(function(_super){__extends(DayTimeCols,_super);function DayTimeCols(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.buildDayRanges=memoize(buildDayRanges);_this.slicer=new DayTimeColsSlicer();_this.timeColsRef=createRef();_this.handleRootEl=function(rootEl){if(rootEl){_this.context.registerInteractiveComponent(_this,{el:rootEl})}else{_this.context.unregisterInteractiveComponent(_this)}};return _this}
DayTimeCols.prototype.render=function(){var _this=this;var _a=this,props=_a.props,context=_a.context;var dateProfile=props.dateProfile,dayTableModel=props.dayTableModel;var isNowIndicator=context.options.nowIndicator;var dayRanges=this.buildDayRanges(dayTableModel,dateProfile,context.dateEnv);return(createElement(NowTimer,{unit:isNowIndicator?'minute':'day'},function(nowDate,todayRange){return(createElement(TimeCols,__assign({ref:_this.timeColsRef,rootElRef:_this.handleRootEl},_this.slicer.sliceProps(props,dateProfile,null,context,dayRanges),{forPrint:props.forPrint,axis:props.axis,dateProfile:dateProfile,slatMetas:props.slatMetas,slotDuration:props.slotDuration,cells:dayTableModel.cells[0],tableColGroupNode:props.tableColGroupNode,tableMinWidth:props.tableMinWidth,clientWidth:props.clientWidth,clientHeight:props.clientHeight,expandRows:props.expandRows,nowDate:nowDate,nowIndicatorSegs:isNowIndicator&&_this.slicer.sliceNowDate(nowDate,context,dayRanges),todayRange:todayRange,onScrollTopRequest:props.onScrollTopRequest,onSlatCoords:props.onSlatCoords})))}))};DayTimeCols.prototype.queryHit=function(positionLeft,positionTop){var rawHit=this.timeColsRef.current.positionToHit(positionLeft,positionTop);if(rawHit){return{component:this,dateSpan:rawHit.dateSpan,dayEl:rawHit.dayEl,rect:{left:rawHit.relativeRect.left,right:rawHit.relativeRect.right,top:rawHit.relativeRect.top,bottom:rawHit.relativeRect.bottom},layer:0}}};return DayTimeCols}(DateComponent));function buildDayRanges(dayTableModel,dateProfile,dateEnv){var ranges=[];for(var _i=0,_a=dayTableModel.headerDates;_i<_a.length;_i++){var date=_a[_i];ranges.push({start:dateEnv.add(date,dateProfile.slotMinTime),end:dateEnv.add(date,dateProfile.slotMaxTime)})}
return ranges}
var DayTimeColsSlicer=(function(_super){__extends(DayTimeColsSlicer,_super);function DayTimeColsSlicer(){return _super!==null&&_super.apply(this,arguments)||this}
DayTimeColsSlicer.prototype.sliceRange=function(range,dayRanges){var segs=[];for(var col=0;col<dayRanges.length;col++){var segRange=intersectRanges(range,dayRanges[col]);if(segRange){segs.push({start:segRange.start,end:segRange.end,isStart:segRange.start.valueOf()===range.start.valueOf(),isEnd:segRange.end.valueOf()===range.end.valueOf(),col:col})}}
return segs};return DayTimeColsSlicer}(Slicer));var DayTimeColsView=(function(_super){__extends(DayTimeColsView,_super);function DayTimeColsView(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.buildTimeColsModel=memoize(buildTimeColsModel);_this.buildSlatMetas=memoize(buildSlatMetas);return _this}
DayTimeColsView.prototype.render=function(){var _this=this;var _a=this.context,options=_a.options,dateEnv=_a.dateEnv,dateProfileGenerator=_a.dateProfileGenerator;var props=this.props;var dateProfile=props.dateProfile;var dayTableModel=this.buildTimeColsModel(dateProfile,dateProfileGenerator);var splitProps=this.allDaySplitter.splitProps(props);var slatMetas=this.buildSlatMetas(dateProfile.slotMinTime,dateProfile.slotMaxTime,options.slotLabelInterval,options.slotDuration,dateEnv);var dayMinWidth=options.dayMinWidth;var hasAttachedAxis=!dayMinWidth;var hasDetachedAxis=dayMinWidth;var headerContent=options.dayHeaders&&createElement(DayHeader,{dates:dayTableModel.headerDates,dateProfile:dateProfile,datesRepDistinctDays:!0,renderIntro:hasAttachedAxis?this.renderHeadAxis:null});var allDayContent=(options.allDaySlot!==!1)&&(function(contentArg){return(createElement(DayTable,__assign({},splitProps.allDay,{dateProfile:dateProfile,dayTableModel:dayTableModel,nextDayThreshold:options.nextDayThreshold,tableMinWidth:contentArg.tableMinWidth,colGroupNode:contentArg.tableColGroupNode,renderRowIntro:hasAttachedAxis?_this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:_this.headerElRef,clientWidth:contentArg.clientWidth,clientHeight:contentArg.clientHeight,forPrint:props.forPrint},_this.getAllDayMaxEventProps())))});var timeGridContent=function(contentArg){return(createElement(DayTimeCols,__assign({},splitProps.timed,{dayTableModel:dayTableModel,dateProfile:dateProfile,axis:hasAttachedAxis,slotDuration:options.slotDuration,slatMetas:slatMetas,forPrint:props.forPrint,tableColGroupNode:contentArg.tableColGroupNode,tableMinWidth:contentArg.tableMinWidth,clientWidth:contentArg.clientWidth,clientHeight:contentArg.clientHeight,onSlatCoords:_this.handleSlatCoords,expandRows:contentArg.expandRows,onScrollTopRequest:_this.handleScrollTopRequest})))};return hasDetachedAxis?this.renderHScrollLayout(headerContent,allDayContent,timeGridContent,dayTableModel.colCnt,dayMinWidth,slatMetas,this.state.slatCoords):this.renderSimpleLayout(headerContent,allDayContent,timeGridContent)};return DayTimeColsView}(TimeColsView));function buildTimeColsModel(dateProfile,dateProfileGenerator){var daySeries=new DaySeriesModel(dateProfile.renderRange,dateProfileGenerator);return new DayTableModel(daySeries,!1)}
var OPTION_REFINERS$1={allDaySlot:Boolean};var timeGridPlugin=createPlugin({initialView:'timeGridWeek',optionRefiners:OPTION_REFINERS$1,views:{timeGrid:{component:DayTimeColsView,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:'00:30:00',slotEventOverlap:!0},timeGridDay:{type:'timeGrid',duration:{days:1}},timeGridWeek:{type:'timeGrid',duration:{weeks:1}}}});var ListViewHeaderRow=(function(_super){__extends(ListViewHeaderRow,_super);function ListViewHeaderRow(){return _super!==null&&_super.apply(this,arguments)||this}
ListViewHeaderRow.prototype.render=function(){var _a=this.props,dayDate=_a.dayDate,todayRange=_a.todayRange;var _b=this.context,theme=_b.theme,dateEnv=_b.dateEnv,options=_b.options,viewApi=_b.viewApi;var dayMeta=getDateMeta(dayDate,todayRange);var text=options.listDayFormat?dateEnv.format(dayDate,options.listDayFormat):'';var sideText=options.listDaySideFormat?dateEnv.format(dayDate,options.listDaySideFormat):'';var navLinkData=options.navLinks?buildNavLinkData(dayDate):null;var hookProps=__assign({date:dateEnv.toDate(dayDate),view:viewApi,text:text,sideText:sideText,navLinkData:navLinkData},dayMeta);var classNames=['fc-list-day'].concat(getDayClassNames(dayMeta,theme));return(createElement(RenderHook,{hookProps:hookProps,classNames:options.dayHeaderClassNames,content:options.dayHeaderContent,defaultContent:renderInnerContent$4,didMount:options.dayHeaderDidMount,willUnmount:options.dayHeaderWillUnmount},function(rootElRef,customClassNames,innerElRef,innerContent){return(createElement("tr",{ref:rootElRef,className:classNames.concat(customClassNames).join(' '),"data-date":formatDayString(dayDate)},createElement("th",{colSpan:3},createElement("div",{className:'fc-list-day-cushion '+theme.getClass('tableCellShaded'),ref:innerElRef},innerContent))))}))};return ListViewHeaderRow}(BaseComponent));function renderInnerContent$4(props){var navLinkAttrs=props.navLinkData?{'data-navlink':props.navLinkData,tabIndex:0}:{};return(createElement(Fragment,null,props.text&&createElement("a",__assign({className:'fc-list-day-text'},navLinkAttrs),props.text),props.sideText&&createElement("a",__assign({className:'fc-list-day-side-text'},navLinkAttrs),props.sideText)))}
var DEFAULT_TIME_FORMAT$1=createFormatter({hour:'numeric',minute:'2-digit',meridiem:'short'});var ListViewEventRow=(function(_super){__extends(ListViewEventRow,_super);function ListViewEventRow(){return _super!==null&&_super.apply(this,arguments)||this}
ListViewEventRow.prototype.render=function(){var _a=this,props=_a.props,context=_a.context;var seg=props.seg;var timeFormat=context.options.eventTimeFormat||DEFAULT_TIME_FORMAT$1;return(createElement(EventRoot,{seg:seg,timeText:'',disableDragging:!0,disableResizing:!0,defaultContent:renderEventInnerContent,isPast:props.isPast,isFuture:props.isFuture,isToday:props.isToday,isSelected:props.isSelected,isDragging:props.isDragging,isResizing:props.isResizing,isDateSelecting:props.isDateSelecting},function(rootElRef,classNames,innerElRef,innerContent,hookProps){return(createElement("tr",{className:['fc-list-event',hookProps.event.url?'fc-event-forced-url':''].concat(classNames).join(' '),ref:rootElRef},buildTimeContent(seg,timeFormat,context),createElement("td",{className:'fc-list-event-graphic'},createElement("span",{className:'fc-list-event-dot',style:{borderColor:hookProps.borderColor||hookProps.backgroundColor}})),createElement("td",{className:'fc-list-event-title',ref:innerElRef},innerContent)))}))};return ListViewEventRow}(BaseComponent));function renderEventInnerContent(props){var event=props.event;var url=event.url;var anchorAttrs=url?{href:url}:{};return(createElement("a",__assign({},anchorAttrs),event.title))}
function buildTimeContent(seg,timeFormat,context){var options=context.options;if(options.displayEventTime!==!1){var eventDef=seg.eventRange.def;var eventInstance=seg.eventRange.instance;var doAllDay=!1;var timeText=void 0;if(eventDef.allDay){doAllDay=!0}else if(isMultiDayRange(seg.eventRange.range)){if(seg.isStart){timeText=buildSegTimeText(seg,timeFormat,context,null,null,eventInstance.range.start,seg.end)}else if(seg.isEnd){timeText=buildSegTimeText(seg,timeFormat,context,null,null,seg.start,eventInstance.range.end)}else{doAllDay=!0}}else{timeText=buildSegTimeText(seg,timeFormat,context)}
if(doAllDay){var hookProps={text:context.options.allDayText,view:context.viewApi};return(createElement(RenderHook,{hookProps:hookProps,classNames:options.allDayClassNames,content:options.allDayContent,defaultContent:renderAllDayInner$1,didMount:options.allDayDidMount,willUnmount:options.allDayWillUnmount},function(rootElRef,classNames,innerElRef,innerContent){return(createElement("td",{className:['fc-list-event-time'].concat(classNames).join(' '),ref:rootElRef},innerContent))}))}else{return(createElement("td",{className:'fc-list-event-time'},timeText))}}
return null}
function renderAllDayInner$1(hookProps){return hookProps.text}
var ListView=(function(_super){__extends(ListView,_super);function ListView(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.computeDateVars=memoize(computeDateVars);_this.eventStoreToSegs=memoize(_this._eventStoreToSegs);_this.setRootEl=function(rootEl){if(rootEl){_this.context.registerInteractiveComponent(_this,{el:rootEl})}else{_this.context.unregisterInteractiveComponent(_this)}};return _this}
ListView.prototype.render=function(){var _this=this;var _a=this,props=_a.props,context=_a.context;var extraClassNames=['fc-list',context.theme.getClass('table'),context.options.stickyHeaderDates!==!1?'fc-list-sticky':''];var _b=this.computeDateVars(props.dateProfile),dayDates=_b.dayDates,dayRanges=_b.dayRanges;var eventSegs=this.eventStoreToSegs(props.eventStore,props.eventUiBases,dayRanges);return(createElement(ViewRoot,{viewSpec:context.viewSpec,elRef:this.setRootEl},function(rootElRef,classNames){return(createElement("div",{ref:rootElRef,className:extraClassNames.concat(classNames).join(' ')},createElement(Scroller,{liquid:!props.isHeightAuto,overflowX:props.isHeightAuto?'visible':'hidden',overflowY:props.isHeightAuto?'visible':'auto'},eventSegs.length>0?_this.renderSegList(eventSegs,dayDates):_this.renderEmptyMessage())))}))};ListView.prototype.renderEmptyMessage=function(){var _a=this.context,options=_a.options,viewApi=_a.viewApi;var hookProps={text:options.noEventsText,view:viewApi};return(createElement(RenderHook,{hookProps:hookProps,classNames:options.noEventsClassNames,content:options.noEventsContent,defaultContent:renderNoEventsInner,didMount:options.noEventsDidMount,willUnmount:options.noEventsWillUnmount},function(rootElRef,classNames,innerElRef,innerContent){return(createElement("div",{className:['fc-list-empty'].concat(classNames).join(' '),ref:rootElRef},createElement("div",{className:'fc-list-empty-cushion',ref:innerElRef},innerContent)))}))};ListView.prototype.renderSegList=function(allSegs,dayDates){var _a=this.context,theme=_a.theme,options=_a.options;var segsByDay=groupSegsByDay(allSegs);return(createElement(NowTimer,{unit:'day'},function(nowDate,todayRange){var innerNodes=[];for(var dayIndex=0;dayIndex<segsByDay.length;dayIndex++){var daySegs=segsByDay[dayIndex];if(daySegs){var dayStr=dayDates[dayIndex].toISOString();innerNodes.push(createElement(ListViewHeaderRow,{key:dayStr,dayDate:dayDates[dayIndex],todayRange:todayRange}));daySegs=sortEventSegs(daySegs,options.eventOrder);for(var _i=0,daySegs_1=daySegs;_i<daySegs_1.length;_i++){var seg=daySegs_1[_i];innerNodes.push(createElement(ListViewEventRow,__assign({key:dayStr+':'+seg.eventRange.instance.instanceId,seg:seg,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1},getSegMeta(seg,todayRange,nowDate))))}}}
return(createElement("table",{className:'fc-list-table '+theme.getClass('table')},createElement("tbody",null,innerNodes)))}))};ListView.prototype._eventStoreToSegs=function(eventStore,eventUiBases,dayRanges){return this.eventRangesToSegs(sliceEventStore(eventStore,eventUiBases,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,dayRanges)};ListView.prototype.eventRangesToSegs=function(eventRanges,dayRanges){var segs=[];for(var _i=0,eventRanges_1=eventRanges;_i<eventRanges_1.length;_i++){var eventRange=eventRanges_1[_i];segs.push.apply(segs,this.eventRangeToSegs(eventRange,dayRanges))}
return segs};ListView.prototype.eventRangeToSegs=function(eventRange,dayRanges){var dateEnv=this.context.dateEnv;var nextDayThreshold=this.context.options.nextDayThreshold;var range=eventRange.range;var allDay=eventRange.def.allDay;var dayIndex;var segRange;var seg;var segs=[];for(dayIndex=0;dayIndex<dayRanges.length;dayIndex++){segRange=intersectRanges(range,dayRanges[dayIndex]);if(segRange){seg={component:this,eventRange:eventRange,start:segRange.start,end:segRange.end,isStart:eventRange.isStart&&segRange.start.valueOf()===range.start.valueOf(),isEnd:eventRange.isEnd&&segRange.end.valueOf()===range.end.valueOf(),dayIndex:dayIndex};segs.push(seg);if(!seg.isEnd&&!allDay&&dayIndex+1<dayRanges.length&&range.end<dateEnv.add(dayRanges[dayIndex+1].start,nextDayThreshold)){seg.end=range.end;seg.isEnd=!0;break}}}
return segs};return ListView}(DateComponent));function renderNoEventsInner(hookProps){return hookProps.text}
function computeDateVars(dateProfile){var dayStart=startOfDay(dateProfile.renderRange.start);var viewEnd=dateProfile.renderRange.end;var dayDates=[];var dayRanges=[];while(dayStart<viewEnd){dayDates.push(dayStart);dayRanges.push({start:dayStart,end:addDays(dayStart,1)});dayStart=addDays(dayStart,1)}
return{dayDates:dayDates,dayRanges:dayRanges}}
function groupSegsByDay(segs){var segsByDay=[];var i;var seg;for(i=0;i<segs.length;i++){seg=segs[i];(segsByDay[seg.dayIndex]||(segsByDay[seg.dayIndex]=[])).push(seg)}
return segsByDay}
var OPTION_REFINERS$2={listDayFormat:createFalsableFormatter,listDaySideFormat:createFalsableFormatter,noEventsClassNames:identity,noEventsContent:identity,noEventsDidMount:identity,noEventsWillUnmount:identity};function createFalsableFormatter(input){return input===!1?null:createFormatter(input)}
var listPlugin=createPlugin({optionRefiners:OPTION_REFINERS$2,views:{list:{component:ListView,buttonTextKey:'list',listDayFormat:{month:'long',day:'numeric',year:'numeric'}},listDay:{type:'list',duration:{days:1},listDayFormat:{weekday:'long'}},listWeek:{type:'list',duration:{weeks:1},listDayFormat:{weekday:'long'},listDaySideFormat:{month:'long',day:'numeric',year:'numeric'}},listMonth:{type:'list',duration:{month:1},listDaySideFormat:{weekday:'long'}},listYear:{type:'list',duration:{year:1},listDaySideFormat:{weekday:'long'}}}});var BootstrapTheme=(function(_super){__extends(BootstrapTheme,_super);function BootstrapTheme(){return _super!==null&&_super.apply(this,arguments)||this}
return BootstrapTheme}(Theme));BootstrapTheme.prototype.classes={root:'fc-theme-bootstrap',table:'table-bordered',tableCellShaded:'table-active',buttonGroup:'btn-group',button:'btn btn-primary',buttonActive:'active',popover:'popover',popoverHeader:'popover-header',popoverContent:'popover-body'};BootstrapTheme.prototype.baseIconClass='fa';BootstrapTheme.prototype.iconClasses={close:'fa-times',prev:'fa-chevron-left',next:'fa-chevron-right',prevYear:'fa-angle-double-left',nextYear:'fa-angle-double-right'};BootstrapTheme.prototype.rtlIconClasses={prev:'fa-chevron-right',next:'fa-chevron-left',prevYear:'fa-angle-double-right',nextYear:'fa-angle-double-left'};BootstrapTheme.prototype.iconOverrideOption='bootstrapFontAwesome';BootstrapTheme.prototype.iconOverrideCustomButtonOption='bootstrapFontAwesome';BootstrapTheme.prototype.iconOverridePrefix='fa-';var plugin=createPlugin({themeClasses:{bootstrap:BootstrapTheme}});var OPTION_REFINERS$3={googleCalendarApiKey:String};var EVENT_SOURCE_REFINERS$1={googleCalendarApiKey:String,googleCalendarId:String,googleCalendarApiBase:String,extraParams:identity};var API_BASE='https://www.googleapis.com/calendar/v3/calendars';var eventSourceDef$3={parseMeta:function(refined){var googleCalendarId=refined.googleCalendarId;if(!googleCalendarId&&refined.url){googleCalendarId=parseGoogleCalendarId(refined.url)}
if(googleCalendarId){return{googleCalendarId:googleCalendarId,googleCalendarApiKey:refined.googleCalendarApiKey,googleCalendarApiBase:refined.googleCalendarApiBase,extraParams:refined.extraParams}}
return null},fetch:function(arg,onSuccess,onFailure){var _a=arg.context,dateEnv=_a.dateEnv,options=_a.options;var meta=arg.eventSource.meta;var apiKey=meta.googleCalendarApiKey||options.googleCalendarApiKey;if(!apiKey){onFailure({message:'Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/'})}else{var url=buildUrl(meta);var extraParams=meta.extraParams;var extraParamsObj=typeof extraParams==='function'?extraParams():extraParams;var requestParams_1=buildRequestParams$1(arg.range,apiKey,extraParamsObj,dateEnv);requestJson('GET',url,requestParams_1,function(body,xhr){if(body.error){onFailure({message:'Google Calendar API: '+body.error.message,errors:body.error.errors,xhr:xhr})}else{onSuccess({rawEvents:gcalItemsToRawEventDefs(body.items,requestParams_1.timeZone),xhr:xhr})}},function(message,xhr){onFailure({message:message,xhr:xhr})})}}};function parseGoogleCalendarId(url){var match;if(/^[^/]+@([^/.]+\.)*(google|googlemail|gmail)\.com$/.test(url)){return url}else if((match=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^/]*)/.exec(url))||(match=/^https?:\/\/www.google.com\/calendar\/feeds\/([^/]*)/.exec(url))){return decodeURIComponent(match[1])}}
function buildUrl(meta){var apiBase=meta.googleCalendarApiBase;if(!apiBase){apiBase=API_BASE}
return apiBase+'/'+encodeURIComponent(meta.googleCalendarId)+'/events'}
function buildRequestParams$1(range,apiKey,extraParams,dateEnv){var params;var startStr;var endStr;if(dateEnv.canComputeOffset){startStr=dateEnv.formatIso(range.start);endStr=dateEnv.formatIso(range.end)}else{startStr=addDays(range.start,-1).toISOString();endStr=addDays(range.end,1).toISOString()}
params=__assign(__assign({},(extraParams||{})),{key:apiKey,timeMin:startStr,timeMax:endStr,singleEvents:!0,maxResults:9999});if(dateEnv.timeZone!=='local'){params.timeZone=dateEnv.timeZone}
return params}
function gcalItemsToRawEventDefs(items,gcalTimezone){return items.map(function(item){return gcalItemToRawEventDef(item,gcalTimezone)})}
function gcalItemToRawEventDef(item,gcalTimezone){var url=item.htmlLink||null;if(url&&gcalTimezone){url=injectQsComponent(url,'ctz='+gcalTimezone)}
return{id:item.id,title:item.summary,start:item.start.dateTime||item.start.date,end:item.end.dateTime||item.end.date,url:url,location:item.location,description:item.description}}
function injectQsComponent(url,component){return url.replace(/(\?.*?)?(#|$)/,function(whole,qs,hash){return(qs?qs+'&':'?')+component+hash})}
var googleCalendarPlugin=createPlugin({eventSourceDefs:[eventSourceDef$3],optionRefiners:OPTION_REFINERS$3,eventSourceRefiners:EVENT_SOURCE_REFINERS$1});globalPlugins.push(interactionPlugin,dayGridPlugin,timeGridPlugin,listPlugin,plugin,googleCalendarPlugin);exports.BASE_OPTION_DEFAULTS=BASE_OPTION_DEFAULTS;exports.BASE_OPTION_REFINERS=BASE_OPTION_REFINERS;exports.BaseComponent=BaseComponent;exports.BgEvent=BgEvent;exports.BootstrapTheme=BootstrapTheme;exports.Calendar=Calendar;exports.CalendarApi=CalendarApi;exports.CalendarContent=CalendarContent;exports.CalendarDataManager=CalendarDataManager;exports.CalendarDataProvider=CalendarDataProvider;exports.CalendarRoot=CalendarRoot;exports.Component=Component;exports.ContentHook=ContentHook;exports.CustomContentRenderContext=CustomContentRenderContext;exports.DateComponent=DateComponent;exports.DateEnv=DateEnv;exports.DateProfileGenerator=DateProfileGenerator;exports.DayCellContent=DayCellContent;exports.DayCellRoot=DayCellRoot;exports.DayGridView=DayTableView;exports.DayHeader=DayHeader;exports.DaySeriesModel=DaySeriesModel;exports.DayTable=DayTable;exports.DayTableModel=DayTableModel;exports.DayTableSlicer=DayTableSlicer;exports.DayTimeCols=DayTimeCols;exports.DayTimeColsSlicer=DayTimeColsSlicer;exports.DayTimeColsView=DayTimeColsView;exports.DelayedRunner=DelayedRunner;exports.Draggable=ExternalDraggable;exports.ElementDragging=ElementDragging;exports.ElementScrollController=ElementScrollController;exports.Emitter=Emitter;exports.EventApi=EventApi;exports.EventRoot=EventRoot;exports.EventSourceApi=EventSourceApi;exports.FeaturefulElementDragging=FeaturefulElementDragging;exports.Fragment=Fragment;exports.Interaction=Interaction;exports.ListView=ListView;exports.MountHook=MountHook;exports.NamedTimeZoneImpl=NamedTimeZoneImpl;exports.NowIndicatorRoot=NowIndicatorRoot;exports.NowTimer=NowTimer;exports.PointerDragging=PointerDragging;exports.PositionCache=PositionCache;exports.RefMap=RefMap;exports.RenderHook=RenderHook;exports.ScrollController=ScrollController;exports.ScrollResponder=ScrollResponder;exports.Scroller=Scroller;exports.SimpleScrollGrid=SimpleScrollGrid;exports.Slicer=Slicer;exports.Splitter=Splitter;exports.StandardEvent=StandardEvent;exports.Table=Table;exports.TableDateCell=TableDateCell;exports.TableDowCell=TableDowCell;exports.TableView=TableView;exports.Theme=Theme;exports.ThirdPartyDraggable=ThirdPartyDraggable;exports.TimeCols=TimeCols;exports.TimeColsSlatsCoords=TimeColsSlatsCoords;exports.TimeColsView=TimeColsView;exports.ViewApi=ViewApi;exports.ViewContextType=ViewContextType;exports.ViewRoot=ViewRoot;exports.WeekNumberRoot=WeekNumberRoot;exports.WindowScrollController=WindowScrollController;exports.addDays=addDays;exports.addDurations=addDurations;exports.addMs=addMs;exports.addWeeks=addWeeks;exports.allowContextMenu=allowContextMenu;exports.allowSelection=allowSelection;exports.applyMutationToEventStore=applyMutationToEventStore;exports.applyStyle=applyStyle;exports.applyStyleProp=applyStyleProp;exports.asRoughMinutes=asRoughMinutes;exports.asRoughMs=asRoughMs;exports.asRoughSeconds=asRoughSeconds;exports.buildClassNameNormalizer=buildClassNameNormalizer;exports.buildDayRanges=buildDayRanges;exports.buildDayTableModel=buildDayTableModel;exports.buildEventApis=buildEventApis;exports.buildEventRangeKey=buildEventRangeKey;exports.buildHashFromArray=buildHashFromArray;exports.buildNavLinkData=buildNavLinkData;exports.buildSegCompareObj=buildSegCompareObj;exports.buildSegTimeText=buildSegTimeText;exports.buildSlatMetas=buildSlatMetas;exports.buildTimeColsModel=buildTimeColsModel;exports.collectFromHash=collectFromHash;exports.combineEventUis=combineEventUis;exports.compareByFieldSpec=compareByFieldSpec;exports.compareByFieldSpecs=compareByFieldSpecs;exports.compareNumbers=compareNumbers;exports.compareObjs=compareObjs;exports.computeEdges=computeEdges;exports.computeFallbackHeaderFormat=computeFallbackHeaderFormat;exports.computeHeightAndMargins=computeHeightAndMargins;exports.computeInnerRect=computeInnerRect;exports.computeRect=computeRect;exports.computeSegDraggable=computeSegDraggable;exports.computeSegEndResizable=computeSegEndResizable;exports.computeSegStartResizable=computeSegStartResizable;exports.computeShrinkWidth=computeShrinkWidth;exports.computeSmallestCellWidth=computeSmallestCellWidth;exports.computeVisibleDayRange=computeVisibleDayRange;exports.config=config;exports.constrainPoint=constrainPoint;exports.createContext=createContext$1;exports.createDuration=createDuration;exports.createElement=createElement;exports.createEmptyEventStore=createEmptyEventStore;exports.createEventInstance=createEventInstance;exports.createEventUi=createEventUi;exports.createFormatter=createFormatter;exports.createPlugin=createPlugin;exports.createRef=createRef;exports.diffDates=diffDates;exports.diffDayAndTime=diffDayAndTime;exports.diffDays=diffDays;exports.diffPoints=diffPoints;exports.diffWeeks=diffWeeks;exports.diffWholeDays=diffWholeDays;exports.diffWholeWeeks=diffWholeWeeks;exports.disableCursor=disableCursor;exports.elementClosest=elementClosest;exports.elementMatches=elementMatches;exports.enableCursor=enableCursor;exports.eventTupleToStore=eventTupleToStore;exports.filterEventStoreDefs=filterEventStoreDefs;exports.filterHash=filterHash;exports.findDirectChildren=findDirectChildren;exports.findElements=findElements;exports.flexibleCompare=flexibleCompare;exports.flushToDom=flushToDom$1;exports.formatDate=formatDate;exports.formatDayString=formatDayString;exports.formatIsoTimeString=formatIsoTimeString;exports.formatRange=formatRange;exports.getAllowYScrolling=getAllowYScrolling;exports.getClippingParents=getClippingParents;exports.getDateMeta=getDateMeta;exports.getDayClassNames=getDayClassNames;exports.getDefaultEventEnd=getDefaultEventEnd;exports.getElSeg=getElSeg;exports.getEventClassNames=getEventClassNames;exports.getIsRtlScrollbarOnLeft=getIsRtlScrollbarOnLeft;exports.getRectCenter=getRectCenter;exports.getRelevantEvents=getRelevantEvents;exports.getScrollGridClassNames=getScrollGridClassNames;exports.getScrollbarWidths=getScrollbarWidths;exports.getSectionClassNames=getSectionClassNames;exports.getSectionHasLiquidHeight=getSectionHasLiquidHeight;exports.getSegMeta=getSegMeta;exports.getSlotClassNames=getSlotClassNames;exports.getStickyFooterScrollbar=getStickyFooterScrollbar;exports.getStickyHeaderDates=getStickyHeaderDates;exports.getUnequalProps=getUnequalProps;exports.globalLocales=globalLocales;exports.globalPlugins=globalPlugins;exports.greatestDurationDenominator=greatestDurationDenominator;exports.guid=guid;exports.hasBgRendering=hasBgRendering;exports.hasShrinkWidth=hasShrinkWidth;exports.htmlToElement=htmlToElement;exports.identity=identity;exports.interactionSettingsStore=interactionSettingsStore;exports.interactionSettingsToStore=interactionSettingsToStore;exports.intersectRanges=intersectRanges;exports.intersectRects=intersectRects;exports.isArraysEqual=isArraysEqual;exports.isColPropsEqual=isColPropsEqual;exports.isDateSpansEqual=isDateSpansEqual;exports.isInt=isInt;exports.isInteractionValid=isInteractionValid;exports.isMultiDayRange=isMultiDayRange;exports.isPropsEqual=isPropsEqual;exports.isPropsValid=isPropsValid;exports.isSingleDay=isSingleDay;exports.isValidDate=isValidDate;exports.listenBySelector=listenBySelector;exports.mapHash=mapHash;exports.memoize=memoize;exports.memoizeArraylike=memoizeArraylike;exports.memoizeHashlike=memoizeHashlike;exports.memoizeObjArg=memoizeObjArg;exports.mergeEventStores=mergeEventStores;exports.multiplyDuration=multiplyDuration;exports.padStart=padStart;exports.parseBusinessHours=parseBusinessHours;exports.parseClassNames=parseClassNames;exports.parseDragMeta=parseDragMeta;exports.parseEventDef=parseEventDef;exports.parseFieldSpecs=parseFieldSpecs;exports.parseMarker=parse;exports.pointInsideRect=pointInsideRect;exports.preventContextMenu=preventContextMenu;exports.preventDefault=preventDefault;exports.preventSelection=preventSelection;exports.rangeContainsMarker=rangeContainsMarker;exports.rangeContainsRange=rangeContainsRange;exports.rangesEqual=rangesEqual;exports.rangesIntersect=rangesIntersect;exports.refineEventDef=refineEventDef;exports.refineProps=refineProps;exports.removeElement=removeElement;exports.removeExact=removeExact;exports.render=render;exports.renderChunkContent=renderChunkContent;exports.renderFill=renderFill;exports.renderMicroColGroup=renderMicroColGroup;exports.renderScrollShim=renderScrollShim;exports.requestJson=requestJson;exports.sanitizeShrinkWidth=sanitizeShrinkWidth;exports.setElSeg=setElSeg;exports.setRef=setRef;exports.sliceEventStore=sliceEventStore;exports.sliceEvents=sliceEvents;exports.sortEventSegs=sortEventSegs;exports.startOfDay=startOfDay;exports.translateRect=translateRect;exports.triggerDateSelect=triggerDateSelect;exports.unpromisify=unpromisify;exports.version=version;exports.whenTransitionDone=whenTransitionDone;exports.wholeDivideDurations=wholeDivideDurations;return exports}({}))